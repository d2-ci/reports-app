{"version":3,"file":"static/js/app.2fae8d9e.chunk.js","mappings":"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","sources":["D2App/locales/index.js","D2App/config/sections.config.js","D2App/utils/feedbackTypes.js","D2App/redux/actions/feedback.js","D2App/components/feedback/Snackbar.js","D2App/components/PageHelper.js","D2App/utils/backwardCompatability.js","D2App/utils/api/helpers.js","D2App/utils/api/constants.js","D2App/utils/dataSetReport/isCustomFormType.js","D2App/utils/api.js","D2App/utils/getDocsUrl.js","D2App/components/SectionHeadline.js","D2App/utils/react/propTypes.js","D2App/utils/styles/shared.js","D2App/utils/humanReadableErrorMessage.js","D2App/redux/actions/dataSet.js","D2App/redux/actions/dataSetDimensions.js","D2App/redux/actions/reportData.js","D2App/redux/actions/dataSetReport.js","D2App/redux/selectors/dataSetReport/getIsActionEnabled.js","D2App/utils/dataSetReport/isHtmlReport.js","D2App/utils/dataTransformCache.js","D2App/redux/selectors/dataSetReport/getTransformedTableData.js","D2App/pages/data-set-report/connectDataSetReport.js","D2App/components/ReportLoader.js","D2App/components/TabularReport/DownloadOptions.js","D2App/components/TabularReport/ReportComment.js","D2App/components/TabularReport/ReportTable.js","D2App/pages/standard-report/HtmlReportAssets.js","D2App/pages/standard-report/HtmlReport.js","D2App/pages/data-set-report/DataSetReportOutput.js","D2App/components/DataSetDimensions.js","D2App/components/DatasetsDropdown.js","D2App/redux/actions/orgUnitGroupSets.js","D2App/redux/actions/organisationUnits.js","D2App/components/AvailableOrganisationUnitsTree.js","D2App/components/OrganisationUnitGroupSets.js","D2App/components/OrgUnitsTreeWithExtraOptions.js","D2App/redux/actions/reportPeriod.js","D2App/utils/periods/fixedPeriods.js","D2App/utils/periods/relativePeriods.js","D2App/pages/standard-report/standard.report.conf.js","D2App/utils/boolean/isFalsy.js","D2App/utils/periods/periodTypes.js","D2App/utils/standardReport/index.js","D2App/redux/selectors/reportPeriod/periodTypes.js","D2App/components/PeriodPickerWithPeriodType.js","D2App/pages/data-set-report/Form.js","D2App/pages/DataSetReport.js","D2App/components/MenuElement.js","D2App/pages/home/Home.js","D2App/components/BarChart.js","D2App/components/TabularReport.js","D2App/redux/actions/orgUnitDistReport.js","D2App/redux/selectors/orgUnitDistReport/getIsActionEnabled.js","D2App/config/style.config.js","D2App/utils/dataTransformHelpers.js","D2App/redux/selectors/orgUnitDistReport/getTransformedChartData.js","D2App/redux/selectors/orgUnitDistReport/getTransformedTableData.js","D2App/pages/organisation-unit-distribution-report/connectOrganisationUnitDistributionReport.js","D2App/components/GroupSetsDropdown.js","D2App/pages/organisation-unit-distribution-report/Form.js","D2App/pages/OrganisationUnitDistributionReport.js","D2App/redux/selectors/reportingRateSummary/getIsActionEnabled.js","D2App/redux/selectors/reportingRateSummary/getTransformedTableData.js","D2App/pages/reporting-rate-summary/connectReportingRateSummary.js","D2App/redux/actions/reportingRateSummary.js","D2App/pages/reporting-rate-summary/Form.js","D2App/pages/ReportingRateSummary.js","D2App/config/search.config.js","D2App/redux/actions/pagination.js","D2App/redux/actions/resource.js","D2App/utils/resource/constants.js","D2App/components/form/Button.js","D2App/components/form/FormSection.js","D2App/components/form/FormRow.js","D2App/components/form/RadioButton.js","D2App/components/form/RadioButtons.js","D2App/pages/resource/add-edit-resource/ResourceForm/Attachment.js","D2App/components/form/buildingBlocks/ErrorText.js","D2App/components/form/File.js","D2App/utils/form/validators.js","D2App/pages/resource/add-edit-resource/ResourceForm/File.js","D2App/components/form/buildingBlocks/HelpText.js","D2App/components/form/styles.js","D2App/components/form/Input.js","D2App/pages/resource/add-edit-resource/ResourceForm/Name.js","D2App/components/form/FormSectionTitle.js","D2App/pages/resource/add-edit-resource/ResourceForm/Title.js","D2App/pages/resource/add-edit-resource/ResourceForm/TitleDetails.js","D2App/pages/resource/add-edit-resource/ResourceForm/TitleResource.js","D2App/components/form/Select.js","D2App/pages/resource/add-edit-resource/ResourceForm/Type.js","D2App/pages/resource/add-edit-resource/ResourceForm/Url.js","D2App/pages/resource/add-edit-resource/ResourceForm.js","D2App/pages/resource/helper.js","D2App/pages/resource/AddEditResource.js","D2App/redux/selectors/pagination/getPagerCurrentlyShown.js","D2App/components/SearchablePagedList.js","D2App/pages/resource/connectResource.js","D2App/pages/resource/ResourceActions.js","D2App/pages/Resource.js","D2App/utils/fileToText.js","D2App/redux/actions/standardReport.js","D2App/utils/boolean/identity.js","D2App/redux/selectors/standardReport/getEditFormInitialValues.js","D2App/components/form/CheckBox.js","D2App/components/form/CheckBoxes.js","D2App/components/form/CheckBoxGroups.js","D2App/redux/actions/standardReportTables.js","D2App/components/form/ReportTableSearchInput.js","D2App/config/standardReport.js","D2App/pages/standard-report/add-edit-report/DesignFileDownloadButton.js","D2App/pages/standard-report/add-edit-report/validate.js","D2App/pages/standard-report/add-edit-report/ReportForm.js","D2App/pages/standard-report/AddEditStdReport.js","D2App/pages/standard-report/StyledHtmlReport.js","D2App/pages/standard-report/connectStandardReport.js","D2App/pages/standard-report/helper.js","D2App/pages/standard-report/ReportParams.js","D2App/redux/selectors/organisationUnit/getSelectedOrgUnit.js","D2App/redux/selectors/reportPeriod/getSelectedReportPeriod.js","D2App/pages/standard-report/StandardReportActions.js","D2App/pages/StandardReport.js","D2App/components/NoMatch.js","D2App/components/AppRouter.js","D2App/redux/selectors/getIsUiBlocked.js","D2App/redux/selectors/feedback/getShowLoading.js","D2App/components/feedback/Loader.js","D2App/redux/selectors/sidebar/index.js","D2App/App.js","D2App/utils/history.js","D2App/redux/reducers/dataSet.js","D2App/redux/reducers/dataSetDimensions.js","D2App/redux/reducers/dataSetReport.js","D2App/redux/reducers/feedback.js","D2App/redux/reducers/organisationUnits.js","D2App/redux/reducers/orgUnitDistReport.js","D2App/redux/reducers/orgUnitGroupSets.js","D2App/redux/reducers/pagination.js","D2App/redux/reducers/reportData.js","D2App/redux/reducers/reportPeriod.js","D2App/redux/reducers/resource.js","D2App/redux/reducers/standardReport.js","D2App/redux/reducers/standardReportTables.js","D2App/redux/rootReducer.js","D2App/redux/store.js","D2App/utils/injectTranslationsToD2.js","D2App/AppWrapper.js"],"sourcesContent":["//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_EGTranslations from './ar_EG/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport bnTranslations from './bn/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport frTranslations from './fr/translations.json';\nimport hi_INTranslations from './hi_IN/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport neTranslations from './ne/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport orTranslations from './or/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport roTranslations from './ro/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport siTranslations from './si/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_CyrlTranslations from './uz_Cyrl/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_EG', namespace, ar_EGTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('bn', namespace, bnTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('hi_IN', namespace, hi_INTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('ne', namespace, neTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('or', namespace, orTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ro', namespace, roTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('si', namespace, siTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_Cyrl', namespace, uz_CyrlTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import i18n from '../locales/index.js';\nexport const STANDARD_REPORT_SECTION_KEY = 'standard-report';\nexport const DATA_SET_REPORT_SECTION_KEY = 'data-set-report';\nexport const REPORTING_RATE_SUMMARY_SECTION_KEY = 'reporting-rate-summary';\nexport const RESOURCE_SECTION_KEY = 'resource';\nexport const ORG_UNIT_DIST_REPORT_SECTION_KEY = 'organisation-unit-distribution-report';\nexport const DATA_APPROVAL_SECTION_KEY = 'data-approval';\nexport const sectionOrder = [STANDARD_REPORT_SECTION_KEY, DATA_SET_REPORT_SECTION_KEY, REPORTING_RATE_SUMMARY_SECTION_KEY, RESOURCE_SECTION_KEY, ORG_UNIT_DIST_REPORT_SECTION_KEY];\nexport const sections = {\n  [STANDARD_REPORT_SECTION_KEY]: {\n    key: STANDARD_REPORT_SECTION_KEY,\n    path: `/${STANDARD_REPORT_SECTION_KEY}`,\n    info: {\n      label: i18n.t('Standard Report'),\n      icon: 'bar_chart',\n      description: i18n.t('View and add reports based on the JasperReports library. These can be based on report tables and can be designed in iReport.'),\n      actionText: i18n.t('View Reports'),\n      docs: 'using_reporting_standard_reports'\n    }\n  },\n  [DATA_SET_REPORT_SECTION_KEY]: {\n    key: DATA_SET_REPORT_SECTION_KEY,\n    path: `/${DATA_SET_REPORT_SECTION_KEY}`,\n    info: {\n      label: i18n.t('Data Set Report'),\n      icon: 'assignment',\n      description: i18n.t('View data set reports. These reports are based on data entry screens and will produce a report with aggregated data.'),\n      actionText: i18n.t('Get Report'),\n      docs: 'using_reporting_dataset_reports'\n    }\n  },\n  [REPORTING_RATE_SUMMARY_SECTION_KEY]: {\n    key: REPORTING_RATE_SUMMARY_SECTION_KEY,\n    path: `/${REPORTING_RATE_SUMMARY_SECTION_KEY}`,\n    info: {\n      label: i18n.t('Reporting Rate Summary'),\n      description: i18n.t('Browse the reporting rates of data sets by organisation unit and period based on various criteria for submission.'),\n      actionText: i18n.t('Get Report'),\n      icon: 'format_list_bulleted',\n      docs: 'using_reporting_reporting_rate_summary'\n    }\n  },\n  [RESOURCE_SECTION_KEY]: {\n    key: RESOURCE_SECTION_KEY,\n    path: `/${RESOURCE_SECTION_KEY}`,\n    info: {\n      label: i18n.t('Resource'),\n      description: i18n.t('View and add resources. These resources can be uploaded documents or URLs on the web.'),\n      actionText: i18n.t('View Resources'),\n      icon: 'cloud_upload',\n      docs: 'using_reporting_resources'\n    }\n  },\n  [ORG_UNIT_DIST_REPORT_SECTION_KEY]: {\n    key: ORG_UNIT_DIST_REPORT_SECTION_KEY,\n    path: `/${ORG_UNIT_DIST_REPORT_SECTION_KEY}`,\n    info: {\n      label: i18n.t('Org unit distribution report'),\n      description: i18n.t('Browse the organisation unit distribution report based on the organisation unit group sets and its groups.'),\n      actionText: i18n.t('Get Report'),\n      icon: 'device_hub',\n      docs: 'using_reporting_orgunit_distribution_reports'\n    }\n  }\n};","export const ACTION_MESSAGE = 'ACTION_MESSAGE';\n// TODO: remove loading\nexport const LOADING = 'LOADING';\nexport const ERROR = 'ERROR';\nexport const SUCCESS = 'SUCCESS';\nexport const WARNING = 'WARNING';","import * as FEEDBACK_TYPES from '../../utils/feedbackTypes.js';\nexport const actionTypes = {\n  FEEDBACK_CLEAR: 'FEEDBACK_CLEAR',\n  FEEDBACK_SHOW_LOADER: 'FEEDBACK_SHOW_LOADER',\n  FEEDBACK_SHOW_SNACKBAR: 'FEEDBACK_SHOW_SNACKBAR'\n};\nexport const clearFeedback = () => ({\n  type: actionTypes.FEEDBACK_CLEAR\n});\nexport const showLoader = () => ({\n  type: actionTypes.FEEDBACK_SHOW_LOADER\n});\nexport const showSnackbar = function (message) {\n  let type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : FEEDBACK_TYPES.ACTION_MESSAGE;\n  return {\n    type: actionTypes.FEEDBACK_SHOW_SNACKBAR,\n    payload: {\n      message,\n      type\n    }\n  };\n};\nexport const showSuccessSnackBar = message => showSnackbar(message, FEEDBACK_TYPES.SUCCESS);\nexport const showErrorSnackBar = message => showSnackbar(message, FEEDBACK_TYPES.ERROR);\nexport const showWarningSnackBar = message => showSnackbar(message, FEEDBACK_TYPES.WARNING);\nexport const showConfirmationSnackBar = message => showSnackbar(message, FEEDBACK_TYPES.ACTION_MESSAGE);\n\n// TODO: remove this\nexport const updateFeedbackState = () => ({});","import { FeedbackSnackbar } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { clearFeedback } from '../../redux/actions/feedback.js';\nconst Snackbar = _ref => {\n  let {\n    showSnackbar,\n    message,\n    type,\n    action,\n    onActionClick,\n    onClose\n  } = _ref;\n  const conf = {\n    message,\n    type,\n    action,\n    onActionClick\n  };\n  return /*#__PURE__*/React.createElement(\"span\", {\n    id: \"feedbackSnackbarId\"\n  }, /*#__PURE__*/React.createElement(FeedbackSnackbar, {\n    onClose: onClose,\n    show: showSnackbar,\n    conf: conf\n  }));\n};\nSnackbar.propTypes = {\n  message: PropTypes.string.isRequired,\n  showSnackbar: PropTypes.bool.isRequired,\n  type: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n  action: PropTypes.string,\n  onActionClick: PropTypes.func\n};\nSnackbar.defaultProps = {\n  action: '',\n  onActionClick: () => null\n};\nconst mapStateToProps = _ref2 => {\n  let {\n    feedback\n  } = _ref2;\n  return {\n    showSnackbar: feedback.showSnackbar,\n    message: feedback.message,\n    type: feedback.type\n  };\n};\nconst mapDispatchToProps = {\n  onClose: clearFeedback\n};\nconst connectedSnackbar = connect(mapStateToProps, mapDispatchToProps)(Snackbar);\nexport { connectedSnackbar as Snackbar, Snackbar as SnackbarOriginal };","import _JSXStyle from \"styled-jsx/style\";\n/* React */\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst PageHelper = props => /*#__PURE__*/React.createElement(\"a\", {\n  href: props.url,\n  target: \"_blank\",\n  rel: \"noopener noreferrer\",\n  className: \"jsx-1199280612\" + \" \" + \"helper-icon material-icons\"\n}, \"help\", /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"1199280612\"\n}, [\"a.jsx-1199280612{padding-left:12px;color:#276696;-webkit-text-decoration:none;text-decoration:none;}\"]));\nPageHelper.propTypes = {\n  url: PropTypes.string.isRequired\n};\nexport default PageHelper;","import { getSystemMinorVersion } from './api.js';\n\n/*\nThe following API changes were introduced in v2.34:\n\n1. The `api/reportTables` endpoint was replaced by `api/visualizations`\n\n2. The response payload from this endpoint now looks slightly different:\n\n    < 2.34\n    \"reportParams\": {\n        \"paramGrandParentOrganisationUnit\": false,\n        \"paramReportingPeriod\": false,\n        \"paramOrganisationUnit\": false,\n        \"paramParentOrganisationUnit\": false\n    }\n\n    >= 2.34\n    \"reportingParams\": {\n        \"grandParentOrganisationUnit\": false,\n        \"reportingPeriod\": false,\n        \"organisationUnit\": false,\n        \"parentOrganisationUnit\": false\n    }\n\n3. From >= 2.34 onward we have to deal with some inconsistencies in the property names:\n    - `report.reportParams`\n    - `report.visualization.reportingParams`\n\nThe functions in this module are there to deal with these discrepancies. To avoid too many changes to the app state model, the following names have been settled on:\n1. `reportTables` in favour of `visualizations`\n2. `reportParams` in favour of `reportingParams`\n3. don't prefix reportParams properties with `param`,\n   i.e. `reportingPeriod` in favour of `paramReportingPeriod`\n\n\nWhen we drop support for version v2.33 these helpers can be removed and replaced\nwith much more simple and sane logic\n*/\n\nconst isBelowVersion34 = () => getSystemMinorVersion() < 34;\nconst isAtLeastVersion34 = () => !isBelowVersion34();\nconst getReportTableNameBySystemVersion = () => isBelowVersion34() ? 'reportTable' : 'visualization';\nconst getReportParamsFieldName = () => isBelowVersion34() ? 'reportParams' : 'reportingParams';\nexport const getReportTablesResourceNameBySystemVersion = () => `${getReportTableNameBySystemVersion()}s`;\nexport const getReportTablesFilterBySystemVersion = searchTerm => isAtLeastVersion34() ? [`identifiable:token:${searchTerm}`, 'type:eq:PIVOT_TABLE'] : [`name:ilike:${searchTerm}`];\n\n/**\n * Required fields for displaying the standard reports\n */\nexport const getStandardReportsFieldsBySystemVersion = () => {\n  const reportTableFieldName = getReportTableNameBySystemVersion();\n  const reportParamsFieldName = getReportParamsFieldName();\n  return ['displayName', 'type', 'id', `${reportTableFieldName}[id,displayName,${reportParamsFieldName},relativePeriods]`, 'reportParams', 'relativePeriods', 'access'];\n};\nconst getReportParamsPropertiesBySystemVersion = reportParams => {\n  if (isAtLeastVersion34() || !reportParams) {\n    return reportParams;\n  }\n  return {\n    reportingPeriod: reportParams.paramReportingPeriod,\n    grandParentOrganisationUnit: reportParams.paramGrandParentOrganisationUnit,\n    organisationUnit: reportParams.paramOrganisationUnit,\n    parentOrganisationUnit: reportParams.paramParentOrganisationUnit\n  };\n};\nexport const getStandardReportFieldsBySystemVersion = () => {\n  const reportTableField = isAtLeastVersion34() ? 'visualization[id,displayName]' : 'reportTable[id,displayName]';\n  return [':owner', reportTableField];\n};\nexport const formatStandardReportResponseBySystemVersion = reportModel => {\n  // handle both d2 model instances and plain objects\n  const reportJson = reportModel.toJSON ? reportModel.toJSON() : reportModel;\n  // <2.34 reportModel.reportTable, >=2.34 reportmodel.visualization\n  const reportTable = reportModel[getReportTableNameBySystemVersion()];\n  // <2.34 reportModel.reportTable.reportParams, >=2.34 reportmodel.visualization.reportingParams\n  const reportTableReportParams = reportTable && reportTable[getReportParamsFieldName()];\n  return {\n    ...reportJson,\n    reportParams: getReportParamsPropertiesBySystemVersion(reportJson.reportParams),\n    reportTable: {\n      // The JSON representation of a d2 reportModel is missing\n      // some of the reportTable properties such as reportParams\n      ...reportTable,\n      reportParams: getReportParamsPropertiesBySystemVersion(reportTableReportParams)\n    }\n  };\n};\nexport const formatStandardReportPayloadBySystemVersion = report => {\n  if (isAtLeastVersion34()) {\n    const visualization = report.reportTable;\n    delete report.reportTable;\n    return {\n      ...report,\n      visualization\n    };\n  }\n  const rp = report.reportParams;\n  return {\n    ...report,\n    reportParams: {\n      paramGrandParentOrganisationUnit: rp.grandParentOrganisationUnit,\n      paramOrganisationUnit: rp.organisationUnit,\n      paramParentOrganisationUnit: rp.parentOrganisationUnit,\n      paramReportingPeriod: rp.reportingPeriod\n    }\n  };\n};","import { getApi } from '../api.js';\nimport { formatStandardReportResponseBySystemVersion } from '../backwardCompatability.js';\nimport { FILE_RESOURCES_ENDPOINT } from './constants.js';\n\n/**\n * @param {Object} d2 ModelCollection instance\n * @return {Array<string>}\n */\nexport const mapResponseToArrayOfIds = model => model.toArray().map(_ref => {\n  let {\n    id\n  } = _ref;\n  return id;\n});\n\n/**\n * @param {string} name\n * @param {Object} model\n * @return {Object} The model with the filter if it wasn't an empty string otherwise the model without the filter\n */\nexport const addFilterForName = (name, model) => !name ? model : model.filter().on('displayName').ilike(name);\n\n/**\n * @param {Promise} request\n * @returns {Object}\n */\nexport const formatStandardReportsResponse = reportsCollection => {\n  const reports = reportsCollection.toArray().map(formatStandardReportResponseBySystemVersion);\n  const pager = {\n    pageSize: reportsCollection.pager.query.pageSize,\n    page: reportsCollection.pager.page,\n    pageCount: reportsCollection.pager.pageCount,\n    total: reportsCollection.pager.total\n  };\n  return {\n    reports,\n    pager\n  };\n};\n\n/**\n * @param {...Object} collections\n * @returns {string[]}\n */\nexport const mapCollectionToDimensionQueryString = function () {\n  for (var _len = arguments.length, collections = new Array(_len), _key = 0; _key < _len; _key++) {\n    collections[_key] = arguments[_key];\n  }\n  return collections.reduce((dimensionQueryString, collection) => [...dimensionQueryString, ...Object.keys(collection).map(key => `${key}:${collection[key]}`)], []);\n};\n/**\n * @param {Object} req - D2 AnalyticsRequest instance\n * @param {Array<String>} extensions - File extensions needed\n * @returns {Object} - An object containing the download links for the requested file extensions\n */\nexport const getAnalyticsFileUrls = (req, extensions) => {\n  const query = req.buildQuery();\n  const suffix = Object.keys(query).reduce((suffix, key) => suffix += `&${key}=${query[key]}`, '');\n  const jsonUrl = `${getApi().baseUrl}/${req.buildUrl()}${suffix}`;\n  return extensions.reduce((fileUrls, extension) => {\n    fileUrls.push({\n      extension,\n      url: jsonUrl.replace('analytics.json?', `analytics.${extension}?`)\n    });\n    return fileUrls;\n  }, []);\n};\nexport const getDataSetReportFileUrls = (resourceUrl, options) => {\n  const mergedFilters = {\n    ...options.dataSetDimensions,\n    ...options.orgUnitGroupsOptions\n  };\n  const baseQueryStr = buildQueryString({\n    ds: options.dataSet.id,\n    pe: options.period,\n    ou: options.orgUnit,\n    selectedUnitOnly: options.selectedUnitOnly\n  });\n  const filterQueryStr = Object.keys(mergedFilters).map(key => `filter=${key}:${mergedFilters[key]}`).join('&');\n  const fullQueryStr = filterQueryStr ? `${baseQueryStr}&${filterQueryStr}` : baseQueryStr;\n  return getFileUrls(resourceUrl, fullQueryStr, ['xls', 'pdf']);\n};\n\n/**\n * @param {Object} api\n * @param {File} file\n * @returns {Promise}\n */\nexport const uploadFile = (api, file) => {\n  const formData = new FormData();\n  formData.append('file', file);\n  formData.append('domain', 'DOCUMENT');\n  return api.post(FILE_RESOURCES_ENDPOINT, formData);\n};\n\n/**\n * @param {Object} resource\n * @param {File} file\n * @returns {Object}\n */\nexport const addFileResourceUrlToResource = (resource, file) => ({\n  ...resource,\n  url: file.id || resource.url\n});\n\n/**\n * @param {String} endpoint\n * @param {string} queryString\n * @param {Array<String>} extensions - file extensions to produce\n * @returns {Array} - Array of objects with extension and url properties\n */\nexport const getFileUrls = (endPoint, queryString, extensions) => extensions.map(extension => ({\n  extension,\n  url: `${getApi().baseUrl}/${endPoint}.${extension}?${queryString}`\n}));\n\n/**\n * Takes an object and returns a query string\n * For arrays it will create a semi-colon-delimited string\n * @param {Object} o - object to base the queryString upon\n * @example\n * buildQueryString({a: 'yeah', b: ['u', 1]})\n * // returns 'a=yeah&b=u;1'\n * @returns {String} - query string\n */\nexport const buildQueryString = o => {\n  return Object.keys(o).reduce((acc, key) => {\n    const value = Array.isArray(o[key]) ? o[key].join(';') : o[key];\n    acc.push(`${key}=${value}`);\n    return acc;\n  }, []).join('&');\n};\n\n// Url creaters\nexport const postDataSetReportCommentUrl = (dataSetId, orgUnitId, period) => `interpretations/dataSetReport/${dataSetId}?pe=${period}&ou=${orgUnitId}`;","export const DATA_SET_DIMENSIONS_ENDPOINT = 'dimensions/dataSet';\nexport const DATA_SET_REPORT_INTERPOLATION_ENDPOINT = 'interpretations/dataSetReport';\nexport const DATA_SET_REPORTS_ENDPOINT = 'dataSetReport';\nexport const FILE_RESOURCES_ENDPOINT = 'fileResources';\nexport const ORG_UNIT_DISTRIBUTION_REPORT_ENDPOINT = 'orgUnitAnalytics';\nexport const REPORTING_RATE_SUMMARY_ENDPOINT = 'organisationUnits/%orgUnitId%/rateSummary';\nexport const RESOURCE_ENDPOINT = 'documents';\nexport const STANDARD_REPORTS_ENDPOINT = 'reports';\n\n// Url creaters\nexport const postDataSetReportCommentUrl = (dataSetId, orgUnitId, period) => `${DATA_SET_REPORT_INTERPOLATION_ENDPOINT}/${dataSetId}?pe=${period}&ou=${orgUnitId}`;\nexport const DATA_DIMENSION_SUFFIXES = ['ACTUAL_REPORTS', 'EXPECTED_REPORTS', 'REPORTING_RATE', 'ACTUAL_REPORTS_ON_TIME', 'REPORTING_RATE_ON_TIME'];","export const isCustomFormType = formType => formType === 'CUSTOM';","import { addFileResourceUrlToResource, uploadFile, addFilterForName, formatStandardReportsResponse, mapCollectionToDimensionQueryString, mapResponseToArrayOfIds, getAnalyticsFileUrls, buildQueryString, getFileUrls, postDataSetReportCommentUrl, getDataSetReportFileUrls } from './api/helpers.js';\nimport { getReportTablesResourceNameBySystemVersion, getReportTablesFilterBySystemVersion, getStandardReportsFieldsBySystemVersion, formatStandardReportResponseBySystemVersion, getStandardReportFieldsBySystemVersion } from './backwardCompatability.js';\nimport { isCustomFormType } from './dataSetReport/isCustomFormType.js';\nimport { isDevelopment } from './env/isDevelopment.js';\nexport const RESOURCE_ENDPOINT = 'documents';\nconst DATA_DIMENSION_SUFFIXES = ['ACTUAL_REPORTS', 'EXPECTED_REPORTS', 'REPORTING_RATE', 'ACTUAL_REPORTS_ON_TIME', 'REPORTING_RATE_ON_TIME'];\nconst STANDARD_REPORTS_ENDPOINT = 'reports';\nlet d2;\nlet api;\n\n/**\n * Sets d2 and the api\n */\nexport const initApi = d2Instance => {\n  d2 = d2Instance;\n  api = d2.Api.getApi();\n  if (isDevelopment()) {\n    window.d2 = d2;\n    window.d2Api = api;\n  }\n};\n\n/**\n * @return {Object} d2 instance\n */\nexport const getD2 = () => d2;\n\n/**\n * @return {Object} d2 api instance\n */\nexport const getApi = () => api;\n\n/**\n * @returns {string} context path\n */\nexport const getContextPath = () => d2.system.systemInfo.contextPath;\n\n/**\n * @typedef {Object} Version\n * @property {number} major The major version\n * @property {number} minor The minor version\n * @property {boolean} snapshot Flag to indicate if build is a snapshot\n */\n\n/**\n * @returns {Version} The dhis2-core instance version\n */\nexport const getSystemVersion = () => d2.system.version;\n\n/**\n * @returns {Number} The dhis2-core instance minor version\n */\nexport const getSystemMinorVersion = () => d2.system.version.minor;\n\n/**\n * @return {Promise} Period types\n */\nexport const getPeriodTypes = () => api.get('periodTypes').then(resp => resp.periodTypes);\n\n/**\n * @return {Promise} Organisation units\n */\nexport const getOrganisationUnits = async () => {\n  const orgUnitFields = ['id', 'displayName', 'path', 'children::isNotEmpty', 'memberCount'].join(',');\n  const organisationUnits = await d2.currentUser.getDataViewOrganisationUnits({\n    fields: orgUnitFields\n  });\n  if (organisationUnits.size > 0) {\n    return organisationUnits.toArray();\n  } else {\n    const orgUnitModel = await d2.models.organisationUnits.list({\n      paging: false,\n      level: 1,\n      fields: orgUnitFields\n    });\n    return orgUnitModel.toArray();\n  }\n};\n\n/**\n * @param {Array} dataSetOptions\n * @param {Array} orgUnitGroupsOptions\n * @param {string} dataSetId\n * @param {string} orgUnit\n * @param {string} period\n * @param {bool} selectedUnitOnly\n * @returns {Promise}\n */\nexport const getDataSetReport = options => {\n  const endPoint = 'dataSetReport';\n  const url = isCustomFormType(options.dataSet.formType) ? `${endPoint}/custom` : endPoint;\n  const data = {\n    ds: options.dataSet.id,\n    pe: options.period,\n    ou: options.orgUnit,\n    selectedUnitOnly: options.selectedUnitOnly,\n    filter: mapCollectionToDimensionQueryString(options.dataSetDimensions, options.orgUnitGroupsOptions)\n  };\n  const requestOptions = isCustomFormType(options.dataSet.formType) ? {\n    headers: {\n      Accept: 'text/html'\n    }\n  } : {};\n  const fileUrls = getDataSetReportFileUrls(endPoint, options);\n  return api.get(url, data, requestOptions).then(response => ({\n    data: response,\n    fileUrls\n  }));\n};\n\n/**\n * @param {string} dataSetId\n * @returns {Promise<array>} The dimensions for a given dataset\n */\nexport const getDimensions = dataSetId => api.get(`dimensions/dataSet/${dataSetId}`, {\n  fields: ['id', 'displayName', 'items[id,displayName]'].join(','),\n  order: 'name:asc',\n  paging: false\n}).then(_ref => {\n  let {\n    dimensions\n  } = _ref;\n  return dimensions;\n});\n\n/**\n * @param {string} dataSetId\n * @param {string} orgUnitId\n * @param {string} period\n * @param {string} comment\n * @returns {Promise}\n */\nexport const postDataSetReportComment = (dataSetId, orgUnitId, period, comment) => {\n  const endpointUrl = postDataSetReportCommentUrl(dataSetId, orgUnitId, period);\n  const requestHeaders = {\n    headers: {\n      'Content-Type': 'text/plain'\n    }\n  };\n  return api.post(endpointUrl, comment, requestHeaders);\n};\n\n/**\n * @param {Object} orgUnit\n * @param {string} dataSetId\n * @param {string} period\n * @param {Object} orgUnitOptions\n * @returns {Promise}\n */\nexport const getReportingRateSummaryReport = async (orgUnit, dataSetId, period, orgUnitOptions) => {\n  const orgUnitIds = await getOrgUnitAndChildrenIds(orgUnit);\n  const dataDimensions = DATA_DIMENSION_SUFFIXES.map(suffix => `${dataSetId}.${suffix}`);\n  const req = new d2.analytics.request().addDataDimension(dataDimensions).addOrgUnitDimension(orgUnitIds).addPeriodFilter(period).withColumns('dx').withRows('ou').withTableLayout().withHideEmptyRows().withDisplayProperty('SHORTNAME').withIncludeNumDen(false);\n  for (const key in orgUnitOptions) {\n    if (orgUnitOptions[key]) {\n      req.addFilter(key, orgUnitOptions[key]);\n    }\n  }\n\n  // Instead of calling `d2.analytics.aggregate.get(req)`, which spawns two parallel requests,\n  // we're just building the .json url from the request instance and call the regular `api.get(url)`,\n  // which only spawns a single request\n  const extensions = ['json', 'xls', 'csv'];\n  const [{\n    url\n  }, ...fileUrls] = getAnalyticsFileUrls(req, extensions);\n  return api.get(url).then(data => ({\n    ...data,\n    fileUrls\n  }));\n};\n\n/**\n * @param {Object} orgUnit\n * @returns {Promise} - Array of IDs of the orgUnit and its direct descendants\n */\nexport const getOrgUnitAndChildrenIds = orgUnit => {\n  const children = orgUnit.children.size ? Promise.resolve(orgUnit.children) : d2.models.organisationUnits.get(orgUnit.id, {\n    fields: ['children[id]']\n  }).then(_ref2 => {\n    let {\n      children\n    } = _ref2;\n    return children;\n  });\n  return children.then(children => [orgUnit.id, ...mapResponseToArrayOfIds(children)]);\n};\n\n/**\n * @returns {Promise}\n */\nexport const getOrgUnitGroupSets = () => d2.models.organisationUnitGroupSet.list({\n  paging: false,\n  fields: 'id,displayName,organisationUnitGroups[id,displayName]'\n});\n\n/**\n * @param {Object} orgUnit\n * @param {string} groupSetId\n * @returns {Promise}\n */\nexport const getOrgUnitDistReport = async (orgUnit, groupSetId, shouldShowChart) => {\n  const orgUnitIds = shouldShowChart ? orgUnit.id : await getOrgUnitAndChildrenIds(orgUnit);\n  const endPoint = 'orgUnitAnalytics';\n  const queryString = buildQueryString({\n    ou: orgUnitIds,\n    ougs: groupSetId,\n    columns: groupSetId\n  });\n  const relativeUrl = `${endPoint}?${queryString}`;\n  const fileUrls = getFileUrls(endPoint, queryString, ['xls', 'pdf']);\n  return api.get(relativeUrl).then(response => ({\n    ...response,\n    fileUrls\n  }));\n};\n\n/**\n * @returns {Promise}\n */\nexport const getResources = (page, pageSize, search) => {\n  const requestData = {\n    page,\n    pageSize,\n    fields: 'displayName,id,url,external,access'\n  };\n  if (search) {\n    requestData.filter = `displayName:ilike:${search}`;\n  }\n  return api.get(RESOURCE_ENDPOINT, requestData);\n};\n\n/**\n * @returns {Promise}\n */\nexport const getResourceById = id => {\n  return api.get(`${RESOURCE_ENDPOINT}/${id}`);\n};\n\n/**\n * @returns {Promise}\n */\nexport const deleteResource = resourceId => api.delete(`${RESOURCE_ENDPOINT}/${resourceId}`);\n\n/**\n * @returns {Promise}\n */\nexport const getStandardReportTables = searchTerm => {\n  const resourceName = getReportTablesResourceNameBySystemVersion();\n  const filter = getReportTablesFilterBySystemVersion(searchTerm);\n  return api.get(resourceName, {\n    paging: true,\n    pageSize: 30,\n    fields: 'id,displayName',\n    filter\n  }).then(response => response[resourceName]);\n};\n\n/**\n * @param {Object} report\n * @returns {Promise}\n */\nexport const postStandardReport = report => api.post(STANDARD_REPORTS_ENDPOINT, report);\n\n/**\n * @param {Object} report\n * @returns {Promise}\n */\nexport const updateStandardReport = report => api.update(`${STANDARD_REPORTS_ENDPOINT}/${report.id}`, report);\n\n/**\n * @returns {Promise}\n */\nexport const getDataSetOptions = () => d2.models.dataSet.list({\n  paging: false,\n  fields: 'id,displayName,formType'\n}).then(response => response.toArray());\n\n/**\n * @param {Object} api\n * @param {Object} resource\n * @returns {Promise}\n */\nexport const postDocument = (api, resource) => api.post(RESOURCE_ENDPOINT, resource);\n\n/**\n * @param {Object} api\n * @param {string} resourceId\n * @param {Object} resource\n * @returns {Promise}\n */\nexport const putDocument = (api, resourceId, resource) => api.update(`${RESOURCE_ENDPOINT}/${resourceId}`, resource);\n\n/**\n * @param {Object} resource\n * @param {File} [file] - an optional file\n * @returns {Promise}\n */\nexport const postResource = function (resource) {\n  let file = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return file ? uploadFile(api, file).then(_ref3 => {\n    let {\n      response\n    } = _ref3;\n    return Promise.resolve(addFileResourceUrlToResource(resource, response.fileResource));\n  }).then(resource => postDocument(api, resource)) : postDocument(api, resource);\n};\n\n/**\n * @param {Object} resource\n * @param {File} [file] - an optional file\n * @returns {Promise}\n */\nexport const putResource = function (resourceId, resource) {\n  let file = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  return file ? uploadFile(api, file).then(_ref4 => {\n    let {\n      response\n    } = _ref4;\n    return Promise.resolve(addFileResourceUrlToResource(resource, response.fileResource));\n  }).then(resource => putDocument(api, resourceId, resource)) : putDocument(api, resourceId, resource);\n};\n\n/**\n * =================================\n * Standard report\n * =================================\n */\n\n/**\n * @param {number} page\n * @param {number} pageSize\n * @param {string} nameFilter\n * @return {Promise}\n */\nexport const getFilteredStandardReports = (page, pageSize, nameFilter) => addFilterForName(nameFilter, d2.models.report).list({\n  page,\n  pageSize,\n  fields: getStandardReportsFieldsBySystemVersion()\n}).then(formatStandardReportsResponse);\n\n/**\n * @param {string} id\n * @returns {Promise}\n */\nexport const getStandardReportDetails = id => api.get(`${STANDARD_REPORTS_ENDPOINT}/${id}`, {\n  fields: getStandardReportFieldsBySystemVersion()\n}).then(formatStandardReportResponseBySystemVersion);\n\n/**\n * @param {string} id\n * @return {Promise}\n */\nexport const deleteStandardReport = id => api.delete(`${STANDARD_REPORTS_ENDPOINT}/${id}`);\n\n/**\n * @param {string} id\n * @returns {Promise}\n */\nexport const getStandardReportHtmlReport = (id, requestBody) => api.get(`reports/${id}/data.html`, {\n  t: new Date().getTime(),\n  ...requestBody\n});","import { sections } from '../config/sections.config.js';\nimport { getSystemVersion } from './api.js';\nexport const DOCS_LINK = 'https://docs.dhis2.org';\nexport const DEFAULT_DOC_LANGUAGE = 'en';\n\n/**\n * Returns the \"version\" of the documentation that corresponds with the current dhis2 version.\n *\n * @param {Object} version - The version definition as provided by d2.system.version.\n * @param {number} version.minor - The minor dhis2 version. e.g. The 25 in 2.25.\n * @param {boolean} version.snapshot - True when the current version is the snapshot(master/development) branch.\n *\n * @returns {string} `master` for a snapshot branch. `25` for 2.25 etc.\n */\nconst getDocsVersion = () => {\n  const {\n    major,\n    minor,\n    snapshot\n  } = getSystemVersion();\n  if (snapshot) {\n    return 'master';\n  }\n  return `${major}.${minor}`;\n};\nexport const getDocsUrl = function (sectionKey) {\n  let lng = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_DOC_LANGUAGE;\n  const baseUrl = `${DOCS_LINK}/${getDocsVersion()}/${lng}/user/html/`;\n  return `${baseUrl}${sections[sectionKey].info.docs}.html`;\n};\nexport default getDocsUrl;","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport PageHelper from '../components/PageHelper.js';\nimport { getDocsUrl } from '../utils/getDocsUrl.js';\nexport const SectionHeadline = props => /*#__PURE__*/React.createElement(\"h1\", {\n  className: \"jsx-1405635200\"\n}, props.showBackButton && /*#__PURE__*/React.createElement(\"span\", {\n  id: \"back-button\",\n  role: \"button\",\n  tabIndex: \"0\",\n  onClick: props.onBackClick,\n  className: \"jsx-1405635200\" + \" \" + \"material-icons back-button\"\n}, \"arrow_back\"), props.label, /*#__PURE__*/React.createElement(PageHelper, {\n  url: getDocsUrl(props.sectionKey)\n}), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"1405635200\"\n}, [\"h1.jsx-1405635200{margin-bottom:0;}\", \".back-button.jsx-1405635200{cursor:pointer;outline:none;padding:12px;}\"]));\nSectionHeadline.propTypes = {\n  label: PropTypes.string.isRequired,\n  sectionKey: PropTypes.string.isRequired,\n  showBackButton: PropTypes.bool,\n  onBackClick: PropTypes.func\n};\nSectionHeadline.defaultProps = {\n  showBackButton: false,\n  onBackClick: () => undefined\n};","import PropTypes from 'prop-types';\nexport const children = PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]);\nexport const reportContent = PropTypes.oneOfType([PropTypes.string, PropTypes.array, PropTypes.object]);\n\n/**\n *\n * Form prop types\n *\n */\nexport const formInput = PropTypes.shape({\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  onBlur: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onFocus: PropTypes.func.isRequired\n});\nexport const formInputMeta = PropTypes.shape({\n  touched: PropTypes.bool.isRequired,\n  error: PropTypes.string // is undefined when no error..\n});\nexport const formOption = PropTypes.shape({\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired\n});\nexport const formOptions = PropTypes.arrayOf(formOption);","import _JSXStyle from \"styled-jsx/style\";\n// eslint-disable-next-line no-unused-vars\nimport React from 'react';\nexport const formLabel = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"4279021995\"\n  }, [\".jsx-4279021995{text-align:left;color:#757575;margin-bottom:5px;font-size:14px;}\"]),\n  className: \"jsx-4279021995\"\n};\nexport const container = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"115527779\"\n  }, [\".jsx-115527779{padding:16px;margin-top:16px;}\"]),\n  className: \"jsx-115527779\"\n};\nexport const card = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2551733070\"\n  }, [\".jsx-2551733070{box-sizing:border-box;display:inline-block;position:relative;min-width:200px;min-height:218px;height:100%;padding-left:30px;padding-right:30px;padding-bottom:20px;background-color:#ffffff;box-shadow:rgba(0,0,0,0.12) 0px 1px 6px, rgba(0,0,0,0.12) 0px 1px 4px;border-radius:5px;width:100%;}\"]),\n  className: \"jsx-2551733070\"\n};\nexport const formCard = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2165642276\"\n  }, [\".jsx-2165642276{padding:2rem 5rem 4rem;}\"]),\n  className: \"jsx-2165642276\"\n};\nexport const formLoader = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3618883681\"\n  }, [\".jsx-3618883681{padding-top:2rem;text-align:center;}\"]),\n  className: \"jsx-3618883681\"\n};\nexport const actionsContainer = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3492242264\"\n  }, [\".jsx-3492242264{display:block;margin-top:48px;margin-bottom:16px;}\"]),\n  className: \"jsx-3492242264\"\n};","import i18n from '@dhis2/d2-i18n';\n/**\n * It is preffered to show the error message from the server it is a 401-499 code\n * The final error message is determined with the following priority\n * messageFromError > fallbackMessageArgument > defaultFallBackMessage\n * @param {Object} error - The error object\n * @param {Number} error.httpStatusCode - The error status code\n * @param {Number} error.message - The error message\n * @param {String} fallbackMsg - The message to show in case the actual message is not human readable\n */\n\nexport const fallBackDefault = i18n.t('Something went wrong when processing your request.');\nexport default function humanReadableErrorMessage() {\n  let errorInstance = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let fallbackMsg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : fallBackDefault;\n  const {\n    messages,\n    httpStatusCode\n  } = errorInstance;\n  let {\n    message\n  } = errorInstance;\n  const useMessage = httpStatusCode && httpStatusCode >= 400 && httpStatusCode < 500 || !httpStatusCode && messages && messages.length > 0;\n  if (!message && messages && messages.length > 0) {\n    message = messages.map(_ref => {\n      let {\n        message\n      } = _ref;\n      return message;\n    }).join(', ');\n  }\n  return useMessage ? message : fallbackMsg;\n}","import i18n from '@dhis2/d2-i18n';\nimport { getDataSetOptions } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showErrorSnackBar } from './feedback.js';\nexport const actionTypes = {\n  SELECT_DATA_SET: 'SELECT_DATA_SET',\n  LOADING_DATA_SET_OPTIONS_START: 'LOADING_DATA_SET_OPTIONS_START',\n  LOADING_DATA_SET_OPTIONS_SUCCESS: 'LOADING_DATA_SET_OPTIONS_SUCCESS',\n  LOADING_DATA_SET_OPTIONS_ERROR: 'LOADING_DATA_SET_OPTIONS_ERROR'\n};\nexport const selectDataSet = dataSetId => ({\n  type: actionTypes.SELECT_DATA_SET,\n  payload: dataSetId\n});\nexport const loadingDataSetOptionsStart = () => ({\n  type: actionTypes.LOADING_DATA_SET_OPTIONS_START\n});\nexport const loadingDataSetOptionsSuccess = options => ({\n  type: actionTypes.LOADING_DATA_SET_OPTIONS_SUCCESS,\n  payload: options\n});\nexport const loadingDataSetOptionsError = () => ({\n  type: actionTypes.LOADING_DATA_SET_OPTIONS_ERROR\n});\n\n/**\n * @param {Error} error\n * @returns {Function}\n */\nexport const loadingDataSetOptionsErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred whole loading the data set options');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingDataSetOptionsError());\n};\nexport const loadDataSetOptions = function () {\n  let filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  return dispatch => {\n    dispatch(loadingDataSetOptionsStart());\n    return getDataSetOptions().then(options => filter ? options.filter(filter) : options).then(options => dispatch(loadingDataSetOptionsSuccess(options))).catch(error => dispatch(loadingDataSetOptionsErrorWithFeedback(error)));\n  };\n};","import i18n from '@dhis2/d2-i18n';\nimport { getDimensions } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showWarningSnackBar } from './feedback.js';\nexport const actionTypes = {\n  LOADING_DIMENSIONS_START: 'LOADING_DIMENSIONS_START',\n  LOADING_DIMENSIONS_SUCCESS: 'LOADING_DIMENSIONS_SUCCESS',\n  LOADING_DIMENSIONS_ERROR: 'LOADING_DIMENSIONS_ERROR',\n  SELECT_DIMENSION_OPTION: 'SELECT_DIMENSION_OPTION'\n};\n\n/**\n * @returns {Object}\n */\nexport const loadingDimensionsStart = () => ({\n  type: actionTypes.LOADING_DIMENSIONS_START\n});\n\n/**\n * @param {Array} dimensions\n * @returns {Object}\n */\nexport const loadingDimensionsSuccess = dimensions => ({\n  type: actionTypes.LOADING_DIMENSIONS_SUCCESS,\n  payload: dimensions\n});\nexport const loadingDimensionsError = () => ({\n  type: actionTypes.LOADING_DIMENSIONS_ERROR\n});\n\n/**\n * @param (Error) error\n * @returns {Function}\n */\nexport const loadingDimensionsErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the data set dimensions');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showWarningSnackBar(displayMessage));\n  dispatch(loadingDimensionsError());\n};\n\n/**\n * @param {string} dimension\n * @param {string} value\n * @returns {Object}\n */\nexport const selectDimensionOption = (dimension, value) => ({\n  type: actionTypes.SELECT_DIMENSION_OPTION,\n  payload: {\n    dimension,\n    value\n  }\n});\n\n/**\n * @returns {Function}\n */\nexport const loadDimensions = () => (dispatch, getState) => {\n  dispatch(loadingDimensionsStart());\n  const {\n    dataSet\n  } = getState();\n  return getDimensions(dataSet.selected.id).then(dimensions => dispatch(loadingDimensionsSuccess(dimensions))).catch(error => dispatch(loadingDimensionsErrorWithFeedback(error)));\n};","import i18n from '@dhis2/d2-i18n';\nimport XLSX from 'xlsx';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showLoader, showSuccessSnackBar, showErrorSnackBar } from './feedback.js';\nexport const actionTypes = {\n  LOADING_REPORT_DATA_START: 'LOADING_REPORT_DATA_START',\n  LOADING_REPORT_DATA_SUCCESS: 'LOADING_REPORT_DATA_SUCCESS',\n  LOADING_REPORT_DATA_ERROR: 'LOADING_REPORT_DATA_ERROR',\n  SET_DATA_SET_REPORT_COMMENT: 'SET_DATA_SET_REPORT_COMMENT',\n  DOWNLOAD_DATA_SET_REPORT_XLS: 'DOWNLOAD_DATA_SET_REPORT_XLS',\n  SHARING_DATA_SET_REPORT_COMMENT_SUCCESS: 'SHARING_DATA_SET_REPORT_COMMENT_SUCCESS',\n  SHARING_DATA_SET_REPORT_COMMENT_START: 'SHARING_DATA_SET_REPORT_COMMENT_START',\n  SHARING_DATA_SET_REPORT_COMMENT_ERROR: 'SHARING_DATA_SET_REPORT_COMMENT_ERROR',\n  UNSET_REPORT_DATA: 'UNSET_REPORT_DATA'\n};\n\n/**\n * @returns {Object}\n */\nexport const loadingReportDataStart = () => ({\n  type: actionTypes.LOADING_REPORT_DATA_START\n});\n\n/**\n * @param {string} reportData\n * @returns {Object}\n */\nexport const loadingReportDataSuccess = reportData => ({\n  type: actionTypes.LOADING_REPORT_DATA_SUCCESS,\n  payload: reportData\n});\n\n/**\n * @returns {Object}\n */\nexport const loadingReportDataError = () => ({\n  type: actionTypes.LOADING_REPORT_DATA_ERROR\n});\n\n/**\n * @param {string} reportData\n * @return {Object}\n */\nexport const loadingReportDataSuccessWithFeedback = (reportData, shouldShowChart) => dispatch => {\n  const successMsg = i18n.t('Successfully loaded the {{ outputType }}', {\n    outputType: shouldShowChart ? i18n.t('chart') : i18n.t('table')\n  });\n  dispatch(showSuccessSnackBar(i18n.t(successMsg)));\n  dispatch(loadingReportDataSuccess(reportData));\n};\n\n/**\n * @param {Error} error\n */\nexport const loadingReportDataErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the report!');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingReportDataError());\n};\n\n// @TODO: not sure this is needed.\n// Not required for reporting-rate-summary\nexport const unsetReportData = () => ({\n  type: actionTypes.UNSET_REPORT_DATA\n});\n\n/**\n * @param {DOMElement[]} tableNodes\n * @return {Object}\n */\n// @TODO: not sure this is needed. I think this can be removed\nexport const exportReportToXls = tableNodes => {\n  const workbook = XLSX.utils.book_new();\n  tableNodes.forEach((tableNode, index) => {\n    const worksheet = XLSX.utils.table_to_sheet(tableNode);\n    XLSX.utils.book_append_sheet(workbook, worksheet, `Worksheet ${index}`);\n  });\n  XLSX.writeFile(workbook, 'report.xlsx');\n  return {\n    type: actionTypes.DOWNLOAD_DATA_SET_REPORT_XLS\n  };\n};\n\n/**\n * @param {string} comment\n * @returns {Object}\n */\nexport const setReportComment = comment => ({\n  type: actionTypes.SET_DATA_SET_REPORT_COMMENT,\n  payload: comment\n});\n\n/**\n * @returns {Object}\n */\nexport const sharingReportCommentStart = () => ({\n  type: actionTypes.SHARING_DATA_SET_REPORT_COMMENT_START\n});\n\n/**\n * @returns {Object}\n */\nexport const sharingReportCommentSuccess = () => ({\n  type: actionTypes.SHARING_DATA_SET_REPORT_COMMENT_SUCCESS\n});\n\n/**\n * @returns {Object}\n */\nexport const sharingReportCommentError = () => ({\n  type: actionTypes.SHARING_DATA_SET_REPORT_COMMENT_ERROR\n});\n\n/**\n * @returns {Function}\n */\nexport const sharingReportCommentStartWithFeedback = () => dispatch => {\n  dispatch(showLoader());\n  dispatch(sharingReportCommentStart());\n};\n\n/**\n * @returns {Function}\n */\nexport const sharingReportCommentSuccessWithFeedback = () => dispatch => {\n  dispatch(showSuccessSnackBar(i18n.t('Successfully added comment')));\n  dispatch(sharingReportCommentSuccess());\n};\n\n/**\n * @param {Error} error\n * @returns {Function}\n */\nexport const sharingReportCommentErrorWithFeedback = error => dispatch => {\n  const defaultMessge = i18n.t('An error occurred while submitting your comment!');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessge);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(sharingReportCommentError());\n};","import { getDataSetReport, postDataSetReportComment } from '../../utils/api.js';\nimport { selectDataSet as selectDataSetOriginal } from './dataSet.js';\nimport { loadDimensions } from './dataSetDimensions.js';\nimport { loadingReportDataStart, loadingReportDataSuccessWithFeedback, loadingReportDataErrorWithFeedback, sharingReportCommentStartWithFeedback, sharingReportCommentSuccessWithFeedback, sharingReportCommentErrorWithFeedback } from './reportData.js';\nexport const actionTypes = {\n  SHOW_DATA_SET_REPORT_FORM: 'SHOW_DATA_SET_REPORT_FORM',\n  TOGGLE_SELECTED_UNIT_ONLY: 'TOGGLE_SELECTED_UNIT_ONLY'\n};\nexport const selectDataSet = dataSetId => (dispatch, getState) => {\n  dispatch(selectDataSetOriginal(dataSetId));\n  const {\n    dataSet\n  } = getState();\n  dispatch(loadDimensions(dataSet.selected.id));\n};\nexport const toggleSelectedUnitOnly = selectedUnitOnly => ({\n  type: actionTypes.TOGGLE_SELECTED_UNIT_ONLY,\n  payload: selectedUnitOnly\n});\nexport const loadReportData = () => (dispatch, getState) => {\n  dispatch(loadingReportDataStart());\n  const {\n    dataSet,\n    dataSetDimensions,\n    dataSetReport,\n    organisationUnits,\n    reportPeriod\n  } = getState();\n  return getDataSetReport({\n    dataSet: dataSet.selected,\n    dataSetDimensions: dataSetDimensions.selected,\n    orgUnitGroupsOptions: organisationUnits.selectedOptions,\n    orgUnit: organisationUnits.selected.id,\n    period: reportPeriod.selectedPeriod,\n    selectedUnitOnly: dataSetReport.selectedUnitOnly\n  }).then(response => dispatch(loadingReportDataSuccessWithFeedback(response))).catch(error => dispatch(loadingReportDataErrorWithFeedback(error)));\n};\nexport const shareDataSetReportComment = comment => (dispatch, getState) => {\n  const {\n    dataSet,\n    organisationUnits,\n    reportPeriod\n  } = getState();\n  const dataSetId = dataSet.selected.id;\n  const orgUnitId = organisationUnits.selected.id;\n  const period = reportPeriod.selectedPeriod;\n  dispatch(sharingReportCommentStartWithFeedback());\n  return postDataSetReportComment(dataSetId, orgUnitId, period, comment).then(() => dispatch(sharingReportCommentSuccessWithFeedback())).catch(error => dispatch(sharingReportCommentErrorWithFeedback(error)));\n};","export const getIsActionEnabled = state => !(!state.organisationUnits.selected || !state.dataSet.selected.id || !state.reportPeriod.selectedPeriod || state.dataSet.loading || state.dataSetDimensions.loading || state.reportData.loading);","export const isHtmlReport = content => !!content && !!content.data && typeof content.data === 'string';","export default function createDataTransformCache() {\n  let inputData = null;\n  let transformedData = null;\n  return {\n    hasValidCacheFor: data => !!inputData && data === inputData,\n    getCachedResult: () => transformedData,\n    setCachedResult: (input, transformed) => {\n      inputData = input;\n      transformedData = transformed;\n    }\n  };\n}","import isEmpty from 'lodash.isempty';\nimport { isHtmlReport } from '../../../utils/dataSetReport/isHtmlReport.js';\nimport createDataTransformCache from '../../../utils/dataTransformCache.js';\nexport const cache = createDataTransformCache();\nexport default function getTransformedTableData(state) {\n  const content = state.reportData.content;\n  if (isEmpty(content) || isHtmlReport(content)) {\n    return content;\n  }\n  if (cache.hasValidCacheFor(content)) {\n    return cache.getCachedResult();\n  }\n  const tables = content.data.map(transformTableData);\n  cache.setCachedResult(content, tables);\n  return tables;\n}\nfunction transformTableData(data) {\n  return {\n    title: data.title,\n    headers: data.headers.map(h => h.column),\n    rows: data.rows.map(cells => cells.map(x => !!x || x === 0 ? x : ''))\n  };\n}","import { connect } from 'react-redux';\nimport { loadReportData, selectDataSet, toggleSelectedUnitOnly, shareDataSetReportComment } from '../../redux/actions/dataSetReport.js';\nimport { setReportComment } from '../../redux/actions/reportData.js';\nimport { getIsActionEnabled } from '../../redux/selectors/dataSetReport/getIsActionEnabled.js';\nimport getTransformedTableData from '../../redux/selectors/dataSetReport/getTransformedTableData.js';\nimport { isHtmlReport } from '../../utils/dataSetReport/isHtmlReport.js';\nconst mapStateToProps = state => ({\n  isHtmlReport: isHtmlReport(state.reportData.content),\n  reportContent: getTransformedTableData(state),\n  fileUrls: state.reportData.content.fileUrls || [],\n  isReportLoading: state.reportData.loading,\n  reportComment: state.reportData.comment,\n  selectedUnitOnly: state.dataSetReport.selectedUnitOnly,\n  isActionEnabled: getIsActionEnabled(state)\n});\nconst mapDispatchToProps = dispatch => ({\n  loadReportData: () => dispatch(loadReportData()),\n  selectDataSet: e => dispatch(selectDataSet(e.target.value)),\n  toggleSelectedUnitOnly: (e, selectedUnitOnly) => dispatch(toggleSelectedUnitOnly(selectedUnitOnly)),\n  shareDataSetReportComment: comment => dispatch(shareDataSetReportComment(comment)),\n  setDataSetReportComment: comment => dispatch(setReportComment(comment))\n});\nexport const connectDataSetReport = connect(mapStateToProps, mapDispatchToProps);","import _JSXStyle from \"styled-jsx/style\";\nimport { CircularProgress } from '@dhis2/d2-ui-core';\nimport Paper from '@material-ui/core/Paper';\nimport isEmpty from 'lodash.isempty';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { reportContent } from '../utils/react/propTypes.js';\nimport { container } from '../utils/styles/shared.js';\nconst ReportLoader = _ref => {\n  let {\n    isLoading,\n    content,\n    children\n  } = _ref;\n  if (!isLoading && isEmpty(content)) {\n    return null;\n  }\n  const childrenToWrap = isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-434875869\" + \" \" + \"report-loader\"\n  }, /*#__PURE__*/React.createElement(CircularProgress, null), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"434875869\"\n  }, [\"div.jsx-434875869{margin:48px 0;text-align:center;}\"])) : children;\n  return /*#__PURE__*/React.createElement(Paper, {\n    className: container.className\n  }, childrenToWrap);\n};\nReportLoader.propTypes = {\n  children: PropTypes.node.isRequired,\n  content: reportContent.isRequired,\n  isLoading: PropTypes.bool.isRequired\n};\nexport default ReportLoader;","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst prefix = i18n.t('Download as');\nexport const DownloadOption = _ref => {\n  let {\n    file\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"a\", {\n    href: file.url,\n    download: true,\n    tabIndex: \"0\",\n    rel: \"noreferrer\",\n    target: file.extension === 'pdf' ? '_blank' : '_self',\n    className: \"jsx-3028982603\" + \" \" + \"download-button\"\n  }, prefix, \" \", file.extension, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3028982603\"\n  }, [\".download-button.jsx-3028982603{cursor:pointer;outline:none;color:#757575;font-size:12px;text-transform:uppercase;margin-left:8px;}\"]));\n};\nDownloadOption.propTypes = {\n  file: PropTypes.shape({\n    extension: PropTypes.string.isRequired,\n    url: PropTypes.string.isRequired\n  })\n};\nexport const DownloadOptions = _ref2 => {\n  let {\n    fileUrls\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"download-options-container\",\n    className: \"jsx-1652653829\"\n  }, fileUrls.map((file, index) => /*#__PURE__*/React.createElement(DownloadOption, {\n    file: file,\n    key: index\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1652653829\"\n  }, [\"div.jsx-1652653829{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}\"]));\n};\nDownloadOptions.propTypes = {\n  fileUrls: PropTypes.array.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { InputField, Button } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst isCommentingActionEnabled = comment => comment.trim();\nconst actionButtonPlaceholder = i18n.t('Share');\nconst inputFieldPlaceholder = i18n.t('Write a comment, question or interpretation of this report');\nexport const ReportComment = props => /*#__PURE__*/React.createElement(\"div\", {\n  id: \"share-component\",\n  className: \"jsx-1358819727\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-1358819727\"\n}, /*#__PURE__*/React.createElement(InputField, {\n  placeholder: inputFieldPlaceholder,\n  type: \"text\",\n  multiline: true,\n  fullWidth: true,\n  value: props.comment,\n  onChange: props.setDataSetReportComment\n}), /*#__PURE__*/React.createElement(Button, {\n  raised: true,\n  color: \"primary\",\n  onClick: props.shareDataSetReportComment,\n  disabled: !isCommentingActionEnabled(props.comment)\n}, actionButtonPlaceholder)), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"1358819727\"\n}, [\"div.jsx-1358819727>div.jsx-1358819727{margin:16px 0;}\"]));\nReportComment.propTypes = {\n  comment: PropTypes.string.isRequired,\n  setDataSetReportComment: PropTypes.func.isRequired,\n  shareDataSetReportComment: PropTypes.func.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\n/* React */\nimport PropTypes from 'prop-types';\nimport React, { Fragment } from 'react';\nexport const Row = _ref => {\n  let {\n    cells\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"tr\", null, cells.map((cell, index) => /*#__PURE__*/React.createElement(\"td\", {\n    key: `c-${cell}-${index}`\n  }, cell)));\n};\nRow.propTypes = {\n  cells: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])).isRequired\n};\nconst ReportTable = _ref2 => {\n  let {\n    content: {\n      title,\n      headers,\n      rows\n    }\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"jsx-2067112289\"\n  }, title), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"jsx-2067112289\"\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"jsx-2067112289\"\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"jsx-2067112289\"\n  }, headers.map((header, index) => /*#__PURE__*/React.createElement(\"th\", {\n    key: `h-${header}-${index}`,\n    className: \"jsx-2067112289\"\n  }, header)))), /*#__PURE__*/React.createElement(\"tbody\", {\n    className: \"jsx-2067112289\"\n  }, rows.map((cells, index) => /*#__PURE__*/React.createElement(Row, {\n    cells: cells,\n    key: `r-${cells[0]}-${index}`\n  })))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2067112289\"\n  }, [\"table.jsx-2067112289{border-collapse:collapse;}\", \"tr.jsx-2067112289{border-bottom:2px solid #e0e0e0;}\", \"tbody.jsx-2067112289 tr{border-bottom:1px solid #e0e0e0;}\", \"th.jsx-2067112289,tbody.jsx-2067112289 td{border:none;font-size:14px;padding:16px 16px;}\", \"th.jsx-2067112289{text-align:left;font-weight:bold;}\", \"tbody.jsx-2067112289 td:not(:first-child),thead.jsx-2067112289 th:not(:first-child){text-align:center;}\"]));\n};\nReportTable.propTypes = {\n  content: PropTypes.object.isRequired\n};\nexport default ReportTable;","export const CSS_FILES = [{\n  media: 'screen',\n  styleSheet: '/dhis-web-commons/javascripts/jQuery/ui/css/redmond/jquery-ui.css'\n}, {\n  media: 'print',\n  styleSheet: '/dhis-web-commons/css/print.css'\n}, {\n  media: 'screen,print',\n  styleSheet: '/dhis-web-commons/css/themes/light_blue/light_blue.css'\n}];\nexport const SCRIPT_FILES = ['/dhis-web-commons/javascripts/jQuery/jquery.min.js', '/dhis-web-commons/javascripts/jQuery/jquery.utils.js', '/dhis-web-commons/javascripts/jQuery/ui/jquery-ui.min.js', '/dhis-web-commons/javascripts/dhis2/dhis2.util.js', '/dhis-web-commons/javascripts/dhis2/dhis2.period.js', '/dhis-web-commons/javascripts/commons.js', '/dhis-web-commons/javascripts/commons.ajax.js', '/dhis-web-commons/javascripts/lists.js', '/dhis-web-commons/javascripts/periodType.js', '/dhis-web-commons/javascripts/date.js', '/dhis-web-commons/oust/oust.js'];\nexport const PAGE_STYLES = `\n    html {\n        line-height: 1.15;\n        text-size-adjust: 100%;\n    }\n    body {\n        font-family: Roboto, sans-serif;\n        box-sizing: inherit;\n    }\n    table {\n        margin-top: 16px;\n        border-collapse: collapse;\n    }\n    table td,\n    table th {\n        border: 1px solid #bcbcbc;\n        padding: 4px;\n    }\n`;","import _JSXStyle from \"styled-jsx/style\";\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { getContextPath } from '../../utils/api.js';\nimport { CSS_FILES, SCRIPT_FILES, PAGE_STYLES } from './HtmlReportAssets.js';\nconst wrapHtmlInTemplate = html => `\n    <!DOCTYPE html>\n    <html lang=\"en\">\n        <head>\n            <meta charset=\"utf-8\">\n            ${CSS_FILES.map(createLinkTag).join('\\n')}\n            ${SCRIPT_FILES.map(createScriptTag).join('\\n')}\n            <style type=\"text/css\">\n                ${PAGE_STYLES}\n            </style>\n        </head>\n        <body>\n            ${html}\n        </body>\n    </html>\n`;\nconst createScriptTag = script => {\n  const src = getContextPath() + script;\n  return `<script src=\"${src}\" type=\"text/javascript\"></script>`;\n};\nconst createLinkTag = _ref => {\n  let {\n    media,\n    styleSheet\n  } = _ref;\n  const href = getContextPath() + styleSheet;\n  return `<link type=\"text/css\" rel=\"stylesheet\" media=\"${media}\" href=\"${href}\" >`;\n};\nconst Loader = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2400364065\"\n}, /*#__PURE__*/React.createElement(CircularProgress, null), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2400364065\"\n}, [\"div.jsx-2400364065{text-align:center;margin:16px;}\"]));\nclass HtmlReport extends Component {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"state\", {\n      heigth: 'auto'\n    });\n    _defineProperty(this, \"heightObserver\", null);\n    _defineProperty(this, \"onIframeLoad\", event => {\n      const iframeHtml = event.target.contentWindow.document.documentElement;\n      const iframeBody = event.target.contentWindow.document.body;\n      this.heightObserver = new window.ResizeObserver(this.onContentResize);\n      this.heightObserver.observe(iframeHtml);\n      this.heightObserver.observe(iframeBody);\n      this.adjustHeight(iframeHtml.getBoundingClientRect(), iframeBody.getBoundingClientRect());\n    });\n    _defineProperty(this, \"onContentResize\", entries => {\n      this.adjustHeight(...entries.map(entry => entry.contentRect));\n    });\n    _defineProperty(this, \"adjustHeight\", (iframeHtmlRect, iframeBodyRect) => {\n      const height = Math.max(iframeHtmlRect.height, iframeBodyRect.height);\n\n      // Add 20px as a \"safety margin\" in case we get a horizontal scroll bar\n      this.setState({\n        height: Math.ceil(height) + 20\n      });\n    });\n  }\n  componentWillUnmount() {\n    this.heightObserver && this.heightObserver.disconnect();\n  }\n  render() {\n    return this.props.html ? /*#__PURE__*/React.createElement(\"iframe\", {\n      id: \"html-report-id\",\n      srcDoc: wrapHtmlInTemplate(this.props.html),\n      title: \"html-report-content\",\n      width: \"100%\",\n      height: this.state.height,\n      seamless: true,\n      sandbox: \"allow-same-origin allow-scripts allow-modals allow-downloads\",\n      onLoad: this.onIframeLoad,\n      className: \"jsx-2058224637\"\n    }, /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"2058224637\"\n    }, [\"iframe.jsx-2058224637{border:none;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\"])) : /*#__PURE__*/React.createElement(Loader, null);\n  }\n}\nHtmlReport.propTypes = {\n  html: PropTypes.string.isRequired\n};\nexport default HtmlReport;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport ReportLoader from '../../components/ReportLoader.js';\nimport { DownloadOptions } from '../../components/TabularReport/DownloadOptions.js';\nimport { ReportComment } from '../../components/TabularReport/ReportComment.js';\nimport ReportTable from '../../components/TabularReport/ReportTable.js';\nimport { reportContent } from '../../utils/react/propTypes.js';\nimport HtmlReport from '../standard-report/HtmlReport.js';\nconst DataSetReportOutput = props => /*#__PURE__*/React.createElement(ReportLoader, {\n  content: props.content,\n  isLoading: props.isLoading\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"tabular-report\"\n}, /*#__PURE__*/React.createElement(ReportComment, {\n  comment: props.reportComment,\n  shareDataSetReportComment: props.shareDataSetReportComment,\n  setDataSetReportComment: props.setDataSetReportComment\n}), /*#__PURE__*/React.createElement(DownloadOptions, {\n  fileUrls: props.fileUrls\n}), props.isHtmlReport ? /*#__PURE__*/React.createElement(HtmlReport, {\n  html: props.content.data\n}) : !!props.content.length && props.content.map(table => /*#__PURE__*/React.createElement(ReportTable, {\n  key: table.title,\n  content: table\n}))));\nDataSetReportOutput.propTypes = {\n  content: reportContent.isRequired,\n  fileUrls: PropTypes.array.isRequired,\n  isHtmlReport: PropTypes.bool.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  reportComment: ReportComment.propTypes.comment,\n  setDataSetReportComment: ReportComment.propTypes.setDataSetReportComment,\n  shareDataSetReportComment: ReportComment.propTypes.shareDataSetReportComment\n};\nexport default DataSetReportOutput;","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { DropDown } from '@dhis2/d2-ui-core';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { selectDimensionOption } from '../redux/actions/dataSetDimensions.js';\nimport { formLabel } from '../utils/styles/shared.js';\nconst createDimensionChangeHandler = (onChange, dimensionId) => element => onChange(dimensionId, element);\nconst DimensionDropdown = props => /*#__PURE__*/React.createElement(\"div\", {\n  key: props.dimension.id,\n  className: \"data-set-dimension\"\n}, /*#__PURE__*/React.createElement(\"span\", {\n  className: formLabel.className\n}, props.dimension.displayName), /*#__PURE__*/React.createElement(DropDown, {\n  fullWidth: props.fullWidth,\n  value: props.values[props.dimension.id],\n  onChange: props.onChange,\n  menuItems: props.dimension.items,\n  includeEmpty: true,\n  emptyLabel: i18n.t('Select Option'),\n  hintText: i18n.t('Select Option')\n}), formLabel.styles);\nconst Loader = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2280194982\"\n}, /*#__PURE__*/React.createElement(CircularProgress, {\n  size: 24,\n  thickness: 3\n}), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2280194982\"\n}, [\"div.jsx-2280194982{margin-bottom:16px;text-align:center;}\"]));\nDimensionDropdown.propTypes = {\n  dimension: PropTypes.object.isRequired,\n  fullWidth: PropTypes.bool.isRequired,\n  values: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired\n};\nconst DataSetDimensions = _ref => {\n  let {\n    hide,\n    isLoading,\n    fullWidth,\n    options,\n    selected,\n    onChange\n  } = _ref;\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  if (hide || options.length === 0) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"jsx-3127033929\" + \" \" + \"header\"\n  }, i18n.t('Data set dimensions')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-3127033929\" + \" \" + \"box\"\n  }, options.map(dimension => /*#__PURE__*/React.createElement(DimensionDropdown, {\n    key: dimension.id,\n    dimension: dimension,\n    fullWidth: fullWidth,\n    values: selected,\n    onChange: createDimensionChangeHandler(onChange, dimension.id)\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3127033929\"\n  }, [\"h6.jsx-3127033929{color:#757575;font-size:14px;margin-bottom:5px;margin-top:0;text-align:left;font-weight:normal;}\", \"div.jsx-3127033929{border:1px solid #bcbcbc;padding:4px;margin-bottom:16px;}\"]));\n};\nDataSetDimensions.propTypes = {\n  fullWidth: PropTypes.bool.isRequired,\n  hide: PropTypes.bool.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  options: PropTypes.array.isRequired,\n  selected: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired\n};\nDataSetDimensions.defaultProps = {\n  fullWidth: true\n};\nconst mapStateToProps = state => ({\n  hide: !state.dataSet.selected.id,\n  isLoading: state.dataSetDimensions.loading,\n  options: state.dataSetDimensions.options,\n  selected: state.dataSetDimensions.selected\n});\nconst mapDispatchToProps = dispatch => ({\n  onChange: (id, evt) => dispatch(selectDimensionOption(id, evt.target.value))\n});\nconst ConnectedDataSetDimensions = connect(mapStateToProps, mapDispatchToProps)(DataSetDimensions);\nexport { DataSetDimensions as OriginalComponent, ConnectedDataSetDimensions as DataSetDimensions };","import i18n from '@dhis2/d2-i18n';\nimport { DropDown } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { selectDataSet } from '../redux/actions/dataSet.js';\nimport { formLabel } from '../utils/styles/shared.js';\nconst hintTextLoading = i18n.t('Loading options...');\nconst hintTextDefault = i18n.t('Select Data Set');\nexport const DatasetsDropdown = props => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"span\", {\n  className: formLabel.className\n}, props.label), /*#__PURE__*/React.createElement(DropDown, {\n  fullWidth: props.fullWidth,\n  value: props.selected.id,\n  onChange: props.onChange ? props.onChange : props.selectDataSet,\n  menuItems: props.options,\n  hintText: props.loading ? hintTextLoading : hintTextDefault,\n  disabled: props.loading\n}), formLabel.styles);\nDatasetsDropdown.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  options: PropTypes.array.isRequired,\n  selectDataSet: PropTypes.func.isRequired,\n  selected: PropTypes.object.isRequired,\n  fullWidth: PropTypes.bool,\n  label: PropTypes.string,\n  onChange: PropTypes.func\n};\nDatasetsDropdown.defaultProps = {\n  onChange: null,\n  label: i18n.t('Data set'),\n  fullWidth: true,\n  filter: null\n};\nconst mapStateToProps = _ref => {\n  let {\n    dataSet: {\n      loading,\n      selected,\n      options\n    }\n  } = _ref;\n  return {\n    loading,\n    selected,\n    options\n  };\n};\nconst mapDispatchToProps = dispatch => ({\n  selectDataSet: event => dispatch(selectDataSet(event.target.value))\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(DatasetsDropdown);","import i18n from '@dhis2/d2-i18n';\nimport { getOrgUnitGroupSets } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showErrorSnackBar } from './feedback.js';\nexport const actionTypes = {\n  LOADING_GROUP_SETS_START: 'LOADING_GROUP_SETS_START',\n  LOADING_GROUP_SETS_SUCCESS: 'LOADING_GROUP_SETS_SUCCESS',\n  LOADING_GROUP_SETS_ERROR: 'LOADING_GROUP_SETS_ERROR',\n  SET_GROUP_SET: 'SET_GROUP_SET'\n};\n\n/**\n * @returns {Object}\n */\nexport const loadingGroupSetsStart = () => ({\n  type: actionTypes.LOADING_GROUP_SETS_START\n});\n\n/**\n * @param {Array} groupSets\n * @returns {Object}\n */\nexport const loadingGroupSetsSuccess = groupSets => ({\n  type: actionTypes.LOADING_GROUP_SETS_SUCCESS,\n  payload: groupSets\n});\n\n/**\n * @param {Error} error\n * @returns {Object}\n */\nexport const loadingGroupSetsErrorDefaultMessage = i18n.t('An error occurred while loading the group sets!');\nexport const loadingGroupSetsError = error => dispatch => {\n  const displayMessage = humanReadableErrorMessage(error, loadingGroupSetsErrorDefaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch({\n    type: actionTypes.LOADING_GROUP_SETS_ERROR,\n    payload: displayMessage\n  });\n};\n\n/**\n * @returns {Function}\n */\nexport const loadGroupSetOptions = () => dispatch => {\n  dispatch(loadingGroupSetsStart());\n  return getOrgUnitGroupSets().then(response => dispatch(loadingGroupSetsSuccess(response.toArray()))).catch(error => dispatch(loadingGroupSetsError(error)));\n};\n\n/**\n * @param {string} groupSetId\n * @return {Object}\n */\nexport const setGroupSet = groupSetId => ({\n  type: actionTypes.SET_GROUP_SET,\n  payload: groupSetId\n});","import i18n from '@dhis2/d2-i18n';\nimport { getOrganisationUnits } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showErrorSnackBar } from './feedback.js';\nimport { loadGroupSetOptions } from './orgUnitGroupSets.js';\nexport const actionTypes = {\n  ORGANISATION_UNITS_LOADING_START: 'ORGANISATION_UNITS_LOADING_START',\n  ORGANISATION_UNITS_RECEIVED: 'ORGANISATION_UNITS_RECEIVED',\n  ORGANISATION_UNITS_ERRORED: 'ORGANISATION_UNITS_ERRORED',\n  ORGANISATION_UNIT_SELECTED: 'ORGANISATION_UNIT_SELECTED',\n  ORGANISATION_UNIT_CLEARED: 'ORGANISATION_UNIT_CLEARED',\n  ORGANISATION_UNITS_OPTION_SELECTED: 'ORGANISATION_UNITS_OPTION_SELECTED',\n  TOGGLE_SHOW_OPTIONS: 'TOGGLE_SHOW_OPTIONS'\n};\nexport const fallbackErrorMessage = i18n.t('Could not load organisation units');\n\n/**\n * @returns {Object}\n */\nexport const loadOrganisationUnitsStart = () => ({\n  type: actionTypes.ORGANISATION_UNITS_LOADING_START\n});\n/**\n * @param {Object} periodTypes\n * @returns {Object}\n */\nexport const loadOrganisationUnitsSuccess = organisationUnits => ({\n  type: actionTypes.ORGANISATION_UNITS_RECEIVED,\n  payload: organisationUnits\n});\n\n/**\n * @returns {Object}\n */\nexport const loadOrganisationUnitsError = () => ({\n  type: actionTypes.ORGANISATION_UNITS_ERRORED\n});\n\n/**\n * @param {Error} error\n * @returns {Function}\n */\nexport const loadOrganisationUnitsErrorDefaultMessage = i18n.t('An error occurred while loading the organisation units!');\nexport const loadOrganisationUnitsErrorWithFeedback = error => dispatch => {\n  const displayMessage = humanReadableErrorMessage(error, loadOrganisationUnitsErrorDefaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadOrganisationUnitsError());\n};\nexport const loadOrganisationUnits = () => dispatch => {\n  dispatch(loadOrganisationUnitsStart());\n  return getOrganisationUnits().then(organisationUnits => dispatch(loadOrganisationUnitsSuccess(organisationUnits))).catch(error => {\n    console.error(error);\n    dispatch(loadOrganisationUnitsErrorWithFeedback(error));\n  });\n};\nexport const selectOrganisationUnit = (_event, _ref) => {\n  let {\n    id,\n    path,\n    displayName,\n    children\n  } = _ref;\n  return {\n    type: actionTypes.ORGANISATION_UNIT_SELECTED,\n    payload: {\n      id,\n      path,\n      displayName,\n      children\n    }\n  };\n};\nexport const selectOrgUnitOption = (id, value) => ({\n  type: actionTypes.ORGANISATION_UNITS_OPTION_SELECTED,\n  payload: {\n    id,\n    value\n  }\n});\nexport const toggleShowOptions = () => (dispatch, getState) => {\n  const {\n    orgUnitGroupSets\n  } = getState();\n  dispatch({\n    type: actionTypes.TOGGLE_SHOW_OPTIONS\n  });\n  if (orgUnitGroupSets.collection.length === 0) {\n    dispatch(loadGroupSetOptions());\n  }\n};\nexport const clearSelectedOrgUnit = () => ({\n  type: actionTypes.ORGANISATION_UNIT_CLEARED\n});","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { OrgUnitTreeMultipleRoots } from '@dhis2/d2-ui-org-unit-tree';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { selectOrganisationUnit } from '../redux/actions/organisationUnits.js';\nexport function AvailableOrganisationUnitsTree(_ref) {\n  let {\n    selectOrganisationUnit,\n    loading,\n    collection,\n    selected\n  } = _ref;\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Updating Organisation Units Tree...'));\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-2532267554\" + \" \" + \"org-unit-tree-wrapper\"\n  }, /*#__PURE__*/React.createElement(OrgUnitTreeMultipleRoots, {\n    hideMemberCount: true,\n    roots: collection,\n    selected: selected ? [selected.path] : [],\n    initiallyExpanded: collection.map(unit => `/${unit.id}`),\n    onSelectClick: selectOrganisationUnit\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2532267554\"\n  }, [\"div.jsx-2532267554{border:1px solid #bcbcbc;overflow:auto;width:100%;box-sizing:border-box;font-weight:300;max-height:400px;padding:10px 5px;}\"]));\n}\nAvailableOrganisationUnitsTree.propTypes = {\n  collection: PropTypes.array.isRequired,\n  loading: PropTypes.bool.isRequired,\n  selectOrganisationUnit: PropTypes.func.isRequired,\n  selected: PropTypes.object\n};\nconst mapStateToProps = _ref2 => {\n  let {\n    organisationUnits\n  } = _ref2;\n  return {\n    loading: organisationUnits.loading,\n    collection: organisationUnits.collection,\n    selected: organisationUnits.selected\n  };\n};\nexport default connect(mapStateToProps, {\n  selectOrganisationUnit\n})(AvailableOrganisationUnitsTree);","import _JSXStyle from \"styled-jsx/style\";\n/* React */\n/* i18n */\nimport i18n from '@dhis2/d2-i18n';\n/* d2-ui components */\nimport { DropDown } from '@dhis2/d2-ui-core';\nimport { CircularProgress } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n/* App context */\nimport { connect } from 'react-redux';\nimport { selectOrgUnitOption } from '../redux/actions/organisationUnits.js';\nimport { formLabel } from '../utils/styles/shared.js';\nconst createGroupSetOnChange = (groupSetId, onChange) => event => {\n  onChange(groupSetId, event.target.value);\n};\nconst labelText = i18n.t('Select Option');\nconst OrganisationUnitGroupSetDropdown = _ref => {\n  let {\n    groupSet,\n    fullWidth,\n    value,\n    onChange\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    key: groupSet.id\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: formLabel.className\n  }, groupSet.displayName), /*#__PURE__*/React.createElement(DropDown, {\n    fullWidth: fullWidth,\n    value: value,\n    onChange: onChange,\n    menuItems: groupSet.organisationUnitGroups,\n    includeEmpty: true,\n    emptyLabel: labelText,\n    hintText: labelText\n  }), formLabel.styles);\n};\nOrganisationUnitGroupSetDropdown.propTypes = {\n  fullWidth: PropTypes.bool.isRequired,\n  groupSet: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string\n};\nOrganisationUnitGroupSetDropdown.defaultProps = {\n  value: ''\n};\nexport const __OrganisationUnitGroupSets = _ref2 => {\n  let {\n    groupSets,\n    isLoading,\n    selectGroupSet,\n    values,\n    fullWidth\n  } = _ref2;\n  return isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-3604278703\"\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    size: 24,\n    thickness: 3\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3604278703\"\n  }, [\"div.jsx-3604278703{padding-top:16px;text-align:center;}\"])) : groupSets.map(groupSet => /*#__PURE__*/React.createElement(OrganisationUnitGroupSetDropdown, {\n    groupSet: groupSet,\n    key: groupSet.id,\n    onChange: createGroupSetOnChange(groupSet.id, selectGroupSet),\n    value: values[groupSet.id],\n    fullWidth: fullWidth\n  }));\n};\n__OrganisationUnitGroupSets.propTypes = {\n  groupSets: PropTypes.array.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  selectGroupSet: PropTypes.func.isRequired,\n  values: PropTypes.object.isRequired,\n  fullWidth: PropTypes.bool\n};\n__OrganisationUnitGroupSets.defaultProps = {\n  fullWidth: true\n};\nconst mapStateToProps = state => ({\n  isLoading: state.orgUnitGroupSets.loading,\n  groupSets: state.orgUnitGroupSets.collection,\n  values: state.organisationUnits.selectedOptions\n});\nexport const OrganisationUnitGroupSets = connect(mapStateToProps, {\n  selectGroupSet: selectOrgUnitOption\n})(__OrganisationUnitGroupSets);","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { toggleShowOptions } from '../redux/actions/organisationUnits.js';\nimport { formLabel } from '../utils/styles/shared.js';\nimport OrganisationUnitsTree from './AvailableOrganisationUnitsTree.js';\nimport { OrganisationUnitGroupSets } from './OrganisationUnitGroupSets.js';\nconst getExtraOptionsLabel = showOptions => !showOptions ? i18n.t('Show more options') : i18n.t('Show fewer options');\nconst getExtraOptionsClassName = showOptions => showOptions ? 'show-options' : 'hide-options';\nexport const __OrgUnitsTreeWithExtraOptions = props => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3942626467\" + \" \" + (formLabel.className || \"\")\n}, i18n.t('Report organisation unit')), /*#__PURE__*/React.createElement(OrganisationUnitsTree, null), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3942626467\"\n}, !props.isLoadingOptions && /*#__PURE__*/React.createElement(\"span\", {\n  id: \"extra-options-action\",\n  role: \"button\",\n  tabIndex: \"0\",\n  onClick: props.toggleShowOptions,\n  className: \"jsx-3942626467\" + \" \" + \"show-more-options-button\"\n}, getExtraOptionsLabel(props.showOptions)), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"extra-options\",\n  className: \"jsx-3942626467\" + \" \" + (getExtraOptionsClassName(props.showOptions) || \"\")\n}, /*#__PURE__*/React.createElement(OrganisationUnitGroupSets, null))), formLabel.styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"3942626467\"\n}, [\".hide-options.jsx-3942626467{display:none;}\", \".show-options.jsx-3942626467{display:block;}\", \".show-more-options-button.jsx-3942626467{display:block;cursor:pointer;color:#004ba0;margin-top:5;margin-bottom:5;outline:none;}\"]));\n__OrgUnitsTreeWithExtraOptions.propTypes = {\n  isLoadingOptions: PropTypes.bool.isRequired,\n  showOptions: PropTypes.bool.isRequired,\n  toggleShowOptions: PropTypes.func.isRequired\n};\nconst mapStateToProps = state => ({\n  showOptions: state.organisationUnits.showOptions,\n  isLoadingOptions: state.orgUnitGroupSets.loading\n});\nexport const OrgUnitsTreeWithExtraOptions = connect(mapStateToProps, {\n  toggleShowOptions\n})(__OrgUnitsTreeWithExtraOptions);","import i18n from '@dhis2/d2-i18n';\nimport { getPeriodTypes } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showErrorSnackBar } from './feedback.js';\nexport const actionTypes = {\n  REPORT_PERIOD_TYPES_LOADING_START: 'REPORT_PERIOD_TYPES_LOADING_START',\n  REPORT_PERIOD_TYPES_RECEIVED: 'REPORT_PERIOD_TYPES_RECEIVED',\n  REPORT_PERIOD_TYPES_ERRORED: 'REPORT_PERIOD_TYPES_ERRORED',\n  REPORT_PERIOD_TYPE_SELECTED: 'REPORT_PERIOD_TYPE_SELECTED',\n  REPORT_PERIOD_SELECTED: 'REPORT_PERIOD_SELECTED',\n  REPORT_PERIOD_CLEAR_ALL: 'REPORT_PERIOD_CLEAR_ALL'\n};\n\n/**\n * @param {Array} periodTypes\n * @returns {Object}\n */\nexport const loadPeriodTypesSuccess = periodTypes => ({\n  type: actionTypes.REPORT_PERIOD_TYPES_RECEIVED,\n  payload: periodTypes\n});\n\n/**\n * @returns {Object}\n */\nexport const loadPeriodTypesError = () => ({\n  type: actionTypes.REPORT_PERIOD_TYPES_ERRORED\n});\n\n/**\n * @param {Error} error\n * @return {Function}\n */\n\nexport const fallbackErrorMessage = i18n.t('Could not load period types');\nexport const loadPeriodTypesErrorWithFeedback = error => dispatch => {\n  const displayMessage = humanReadableErrorMessage(error, fallbackErrorMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadPeriodTypesError());\n};\nexport const loadPeriodTypes = () => dispatch => getPeriodTypes().then(periodTypes => dispatch(loadPeriodTypesSuccess(periodTypes))).catch(error => {\n  console.error(error);\n  dispatch(loadPeriodTypesErrorWithFeedback(error));\n});\nexport const selectPeriodType = event => ({\n  type: actionTypes.REPORT_PERIOD_TYPE_SELECTED,\n  payload: event.target.value\n});\nexport const selectPeriod = period => ({\n  type: actionTypes.REPORT_PERIOD_SELECTED,\n  payload: period\n});\nexport const clearSelectedReportPeriod = () => ({\n  type: actionTypes.REPORT_PERIOD_CLEAR_ALL\n});","import i18n from '@dhis2/d2-i18n';\nimport parseFixedPeriod from 'd2/period/parser';\n\n/* do not change property names, those are ids from period types server */\nexport const fixedPeriodTranslations = {\n  Daily: i18n.t('Daily'),\n  Weekly: i18n.t('Weekly'),\n  WeeklyWednesday: i18n.t('Weekly Wednesday'),\n  WeeklyThursday: i18n.t('Weekly Thursday'),\n  WeeklySaturday: i18n.t('Weekly Saturday'),\n  WeeklySunday: i18n.t('Weekly Sunday'),\n  BiWeekly: i18n.t('Bi-Weekly'),\n  Monthly: i18n.t('Monthly'),\n  BiMonthly: i18n.t('Bi-Monthly'),\n  Quarterly: i18n.t('Quarterly'),\n  QuarterlyNov: i18n.t('Quarterly-Nov'),\n  SixMonthly: i18n.t('Six-Monthly'),\n  SixMonthlyApril: i18n.t('Six-Monthly April'),\n  SixMonthlyNov: i18n.t('Six-Monthly November'),\n  Yearly: i18n.t('Yearly'),\n  FinancialApril: i18n.t('Financial-April'),\n  FinancialJuly: i18n.t('Financial-July'),\n  FinancialOct: i18n.t('Financial-Oct'),\n  FinancialNov: i18n.t('Financial-Nov')\n};\nexport const relativePeriodsThatAreActuallyFixed = {\n  thisDay: ['Daily'],\n  thisWeek: ['Weekly', 'WeeklyWednesday', 'WeeklyThursday', 'WeeklySaturday', 'WeeklySunday'],\n  thisBiWeek: ['BiWeekly'],\n  thisMonth: ['Monthly'],\n  thisBimonth: ['BiMonthly'],\n  thisQuarter: ['Quarterly'],\n  thisSixMonth: ['SixMonthly', 'SixMonthlyApril', 'SixMonthlyNov'],\n  thisYear: ['Yearly'],\n  thisFinancialYear: ['FinancialApril', 'FinancialJuly', 'FinancialOct', 'FinancialNov']\n};\nexport const isFixedPeriodType = periodType => !!fixedPeriodTranslations[periodType];\nexport const getFixedPeriodStartDate = periodCode => {\n  try {\n    const period = parseFixedPeriod(periodCode);\n    return period.startDate;\n  } catch {\n    return null;\n  }\n};","import i18n from '@dhis2/d2-i18n';\nconst THIS_DAY = 'thisDay';\nconst YESTERDAY = 'yesterday';\nconst LAST_3_DAYS = 'last3Days';\nconst LAST_7_DAYS = 'last7Days';\nconst LAST_14_DAYS = 'last14Days';\nconst THIS_WEEK = 'thisWeek';\nconst LAST_WEEK = 'lastWeek';\nconst LAST_4_WEEKS = 'last4Weeks';\nconst LAST_12_WEEKS = 'last12Weeks';\nconst LAST_52_WEEKS = 'last52Weeks';\nconst WEEKS_THIS_YEAR = 'weeksThisYear';\nconst THIS_MONTH = 'thisMonth';\nconst LAST_MONTH = 'lastMonth';\nconst LAST_3_MONTHS = 'last3Months';\nconst LAST_6_MONTHS = 'last6Months';\nconst LAST_12_MONTHS = 'last12Months';\nconst MONTHS_THIS_YEAR = 'monthsThisYear';\nconst THIS_BIMONTH = 'thisBimonth';\nconst LAST_BIMONTH = 'lastBimonth';\nconst LAST_6_BI_MONTHS = 'last6BiMonths';\nconst BI_MONTHS_THIS_YEAR = 'biMonthsThisYear';\nconst THIS_QUARTER = 'thisQuarter';\nconst LAST_QUARTER = 'lastQuarter';\nconst LAST_4_QUARTERS = 'last4Quarters';\nconst QUARTERS_THIS_YEAR = 'quartersThisYear';\nconst THIS_SIX_MONTH = 'thisSixMonth';\nconst LAST_SIX_MONTH = 'lastSixMonth';\nconst LAST_2_SIX_MONTHS = 'last2SixMonths';\nconst THIS_FINANCIAL_YEAR = 'thisFinancialYear';\nconst LAST_FINANCIAL_YEAR = 'lastFinancialYear';\nconst LAST_5_FINANCIAL_YEARS = 'last5FinancialYears';\nconst THIS_YEAR = 'thisYear';\nconst LAST_YEAR = 'lastYear';\nconst LAST_5_YEARS = 'last5Years';\nexport const RELATIVE_PERIODS = [\n// Days\n{\n  label: i18n.t('Days'),\n  options: [{\n    value: THIS_DAY,\n    label: i18n.t('Reporting day')\n  }, {\n    value: YESTERDAY,\n    label: i18n.t('Yesterday')\n  }, {\n    value: LAST_3_DAYS,\n    label: i18n.t('Last 3 days')\n  }, {\n    value: LAST_7_DAYS,\n    label: i18n.t('Last 7 days')\n  }, {\n    value: LAST_14_DAYS,\n    label: i18n.t('Last 14 days')\n  }]\n},\n// Weeks\n{\n  label: i18n.t('Weeks'),\n  options: [{\n    value: THIS_WEEK,\n    label: i18n.t('Reporting week')\n  }, {\n    value: LAST_WEEK,\n    label: i18n.t('Last Week')\n  }, {\n    value: LAST_4_WEEKS,\n    label: i18n.t('Last 2 weeks')\n  }, {\n    value: LAST_12_WEEKS,\n    label: i18n.t('Last 12 weeks')\n  }, {\n    value: LAST_52_WEEKS,\n    label: i18n.t('Last 52 weeks')\n  }, {\n    value: WEEKS_THIS_YEAR,\n    label: i18n.t('Weeks this year')\n  }]\n},\n// Months\n{\n  label: i18n.t('Months'),\n  options: [{\n    value: THIS_MONTH,\n    label: i18n.t('Reporting month')\n  }, {\n    value: LAST_MONTH,\n    label: i18n.t('Last month')\n  }, {\n    value: LAST_3_MONTHS,\n    label: i18n.t('Last 3 months')\n  }, {\n    value: LAST_6_MONTHS,\n    label: i18n.t('Last 6 months')\n  }, {\n    value: LAST_12_MONTHS,\n    label: i18n.t('Last 12 months')\n  }, {\n    value: MONTHS_THIS_YEAR,\n    label: i18n.t('Months this year')\n  }]\n},\n// Bi-months\n{\n  label: i18n.t('Bi-months'),\n  options: [{\n    value: THIS_BIMONTH,\n    label: i18n.t('Reporting bi-month')\n  }, {\n    value: LAST_BIMONTH,\n    label: i18n.t('Last bi-month')\n  }, {\n    value: LAST_6_BI_MONTHS,\n    label: i18n.t('Last 6 bi-month')\n  }, {\n    value: BI_MONTHS_THIS_YEAR,\n    label: i18n.t('Bi-months this year')\n  }]\n},\n// Quarters\n{\n  label: i18n.t('Quarters'),\n  options: [{\n    value: THIS_QUARTER,\n    label: i18n.t('Reporting quarter')\n  }, {\n    value: LAST_QUARTER,\n    label: i18n.t('Last quarter')\n  }, {\n    value: LAST_4_QUARTERS,\n    label: i18n.t('Last 4 quarters')\n  }, {\n    value: QUARTERS_THIS_YEAR,\n    label: i18n.t('Quarters of reporting year')\n  }]\n},\n// Six-Months\n{\n  label: i18n.t('Six-Months'),\n  options: [{\n    value: THIS_SIX_MONTH,\n    label: i18n.t('Reporting six-month')\n  }, {\n    value: LAST_SIX_MONTH,\n    label: i18n.t('Last six-month')\n  }, {\n    value: LAST_2_SIX_MONTHS,\n    label: i18n.t('Last 2 six-months')\n  }]\n},\n// Financial years\n{\n  label: i18n.t('Financial Years'),\n  options: [{\n    value: THIS_FINANCIAL_YEAR,\n    label: i18n.t('Reporting financial year')\n  }, {\n    value: LAST_FINANCIAL_YEAR,\n    label: i18n.t('Last financial year')\n  }, {\n    value: LAST_5_FINANCIAL_YEARS,\n    label: i18n.t('Last 5 financial years')\n  }]\n},\n// years\n{\n  label: i18n.t('Years'),\n  options: [{\n    value: THIS_YEAR,\n    label: i18n.t('Reporting year')\n  }, {\n    value: LAST_YEAR,\n    label: i18n.t('Last year')\n  }, {\n    value: LAST_5_YEARS,\n    label: i18n.t('Last 5 years')\n  }]\n}];\nexport const flattenedRelativePeriods = RELATIVE_PERIODS.reduce((acc, group) => {\n  group.options.forEach(period => {\n    acc[period.value] = {\n      id: period.value,\n      displayName: period.label\n    };\n  });\n  return acc;\n}, {});\n\n// This helper was \"borrowed\" from\n// https://github.com/dhis2/analytics/blob/master/src/components/PeriodDimension/utils/fixedPeriods.js#L537-L546\n// The plan is to eventually move the getRelativePeriodStartDate code over to the anaytics repo,\n// so we are using the helpers as they are there\nconst formatYyyyMmDd = timestamp => {\n  const date = new Date(timestamp);\n  const yyyy = date.getFullYear();\n  const mm = (date.getMonth() + 1).toString().padStart(2, '0');\n  const dd = date.getDate().toString().padStart(2, '0');\n  return `${yyyy}-${mm}-${dd}`;\n};\n\n// We are passing `Date.now()` to the `Date` constructor to make this\n// module easier to unit test. This way we only have to mock `Date.now`,\n// which is a lot easier than to mock the `Date` class\n// See here for more info: https://codewithhugo.com/mocking-the-current-date-in-jest-tests/\nconst getCurrentDate = () => new Date(Date.now());\nconst getPreviousMonday = date => {\n  const day = date.getDay();\n  // date.getDay() will return 0 for a Sunday and 1 for a Monday\n  // so a week starts on Sunday according to the Date API, but\n  // we want the fist day of the week to be Monday, so we need this:\n  // `day + (day === 0 ? -6 : 1)`\n  const mondayTimeStamp = date.getDate() - day + (day === 0 ? -6 : 1);\n  return new Date(date.setDate(mondayTimeStamp));\n};\nconst daysAgo = offset => {\n  const now = getCurrentDate();\n  return now.setDate(now.getDate() - offset);\n};\nconst weeksAgo = offset => {\n  const previousMonday = getPreviousMonday(getCurrentDate());\n  return previousMonday.setDate(previousMonday.getDate() - offset * 7);\n};\nconst weeksThisYear = () => {\n  const year = getCurrentDate().getFullYear();\n  // Calculate the first date of an EPI year base on ISO standard  ( first week always contains 4th Jan )\n  const jan4 = new Date(`${year}-01-04`);\n  const firstMondayOfYear = getPreviousMonday(jan4);\n  return firstMondayOfYear.getTime();\n};\nconst startOfYear = () => {\n  const year = getCurrentDate().getFullYear();\n  const jan1 = new Date(`${year}-01-01`);\n  return jan1.getTime();\n};\nconst monthUnitsAgo = (unitSize, offset) => {\n  const now = getCurrentDate();\n  const year = now.getFullYear();\n  const monthIndex = now.getMonth();\n  // Round down to nearest even number so feb(1) will become jan(0)\n  const firstMonthIndex = unitSize * Math.floor(monthIndex / unitSize);\n  const firstMonthStr = (firstMonthIndex + 1).toString().padStart(2, '0');\n  const firstMonthStartDate = new Date(`${year}-${firstMonthStr}-01`);\n  return firstMonthStartDate.setMonth(firstMonthStartDate.getMonth() - offset * unitSize);\n};\nconst yearsAgo = (offset, isFinancial) => {\n  const currentYear = getCurrentDate().getFullYear();\n  const startYear = currentYear - offset;\n  return new Date(isFinancial ? `${startYear}-10-01` : `${startYear}-01-01`);\n};\nconst startDateCalculators = {\n  [THIS_DAY]: () => daysAgo(0),\n  [YESTERDAY]: () => daysAgo(1),\n  [LAST_3_DAYS]: () => daysAgo(3),\n  [LAST_7_DAYS]: () => daysAgo(7),\n  [LAST_14_DAYS]: () => daysAgo(14),\n  [THIS_WEEK]: () => weeksAgo(0),\n  [LAST_WEEK]: () => weeksAgo(1),\n  [LAST_4_WEEKS]: () => weeksAgo(4),\n  [LAST_12_WEEKS]: () => weeksAgo(12),\n  [LAST_52_WEEKS]: () => weeksAgo(52),\n  [WEEKS_THIS_YEAR]: () => weeksThisYear(),\n  [THIS_MONTH]: () => monthUnitsAgo(1, 0),\n  [LAST_MONTH]: () => monthUnitsAgo(1, 1),\n  [LAST_3_MONTHS]: () => monthUnitsAgo(1, 3),\n  [LAST_6_MONTHS]: () => monthUnitsAgo(1, 6),\n  [LAST_12_MONTHS]: () => monthUnitsAgo(1, 12),\n  [MONTHS_THIS_YEAR]: () => startOfYear(),\n  [THIS_BIMONTH]: () => monthUnitsAgo(2, 0),\n  [LAST_BIMONTH]: () => monthUnitsAgo(2, 1),\n  [LAST_6_BI_MONTHS]: () => monthUnitsAgo(2, 6),\n  [BI_MONTHS_THIS_YEAR]: () => startOfYear(),\n  [THIS_QUARTER]: () => monthUnitsAgo(3, 0),\n  [LAST_QUARTER]: () => monthUnitsAgo(3, 1),\n  [LAST_4_QUARTERS]: () => monthUnitsAgo(3, 4),\n  [QUARTERS_THIS_YEAR]: () => startOfYear(),\n  [THIS_SIX_MONTH]: () => monthUnitsAgo(6, 0),\n  [LAST_SIX_MONTH]: () => monthUnitsAgo(6, 1),\n  [LAST_2_SIX_MONTHS]: () => monthUnitsAgo(6, 2),\n  [THIS_FINANCIAL_YEAR]: () => yearsAgo(0, true),\n  [LAST_FINANCIAL_YEAR]: () => yearsAgo(1, true),\n  [LAST_5_FINANCIAL_YEARS]: () => yearsAgo(5, true),\n  [THIS_YEAR]: () => yearsAgo(0),\n  [LAST_YEAR]: () => yearsAgo(1),\n  [LAST_5_YEARS]: () => yearsAgo(5)\n};\nexport const getRelativePeriodStartDate = periodCode => {\n  const startDateCalutator = startDateCalculators[periodCode];\n  if (!startDateCalutator) {\n    return null;\n  }\n  return formatYyyyMmDd(startDateCalutator());\n};","import i18n from '@dhis2/d2-i18n';\nexport { RELATIVE_PERIODS } from '../../utils/periods/relativePeriods.js';\nexport const REPORTS_ENDPOINT = 'reports';\nexport const REPORT_TEMPLATES_ENDPOINT = 'reportTemplate';\nexport const CONTEXT_MENU_ACTION = {\n  CREATE: 'createReport',\n  EDIT: 'editReport',\n  DELETE: 'delete',\n  SHARING_SETTINGS: 'sharingSettings'\n};\nexport const CONTEXT_MENU_ICONS = {\n  [CONTEXT_MENU_ACTION.CREATE]: 'arrow_right',\n  [CONTEXT_MENU_ACTION.EDIT]: 'edit',\n  [CONTEXT_MENU_ACTION.SHARING_SETTINGS]: 'people',\n  [CONTEXT_MENU_ACTION.DELETE]: 'delete'\n};\nexport const NONE = {\n  id: 'none',\n  name: i18n.t('[ None ]')\n};\nexport const TYPES = {\n  JASPER_REPORT_TABLE: 'JASPER_REPORT_TABLE',\n  JASPER_JDBC: 'JASPER_JDBC',\n  HTML: 'HTML'\n};\nexport const REPORT_MODE = {\n  REPORT: 'report',\n  REPORT_TABLE: 'table'\n};\nexport const GET_REPORT_AS_ENDPOINT = {\n  PDF: 'data.pdf',\n  XLS: 'data.xls',\n  HTML: 'data.html'\n};\nexport const reportTypes = {\n  JASPER_REPORT_TABLE: 'JASPER_REPORT_TABLE',\n  JASPER_JDBC: 'JASPER_JDBC',\n  HTML: 'HTML'\n};\nexport const reportTypeOptions = [{\n  value: reportTypes.JASPER_REPORT_TABLE,\n  label: i18n.t('Jasper report with report table data source')\n}, {\n  value: reportTypes.JASPER_JDBC,\n  label: i18n.t('Jasper report with JDBC data source')\n}, {\n  value: reportTypes.HTML,\n  label: i18n.t('HTML report')\n}];\nexport const REPORT_TYPES = [{\n  id: TYPES.JASPER_REPORT_TABLE,\n  name: i18n.t('Jasper report with report table data source')\n}, {\n  id: TYPES.JASPER_JDBC,\n  name: i18n.t('Jasper report with JDBC data source')\n}, {\n  id: TYPES.HTML,\n  name: i18n.t('HTML report')\n}];\nexport const cacheStrategies = [{\n  value: 'NO_CACHE',\n  label: i18n.t('No cache')\n}, {\n  value: 'RESPECT_SYSTEM_SETTING',\n  label: i18n.t('Respect system setting')\n}, {\n  value: 'CACHE_1_HOUR',\n  label: i18n.t('Cache for one hour')\n}, {\n  value: 'CACHE_6AM_TOMORROW',\n  label: i18n.t('Cache until 6 AM tomorrow')\n}, {\n  value: 'CACHE_TWO_WEEKS',\n  label: i18n.t('Cache for two weeks')\n}];\nexport const CACHE_STRATEGIES = [{\n  id: 'NO_CACHE',\n  name: i18n.t('No cache')\n}, {\n  id: 'RESPECT_SYSTEM_SETTING',\n  name: i18n.t('Respect system setting')\n}, {\n  id: 'CACHE_1_HOUR',\n  name: i18n.t('Cache for one hour')\n}, {\n  id: 'CACHE_6AM_TOMORROW',\n  name: i18n.t('Cache until 6 AM tomorrow')\n}, {\n  id: 'CACHE_TWO_WEEKS',\n  name: i18n.t('Cache for two weeks')\n}];","export const isFalsy = value => !value;","import { getFixedPeriodStartDate } from './fixedPeriods.js';\nimport { getRelativePeriodStartDate } from './relativePeriods.js';\nexport const getPeriodStartDate = periodCode => {\n  return getRelativePeriodStartDate(periodCode) || getFixedPeriodStartDate(periodCode);\n};","import omitBy from 'lodash.omitby';\nimport { reportTypes } from '../../pages/standard-report/standard.report.conf.js';\nimport { getSelectedOrgUnit } from '../../redux/selectors/organisationUnit/getSelectedOrgUnit.js';\nimport { getSelectedReportPeriod } from '../../redux/selectors/reportPeriod/getSelectedReportPeriod.js';\nimport { isFalsy } from '../boolean/isFalsy.js';\nimport { getPeriodStartDate } from '../periods/periodTypes.js';\nexport const extractRequiredReportParams = reportParams => omitBy({\n  period: reportParams.reportingPeriod,\n  organisationUnit: reportParams.organisationUnit || reportParams.parentOrganisationUnit || reportParams.grandParentOrganisationUnit\n}, isFalsy);\nexport const isHtmlReport = report => report.type === reportTypes.HTML;\nexport const isJasperReportTableReport = report => report.type === reportTypes.JASPER_REPORT_TABLE;\nexport const getReportParams = report => report.reportTable && report.reportTable.reportParams || report.reportParams;\nexport const appendOrgUnitsAndReportPeriodToQueryString = function (state) {\n  let baseStr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  const {\n    standardReport,\n    organisationUnits,\n    reportPeriod\n  } = state;\n  const {\n    reportParams\n  } = standardReport;\n  if (reportParams.organisationUnit) {\n    baseStr += `&ou=${organisationUnits.selected.id}`;\n  }\n  if (reportParams.period) {\n    const startDate = getPeriodStartDate(reportPeriod.selectedPeriod);\n    baseStr += `&pe=${reportPeriod.selectedPeriod}`;\n    if (startDate) {\n      baseStr += `&date=${startDate}`;\n    }\n  }\n  return baseStr ? `?${baseStr}` : baseStr;\n};\nexport const validateRequiredParams = (state, requiredParams) => {\n  const errors = [];\n  if (requiredParams.organisationUnit && !getSelectedOrgUnit(state)) {\n    errors.push('You need to select an organisation unit');\n  }\n  if (requiredParams.period && !getSelectedReportPeriod(state)) {\n    errors.push('You need to select a period');\n  }\n  return errors;\n};\nexport const processCheckboxValues = (formSelectedKeys, stateValues) => {\n  if (!stateValues) {\n    return {};\n  }\n  const selectedKeys = new Set(formSelectedKeys);\n  return Object.keys(stateValues).reduce((acc, key) => {\n    acc[key] = selectedKeys.has(key);\n    return acc;\n  }, {});\n};","import { fixedPeriodTranslations, relativePeriodsThatAreActuallyFixed } from '../../../utils/periods/fixedPeriods.js';\nimport { flattenedRelativePeriods } from '../../../utils/periods/relativePeriods.js';\nimport { isJasperReportTableReport } from '../../../utils/standardReport/index.js';\nexport const getFilteredPeriodTypes = state => {\n  const fixedPeriodTypes = state.reportPeriod.collection.map(periodType => ({\n    id: periodType.name,\n    displayName: fixedPeriodTranslations[periodType.name] || periodType.name\n  }));\n  if (!state.standardReport.showReportParams) {\n    return fixedPeriodTypes;\n  }\n\n  // In report params modal we want to show a mix of fixed period types and relative periods\n  const report = state.standardReport.selectedReport;\n  const reportConfig = isJasperReportTableReport(report) ? report.reportTable : report;\n  const periods = reportConfig.relativePeriods || {};\n  return Object.keys(periods).reduce((acc, periodKey) => {\n    const isSelected = periods[periodKey];\n    if (isSelected) {\n      const fixedPeriodTypes = relativePeriodsThatAreActuallyFixed[periodKey];\n      if (fixedPeriodTypes) {\n        fixedPeriodTypes.forEach(periodKey => {\n          acc.push({\n            id: periodKey,\n            displayName: fixedPeriodTranslations[periodKey]\n          });\n        });\n      } else {\n        acc.push({\n          ...flattenedRelativePeriods[periodKey],\n          isRelative: true\n        });\n      }\n    }\n    return acc;\n  }, []);\n};","import i18n from '@dhis2/d2-i18n';\nimport { DropDown, PeriodPicker } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { selectPeriod, selectPeriodType } from '../redux/actions/reportPeriod.js';\nimport { getFilteredPeriodTypes } from '../redux/selectors/reportPeriod/periodTypes.js';\nimport { isFixedPeriodType } from '../utils/periods/fixedPeriods.js';\nimport { formLabel } from '../utils/styles/shared.js';\nconst periodTypeLabelText = i18n.t('Select Period Type');\nexport function PeriodPickerWithPeriodType(_ref) {\n  let {\n    selectPeriodType,\n    selectPeriod,\n    label,\n    collection,\n    selectedPeriodType\n  } = _ref;\n  const onDropDownChange = event => {\n    selectPeriodType(event);\n\n    // relative periods can be selected from the first dropdown\n    if (!isFixedPeriodType(event.target.value)) {\n      selectPeriod(event.target.value);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"span\", {\n    className: formLabel.className\n  }, label), /*#__PURE__*/React.createElement(DropDown, {\n    fullWidth: true,\n    emptyLabel: periodTypeLabelText,\n    hintText: periodTypeLabelText,\n    menuItems: collection,\n    onChange: onDropDownChange,\n    value: selectedPeriodType\n  }), selectedPeriodType && isFixedPeriodType(selectedPeriodType) && /*#__PURE__*/React.createElement(PeriodPicker, {\n    periodType: selectedPeriodType,\n    onPickPeriod: selectPeriod\n  }), formLabel.styles);\n}\nPeriodPickerWithPeriodType.propTypes = {\n  collection: PropTypes.array.isRequired,\n  label: PropTypes.string.isRequired,\n  selectPeriod: PropTypes.func.isRequired,\n  selectPeriodType: PropTypes.func.isRequired,\n  selectedPeriodType: PropTypes.string\n};\nconst mapStateToProps = state => ({\n  ...state.reportPeriod,\n  collection: getFilteredPeriodTypes(state)\n});\nexport default connect(mapStateToProps, {\n  selectPeriodType,\n  selectPeriod\n})(PeriodPickerWithPeriodType);","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { CheckBox, Button } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { DataSetDimensions } from '../../components/DataSetDimensions.js';\nimport DataSets from '../../components/DatasetsDropdown.js';\nimport { OrgUnitsTreeWithExtraOptions } from '../../components/OrgUnitsTreeWithExtraOptions.js';\nimport PeriodPickerComponent from '../../components/PeriodPickerWithPeriodType.js';\nconst Form = props => /*#__PURE__*/React.createElement(\"div\", {\n  id: \"data-set-report-form\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"row\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-xs-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(OrgUnitsTreeWithExtraOptions, null)), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-xs-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  id: \"data-set-selection\"\n}, /*#__PURE__*/React.createElement(DataSets, {\n  onChange: props.onDataSetChange\n})), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"data-set-dimensions-container\"\n}, /*#__PURE__*/React.createElement(DataSetDimensions, null)), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"report-period\"\n}, /*#__PURE__*/React.createElement(PeriodPickerComponent, {\n  label: i18n.t('Report period')\n})), /*#__PURE__*/React.createElement(CheckBox, {\n  id: \"selected-unit-only\",\n  onChange: props.onSelectedUnitOnlyChange,\n  value: props.selectedUnitOnly,\n  label: i18n.t('Use data for selected unit only')\n}))), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"main-action-button\",\n  className: \"jsx-1033327044\"\n}, /*#__PURE__*/React.createElement(Button, {\n  id: \"main-action-button\",\n  raised: true,\n  color: \"primary\",\n  onClick: props.onGetReportClick,\n  disabled: props.isGetReportDisabled\n}, i18n.t('Get Report')), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"1033327044\"\n}, [\"div.jsx-1033327044{display:block;margin-top:48px;margin-bottom:16px;}\"])));\nForm.propTypes = {\n  isGetReportDisabled: PropTypes.bool.isRequired,\n  selectedUnitOnly: PropTypes.bool.isRequired,\n  onDataSetChange: PropTypes.func.isRequired,\n  onGetReportClick: PropTypes.func.isRequired,\n  onSelectedUnitOnlyChange: PropTypes.func.isRequired\n};\nexport default Form;","import Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Snackbar } from '../components/feedback/Snackbar.js';\nimport { SectionHeadline } from '../components/SectionHeadline.js';\nimport { DATA_SET_REPORT_SECTION_KEY, sections } from '../config/sections.config.js';\nimport { reportContent } from '../utils/react/propTypes.js';\nimport { container } from '../utils/styles/shared.js';\nimport { connectDataSetReport } from './data-set-report/connectDataSetReport.js';\nimport DataSetReportOutput from './data-set-report/DataSetReportOutput.js';\nimport Form from './data-set-report/Form.js';\nconst DataSetReport = props => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SectionHeadline, {\n  label: sections[DATA_SET_REPORT_SECTION_KEY].info.label,\n  sectionKey: DATA_SET_REPORT_SECTION_KEY\n}), /*#__PURE__*/React.createElement(Paper, {\n  className: container.className\n}, /*#__PURE__*/React.createElement(\"div\", {\n  id: \"data-set-report-form\"\n}, /*#__PURE__*/React.createElement(Form, {\n  selectedUnitOnly: props.selectedUnitOnly,\n  onDataSetChange: props.selectDataSet,\n  onSelectedUnitOnlyChange: props.toggleSelectedUnitOnly,\n  onGetReportClick: props.loadReportData,\n  isGetReportDisabled: !props.isActionEnabled\n}))), /*#__PURE__*/React.createElement(DataSetReportOutput, {\n  isHtmlReport: props.isHtmlReport,\n  content: props.reportContent,\n  isLoading: props.isReportLoading,\n  fileUrls: props.fileUrls,\n  reportComment: props.reportComment,\n  shareDataSetReportComment: props.shareDataSetReportComment,\n  setDataSetReportComment: props.setDataSetReportComment\n}), container.styles, /*#__PURE__*/React.createElement(Snackbar, null));\nDataSetReport.propTypes = {\n  fileUrls: PropTypes.array.isRequired,\n  isActionEnabled: PropTypes.bool.isRequired,\n  isHtmlReport: PropTypes.bool.isRequired,\n  isReportLoading: PropTypes.bool.isRequired,\n  loadReportData: PropTypes.func.isRequired,\n  reportComment: PropTypes.string.isRequired,\n  reportContent: reportContent.isRequired,\n  selectDataSet: PropTypes.func.isRequired,\n  selectedUnitOnly: PropTypes.bool.isRequired,\n  setDataSetReportComment: PropTypes.func.isRequired,\n  shareDataSetReportComment: PropTypes.func.isRequired,\n  toggleSelectedUnitOnly: PropTypes.func.isRequired\n};\nconst ConnectedDataSetReport = connectDataSetReport(DataSetReport);\nexport { ConnectedDataSetReport as DataSetReport };","import _JSXStyle from \"styled-jsx/style\";\nimport Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { card } from '../utils/styles/shared.js';\nconst MenuElement = _ref => {\n  let {\n    entry\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Paper, {\n    className: card.className\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-2223066612\" + \" \" + \"section-title-bar\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-2223066612\" + \" \" + \"section-name\"\n  }, entry.label), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-2223066612\" + \" \" + \"material-icons icon section-icon\"\n  }, entry.icon)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-2223066612\" + \" \" + \"section-description\"\n  }, entry.description), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-2223066612\" + \" \" + \"section-action-text\"\n  }, entry.actionText), card.styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2223066612\"\n  }, [\".section-title-bar.jsx-2223066612{margin-top:28px;min-height:42px;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \".section-name.jsx-2223066612{font-size:24px;text-align:left;color:#000000;}\", \".section-icon.jsx-2223066612{float:right;color:#757575;font-size:50px;}\", \".section-description.jsx-2223066612{font-size:14px;text-align:left;color:#757575;margin-top:38px;margin-bottom:38px;display:block;}\", \".section-action-text.jsx-2223066612{position:absolute;bottom:20px;display:block;font-size:16px;font-weight:600;text-align:left;color:#2196f3;}\"]));\n};\nMenuElement.propTypes = {\n  entry: PropTypes.shape({\n    actionText: PropTypes.string,\n    description: PropTypes.string,\n    icon: PropTypes.string,\n    label: PropTypes.string\n  }).isRequired\n};\nexport default MenuElement;","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport MenuElement from '../../components/MenuElement.js';\nimport { sectionOrder, sections } from '../../config/sections.config.js';\nconst Home = () => {\n  const menuCards = sectionOrder.map(sectionKey => {\n    const element = sections[sectionKey];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: element.key,\n      className: \"jsx-4277548905\" + \" \" + \"col-sm-12 col-md-6 col-lg-4\"\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: element.path,\n      className: \"menu-card-link\"\n    }, /*#__PURE__*/React.createElement(MenuElement, {\n      entry: element.info\n    })), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"4277548905\"\n    }, [\"div.jsx-4277548905{margin-bottom:8px;}\", \"div.jsx-4277548905 .menu-card-link{-webkit-text-decoration:none !important;text-decoration:none !important;}\"]));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: 'menu-grid-id',\n    className: \"row\"\n  }, menuCards);\n};\nexport default Home;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport ReportLoader from './ReportLoader.js';\nconst BarChart = _ref => {\n  let {\n    content,\n    isLoading\n  } = _ref;\n  return /*#__PURE__*/React.createElement(ReportLoader, {\n    content: content,\n    isLoading: isLoading\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chart\"\n  }, /*#__PURE__*/React.createElement(Bar, {\n    data: content.data,\n    options: content.options\n  })));\n};\nBarChart.propTypes = {\n  content: PropTypes.object.isRequired,\n  isLoading: PropTypes.bool.isRequired\n};\nexport default BarChart;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport ReportLoader from './ReportLoader.js';\nimport { DownloadOptions } from './TabularReport/DownloadOptions.js';\nimport ReportTable from './TabularReport/ReportTable.js';\nconst TabularReport = _ref => {\n  let {\n    content,\n    isLoading,\n    fileUrls\n  } = _ref;\n  return /*#__PURE__*/React.createElement(ReportLoader, {\n    content: content,\n    isLoading: isLoading\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tabular-report\"\n  }, /*#__PURE__*/React.createElement(DownloadOptions, {\n    fileUrls: fileUrls\n  }), /*#__PURE__*/React.createElement(ReportTable, {\n    content: content\n  })));\n};\nTabularReport.propTypes = {\n  content: PropTypes.object.isRequired,\n  fileUrls: PropTypes.array.isRequired,\n  isLoading: PropTypes.bool.isRequired\n};\nexport default TabularReport;","import { getOrgUnitDistReport } from '../../utils/api.js';\nimport { loadingReportDataStart, loadingReportDataSuccessWithFeedback, loadingReportDataErrorWithFeedback } from './reportData.js';\nexport const actionTypes = {\n  SET_TABULAR_OUTPUT: 'SET_TABULAR_OUTPUT',\n  SET_CHART_OUTPUT: 'SET_CHART_OUTPUT'\n};\n/**\n * @returns {Object}\n */\nexport const setOutputToChart = () => ({\n  type: actionTypes.SET_CHART_OUTPUT\n});\n\n/**\n * @returns {Object}\n */\nexport const setOutputToTabular = () => ({\n  type: actionTypes.SET_TABULAR_OUTPUT\n});\n\n/**\n * @returns {Function}\n */\nexport const loadChart = () => dispatch => {\n  dispatch(setOutputToChart());\n  dispatch(loadReport());\n};\n\n/**\n * @returns {Function}\n */\nexport const loadTable = () => dispatch => {\n  dispatch(setOutputToTabular());\n  dispatch(loadReport());\n};\n\n/**\n * @returns {Function}\n */\nexport const loadReport = () => (dispatch, getState) => {\n  dispatch(loadingReportDataStart());\n  const {\n    organisationUnits,\n    orgUnitGroupSets,\n    orgUnitDistReport: {\n      shouldShowChart\n    }\n  } = getState();\n  const orgUnit = organisationUnits.selected;\n  const groupSetId = orgUnitGroupSets.selected;\n  return getOrgUnitDistReport(orgUnit, groupSetId, shouldShowChart).then(response => dispatch(loadingReportDataSuccessWithFeedback(response, shouldShowChart))).catch(error => dispatch(loadingReportDataErrorWithFeedback(error)));\n};","export const getIsActionEnabled = state => !!(state.organisationUnits.selected && state.orgUnitGroupSets.selected && !state.reportData.loading);","export const FONT_FAMILY = \"'Roboto', sans-serif\";\nexport const BASE_COLOR = '39, 102, 150'; // DHIS2 blue","/**\n * @param {Object} state - app state\n * @returns {String} - table title\n */\nexport function getTitle(state) {\n  return [state.reportData.content.headers[1].column, state.organisationUnits.selected.displayName].join(' - ');\n}","import i18n from '@dhis2/d2-i18n';\nimport isEmpty from 'lodash.isempty';\nimport { FONT_FAMILY, BASE_COLOR } from '../../../config/style.config.js';\nimport createDataTransformCache from '../../../utils/dataTransformCache.js';\nimport { getTitle } from '../../../utils/dataTransformHelpers.js';\nexport const cache = createDataTransformCache();\n\n/**\n * @param {Object} state - App state\n * @returns {Object} - Transformed table data that can be consumed by BarChart\n */\nexport default function getTransformedChartData(state) {\n  const data = state.reportData.content;\n  if (isEmpty(data)) {\n    return data;\n  }\n  if (cache.hasValidCacheFor(data)) {\n    return cache.getCachedResult();\n  }\n  const chartData = getChartData(getLabels(data.headers), getDataPoints(data.rows[0]), getTitle(state));\n  cache.setCachedResult(data, chartData);\n  return chartData;\n}\nfunction getLabels(headers) {\n  return headers.reduce((acc, header, index) => {\n    if (index > 0) {\n      acc.push(header.column);\n    }\n    return acc;\n  }, []);\n}\nfunction getDataPoints(cells) {\n  return cells.reduce((acc, cell, index) => {\n    if (index > 0) {\n      acc.push(parseInt(cell, 10));\n    }\n    return acc;\n  }, []);\n}\nfunction getChartData(labels, data, title) {\n  return {\n    data: {\n      labels,\n      datasets: [{\n        label: i18n.t('Count'),\n        backgroundColor: `rgba(${BASE_COLOR}, 0.6)`,\n        borderColor: `rgb(${BASE_COLOR})`,\n        borderWidth: 1,\n        hoverBackgroundColor: `rgba(${BASE_COLOR}, 0.8)`,\n        data\n      }]\n    },\n    options: {\n      title: {\n        display: true,\n        text: title,\n        fontSize: '16',\n        fontFamily: FONT_FAMILY\n      },\n      legend: {\n        position: 'bottom',\n        fontFamily: FONT_FAMILY\n      },\n      animation: {\n        duration: 180\n      }\n    }\n  };\n}","import i18n from '@dhis2/d2-i18n';\nimport isEmpty from 'lodash.isempty';\nimport createDataTransformCache from '../../../utils/dataTransformCache.js';\nimport { getTitle } from '../../../utils/dataTransformHelpers.js';\nconst orgUnitColumnDisplayName = i18n.t('Organisation Unit');\nconst totalColumnDisplayName = i18n.t('Total');\nexport const cache = createDataTransformCache();\n\n/**\n * @param {Object} state - App state\n * @returns {Object} - Transformed table data that can be consumed by TabularReport\n */\nexport default function getTransformedTableData(state) {\n  const data = state.reportData.content;\n  if (isEmpty(data)) {\n    return data;\n  }\n  if (cache.hasValidCacheFor(data)) {\n    return cache.getCachedResult();\n  }\n  const tableData = {\n    title: getTitle(state),\n    headers: getHeaders(data.headers),\n    rows: getRows(state)\n  };\n  cache.setCachedResult(data, tableData);\n  return tableData;\n}\n\n/**\n * @param {Array} headers - The headers array from the response data structure\n * @returns {Array<String>} - table header names\n */\nfunction getHeaders(headers) {\n  return [...headers.map(header => header.name === 'ou' ? orgUnitColumnDisplayName : header.column), totalColumnDisplayName];\n}\n\n/**\n * @param {Object} state - app state\n * @returns {Array} - a nested array containing values for each column\n */\nfunction getRows(state) {\n  const {\n    rows\n  } = state.reportData.content;\n  const selectedOrgUnitName = state.organisationUnits.selected.displayName;\n  return rows.map(toNumericWithTotal).sort((rowA, rowB) => ascByNameWithParentBelow(rowA, rowB, selectedOrgUnitName));\n}\nfunction toNumericWithTotal(cells) {\n  const cellsWithTotals = cells.reduce((acc, cellStr, index) => {\n    if (index === 0) {\n      acc.cells.push(cellStr);\n    } else {\n      const cellVal = cellStr ? parseInt(cellStr, 10) : 0;\n      acc.cells.push(cellVal);\n      acc.total += cellVal;\n    }\n    return acc;\n  }, {\n    cells: [],\n    total: 0\n  });\n  return [...cellsWithTotals.cells, cellsWithTotals.total];\n}\n\n/**\n * This function is used to sort the rows, which needs to be done ASC by name\n * with the exception of the parent orgUnit, which should be the last item\n * @param {Array} a - current row, with org unit name at index 0\n * @param {Array} b - next row\n * @param {String} selectedOrgUnitName - name of the org unit parent\n * @returns {Number} - values 1 || -1 || 0 for sorting\n */\nfunction ascByNameWithParentBelow(a, b, selectedOrgUnitName) {\n  const nameA = a[0].toUpperCase();\n  const nameB = b[0].toUpperCase();\n  const upperOrgUnitName = selectedOrgUnitName.toUpperCase();\n  if (nameB === upperOrgUnitName) {\n    return -1;\n  }\n  if (nameA === upperOrgUnitName) {\n    return 1;\n  }\n  return nameA.localeCompare(nameB);\n}","import { connect } from 'react-redux';\nimport { loadChart, loadTable } from '../../redux/actions/orgUnitDistReport.js';\nimport { loadGroupSetOptions } from '../../redux/actions/orgUnitGroupSets.js';\nimport { getIsActionEnabled } from '../../redux/selectors/orgUnitDistReport/getIsActionEnabled.js';\nimport getTransformedChartData from '../../redux/selectors/orgUnitDistReport/getTransformedChartData.js';\nimport getTransformedTableData from '../../redux/selectors/orgUnitDistReport/getTransformedTableData.js';\nconst mapStateToProps = state => ({\n  shouldShowChart: state.orgUnitDistReport.shouldShowChart,\n  loading: state.reportData.loading,\n  reportContent: state.orgUnitDistReport.shouldShowChart ? getTransformedChartData(state) : getTransformedTableData(state),\n  fileUrls: state.reportData.content.fileUrls || [],\n  isActionEnabled: getIsActionEnabled(state),\n  groupSetsReady: !!state.orgUnitGroupSets.collection.length\n});\nconst mapDispatchToProps = {\n  loadChart,\n  loadTable,\n  loadGroupSetOptions\n};\nexport const connectOrganisationUnitDistributionReport = connect(mapStateToProps, mapDispatchToProps);","import i18n from '@dhis2/d2-i18n';\nimport { DropDown } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { setGroupSet } from '../redux/actions/orgUnitGroupSets.js';\nimport { formLabel } from '../utils/styles/shared.js';\nconst label = i18n.t('Group Set');\nconst hintText = i18n.t('Select Group Set');\nexport const GroupSetsDropdown = props => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"span\", {\n  className: formLabel.className\n}, label), /*#__PURE__*/React.createElement(DropDown, {\n  fullWidth: props.fullWidth,\n  value: props.selected,\n  onChange: props.selectGroupSet,\n  menuItems: props.collection,\n  includeEmpty: true,\n  emptyLabel: hintText,\n  hintText: hintText\n}), formLabel.styles);\nGroupSetsDropdown.propTypes = {\n  collection: PropTypes.array.isRequired,\n  selectGroupSet: PropTypes.func.isRequired,\n  selected: PropTypes.string.isRequired,\n  fullWidth: PropTypes.bool\n};\nGroupSetsDropdown.defaultProps = {\n  fullWidth: true\n};\nconst mapStateToProps = state => ({\n  collection: state.orgUnitGroupSets.collection,\n  selected: state.orgUnitGroupSets.selected\n});\nconst mapDispatchToProps = dispatch => ({\n  selectGroupSet: e => dispatch(setGroupSet(e.target.value))\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(GroupSetsDropdown);","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport OrganisationUnitsTree from '../../components/AvailableOrganisationUnitsTree.js';\nimport GroupSets from '../../components/GroupSetsDropdown.js';\nimport { formLabel, actionsContainer } from '../../utils/styles/shared.js';\nexport const Form = props => /*#__PURE__*/React.createElement(\"div\", {\n  id: \"org-unit-dist-report-form\",\n  className: \"jsx-3036976882\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3036976882\" + \" \" + \"row\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3036976882\" + \" \" + \"col-xs-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3036976882\" + \" \" + (formLabel.className || \"\")\n}, i18n.t('Report organisation unit')), /*#__PURE__*/React.createElement(OrganisationUnitsTree, null)), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3036976882\" + \" \" + \"col-xs-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  id: \"group-sets-selection\",\n  className: \"jsx-3036976882\"\n}, /*#__PURE__*/React.createElement(GroupSets, null)))), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"actions\",\n  className: \"jsx-3036976882\" + \" \" + (actionsContainer.className || \"\")\n}, /*#__PURE__*/React.createElement(Button, {\n  raised: true,\n  color: \"primary\",\n  onClick: props.onGetReportClick,\n  disabled: !props.isActionEnabled\n}, i18n.t('Get Report')), /*#__PURE__*/React.createElement(Button, {\n  raised: true,\n  color: \"accent\",\n  onClick: props.onGetChartClick,\n  disabled: !props.isActionEnabled\n}, i18n.t('Get Chart'))), formLabel.styles, actionsContainer.styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"3036976882\"\n}, [\"div.jsx-3036976882 #actions.jsx-3036976882 .d2-ui-button:first-child{margin-right:16px;}\"]));\nForm.propTypes = {\n  isActionEnabled: PropTypes.bool.isRequired,\n  onGetChartClick: PropTypes.func.isRequired,\n  onGetReportClick: PropTypes.func.isRequired\n};","import Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport BarChart from '../components/BarChart.js';\nimport { Snackbar } from '../components/feedback/Snackbar.js';\nimport { SectionHeadline } from '../components/SectionHeadline.js';\nimport TabularReport from '../components/TabularReport.js';\nimport { ORG_UNIT_DIST_REPORT_SECTION_KEY, sections } from '../config/sections.config.js';\nimport { reportContent } from '../utils/react/propTypes.js';\nimport { container } from '../utils/styles/shared.js';\nimport { connectOrganisationUnitDistributionReport } from './organisation-unit-distribution-report/connectOrganisationUnitDistributionReport.js';\nimport { Form } from './organisation-unit-distribution-report/Form.js';\nclass OrganisationUnitDistributionReport extends React.Component {\n  componentDidMount() {\n    if (!this.props.groupSetsReady) {\n      this.props.loadGroupSetOptions();\n    }\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SectionHeadline, {\n      label: sections[ORG_UNIT_DIST_REPORT_SECTION_KEY].info.label,\n      sectionKey: ORG_UNIT_DIST_REPORT_SECTION_KEY\n    }), /*#__PURE__*/React.createElement(Paper, {\n      className: container.className\n    }, /*#__PURE__*/React.createElement(Form, {\n      isActionEnabled: this.props.isActionEnabled,\n      onGetReportClick: this.props.loadTable,\n      onGetChartClick: this.props.loadChart\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"report-container\"\n    }, !this.props.shouldShowChart && /*#__PURE__*/React.createElement(TabularReport, {\n      content: this.props.reportContent,\n      isLoading: this.props.loading,\n      fileUrls: this.props.fileUrls\n    }), this.props.shouldShowChart && /*#__PURE__*/React.createElement(BarChart, {\n      content: this.props.reportContent,\n      isLoading: this.props.loading\n    })), /*#__PURE__*/React.createElement(Snackbar, null), container.styles);\n  }\n}\nOrganisationUnitDistributionReport.propTypes = {\n  fileUrls: PropTypes.array.isRequired,\n  groupSetsReady: PropTypes.bool.isRequired,\n  isActionEnabled: PropTypes.bool.isRequired,\n  loadChart: PropTypes.func.isRequired,\n  loadGroupSetOptions: PropTypes.func.isRequired,\n  loadTable: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  reportContent: reportContent.isRequired,\n  shouldShowChart: PropTypes.bool.isRequired\n};\nconst ConnectedOrganisationUnitDistributionReport = connectOrganisationUnitDistributionReport(OrganisationUnitDistributionReport);\nexport { ConnectedOrganisationUnitDistributionReport as OrganisationUnitDistributionReport };","export const getIsActionEnabled = state => !!(state.organisationUnits.selected && state.reportPeriod.selectedPeriod && state.dataSet.selected.id && !state.reportData.loading);","import i18n from '@dhis2/d2-i18n';\nimport isEmpty from 'lodash.isempty';\nimport createDataTransformCache from '../../../utils/dataTransformCache.js';\nconst cache = createDataTransformCache();\nconst nameColumnDisplayName = i18n.t('Name');\nconst rowIndexesToRead = [1, 4, 5, 6, 7, 8];\nexport default function getTransformedTableData(state) {\n  const data = state.reportData.content;\n  if (isEmpty(data)) {\n    return data;\n  }\n  if (cache.hasValidCacheFor(data)) {\n    return cache.getCachedResult();\n  }\n  const tableData = {\n    title: parseTitle(state),\n    headers: parseHeaders(data),\n    rows: parseRows(data.rows)\n  };\n  cache.setCachedResult(data, tableData);\n  return tableData;\n}\nexport function parseTitle(state) {\n  return [state.organisationUnits.selected.displayName, state.dataSet.selected.displayName, state.reportData.content.title].join(' - ');\n}\nexport function parseHeaders(data) {\n  const headers = [nameColumnDisplayName];\n  const headerNames = data.headers.filter(_ref => {\n    let {\n      column,\n      hidden\n    } = _ref;\n    return column !== 'organisationunitname' && !hidden;\n  }).map(_ref2 => {\n    let {\n      column\n    } = _ref2;\n    return column;\n  });\n  headers.push(...headerNames);\n  return headers;\n}\nexport function parseRows(rowsWithAllFields) {\n  return rowsWithAllFields.map(row => rowIndexesToRead.map(index => row[index])).sort((a, b) => parseFloat(b[b.length - 1]) - parseFloat(a[a.length - 1]));\n}","import { connect } from 'react-redux';\nimport { loadReportData } from '../../redux/actions/reportingRateSummary.js';\nimport { getIsActionEnabled } from '../../redux/selectors/reportingRateSummary/getIsActionEnabled.js';\nimport getTransformedTableData from '../../redux/selectors/reportingRateSummary/getTransformedTableData.js';\nconst mapStateToProps = state => ({\n  reportContent: getTransformedTableData(state),\n  fileUrls: state.reportData.content.fileUrls || [],\n  isReportLoading: state.reportData.loading,\n  isActionEnabled: getIsActionEnabled(state)\n});\nconst mapDispatchToProps = dispatch => ({\n  loadReportData: () => dispatch(loadReportData())\n});\nexport const connectReportingRateSummary = connect(mapStateToProps, mapDispatchToProps);","import { getReportingRateSummaryReport } from '../../utils/api.js';\nimport { loadingReportDataStart, loadingReportDataSuccessWithFeedback, loadingReportDataErrorWithFeedback } from './reportData.js';\n\n/**\n * @returns {Function} redux thunk\n */\nexport const loadReportData = () => (dispatch, getState) => {\n  dispatch(loadingReportDataStart());\n  const {\n    organisationUnits,\n    dataSet,\n    reportPeriod\n  } = getState();\n  return getReportingRateSummaryReport(organisationUnits.selected, dataSet.selected.id, reportPeriod.selectedPeriod, organisationUnits.selectedOptions).then(response => dispatch(loadingReportDataSuccessWithFeedback(response))).catch(error => dispatch(loadingReportDataErrorWithFeedback(error)));\n};","import i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport DataSets from '../../components/DatasetsDropdown.js';\nimport { OrgUnitsTreeWithExtraOptions } from '../../components/OrgUnitsTreeWithExtraOptions.js';\nimport PeriodPickerComponent from '../../components/PeriodPickerWithPeriodType.js';\nimport { actionsContainer } from '../../utils/styles/shared.js';\nexport const Form = props => /*#__PURE__*/React.createElement(\"div\", {\n  id: \"report-rate-summary-form\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"row\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-xs-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(OrgUnitsTreeWithExtraOptions, null)), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-xs-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  id: \"data-set-selection\"\n}, /*#__PURE__*/React.createElement(DataSets, null)), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"report-period\"\n}, /*#__PURE__*/React.createElement(PeriodPickerComponent, {\n  label: i18n.t('Report period')\n})))), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"main-action-button\",\n  className: actionsContainer.className\n}, /*#__PURE__*/React.createElement(Button, {\n  raised: true,\n  color: \"primary\",\n  onClick: props.loadReportData,\n  disabled: !props.isActionEnabled\n}, i18n.t('Get Report'))), actionsContainer.styles);\nForm.propTypes = {\n  isActionEnabled: PropTypes.bool.isRequired,\n  loadReportData: PropTypes.func.isRequired\n};\nForm.defaultProps = {\n  showForm: true\n};","import Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Snackbar } from '../components/feedback/Snackbar.js';\nimport { SectionHeadline } from '../components/SectionHeadline.js';\nimport TabularReport from '../components/TabularReport.js';\nimport { REPORTING_RATE_SUMMARY_SECTION_KEY, sections } from '../config/sections.config.js';\nimport { reportContent } from '../utils/react/propTypes.js';\nimport { container } from '../utils/styles/shared.js';\nimport { connectReportingRateSummary } from './reporting-rate-summary/connectReportingRateSummary.js';\nimport { Form } from './reporting-rate-summary/Form.js';\nconst ReportingRateSummary = props => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SectionHeadline, {\n  label: sections[REPORTING_RATE_SUMMARY_SECTION_KEY].info.label,\n  sectionKey: REPORTING_RATE_SUMMARY_SECTION_KEY\n}), /*#__PURE__*/React.createElement(Paper, {\n  className: container.className\n}, /*#__PURE__*/React.createElement(Form, {\n  loadReportData: props.loadReportData,\n  isActionEnabled: props.isActionEnabled\n})), /*#__PURE__*/React.createElement(TabularReport, {\n  content: props.reportContent,\n  isLoading: props.isReportLoading,\n  fileUrls: props.fileUrls\n}), /*#__PURE__*/React.createElement(Snackbar, null), container.styles);\nReportingRateSummary.propTypes = {\n  fileUrls: PropTypes.array.isRequired,\n  isActionEnabled: PropTypes.bool.isRequired,\n  isReportLoading: PropTypes.bool.isRequired,\n  loadReportData: PropTypes.func.isRequired,\n  reportContent: reportContent.isRequired\n};\nconst ConnectedReportingRateSummary = connectReportingRateSummary(ReportingRateSummary);\nexport { ConnectedReportingRateSummary as ReportingRateSummary };","export const DEBOUNCE_DELAY = 500;","export const actionTypes = {\n  GO_TO_NEXT_PAGE: 'GO_TO_NEXT_PAGE',\n  GO_TO_PREV_PAGE: 'GO_TO_PREV_PAGE',\n  SET_PAGINATION: 'SET_PAGINATION',\n  RESET_PAGINATION: 'RESET_PAGINATION'\n};\n\n/**\n * @return {Object}\n */\nexport const goToNextPage = () => ({\n  type: actionTypes.GO_TO_NEXT_PAGE\n});\n\n/**\n * @return {Object}\n */\nexport const goToPrevPage = () => ({\n  type: actionTypes.GO_TO_PREV_PAGE\n});\n\n/**\n * @param {Object} pagination\n * @returns {Object}\n */\nexport const setPagination = pagination => ({\n  type: actionTypes.SET_PAGINATION,\n  payload: pagination\n});\n\n/**\n * returns {Object}\n */\nexport const resetPagination = () => ({\n  type: actionTypes.RESET_PAGINATION\n});","import i18n from '@dhis2/d2-i18n';\nimport { push } from 'connected-react-router';\nimport debounce from 'lodash.debounce';\nimport { DEBOUNCE_DELAY } from '../../config/search.config.js';\nimport { RESOURCE_ENDPOINT, getApi, getResources, getResourceById, postResource, putResource, deleteResource as sendDeleteResourceRequest } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showSuccessSnackBar, showErrorSnackBar, showConfirmationSnackBar } from './feedback.js';\nimport { goToNextPage as goToNextPageOrig, goToPrevPage as goToPrevPageOrig, resetPagination, setPagination } from './pagination.js';\nexport const actionTypes = {\n  LOADING_RESOURCES_START: 'LOADING_RESOURCES_START',\n  LOADING_RESOURCES_SUCCESS: 'LOADING_RESOURCES_SUCCESS',\n  LOADING_RESOURCES_ERROR: 'LOADING_RESOURCES_ERROR',\n  SET_RESOURCE_SEARCH: 'SET_RESOURCE_SEARCH',\n  VIEW_RESOURCE: 'VIEW_RESOURCE',\n  SHOW_SHARING_SETTINGS: 'SHOW_SHARING_SETTINGS',\n  SET_RESOURCE: 'SET_RESOURCE',\n  REQUEST_DELETE_RESOURCE: 'REQUEST_DELETE_RESOURCE',\n  DELETE_RESOURCE_START: 'DELETE_RESOURCE_START',\n  DELETE_RESOURCE_SUCCESS: 'DELETE_RESOURCE_SUCCESS',\n  DELETE_RESOURCE_ERROR: 'DELETE_RESOURCE_ERROR',\n  CLEAR_SELECTED_RESOURCE: 'CLEAR_SELECTED_RESOURCE',\n  RESOURCE_ADD_LOADING_START: 'RESOURCE_ADD_LOADING_START',\n  RESOURCE_ADD_LOADING_SUCCESS: 'RESOURCE_ADD_LOADING_SUCCESS',\n  RESOURCE_ADD_LOADING_ERROR: 'RESOURCE_ADD_LOADING_ERROR',\n  RESOURCE_EDIT_LOADING_START: 'RESOURCE_EDIT_LOADING_START',\n  RESOURCE_EDIT_LOADING_SUCCESS: 'RESOURCE_EDIT_LOADING_SUCCESS',\n  RESOURCE_EDIT_LOADING_ERROR: 'RESOURCE_EDIT_LOADING_ERROR'\n};\n\n/**\n * @returns {Object}\n */\nexport const loadingResourcesStart = () => ({\n  type: actionTypes.LOADING_RESOURCES_START\n});\n\n/**\n * @param {Array} resources\n * @returns {Object}\n */\nexport const loadingResourcesSuccess = resources => ({\n  type: actionTypes.LOADING_RESOURCES_SUCCESS,\n  payload: resources\n});\n\n/**\n * @returns {Object}\n */\nexport const loadingResourcesError = () => ({\n  type: actionTypes.LOADING_RESOURCES_ERROR\n});\n\n/**\n * @param {Error} error\n * @returns {Function}\n */\nexport const loadingResourcesErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the resources!');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingResourcesError());\n};\n\n/**\n * @returns {Function}\n */\nexport const loadResources = () => (dispatch, getState) => {\n  dispatch(loadingResourcesStart());\n  const {\n    pagination,\n    resource\n  } = getState();\n  const {\n    page,\n    pageSize\n  } = pagination;\n  const {\n    search\n  } = resource;\n  return getResources(page, pageSize, search).then(response => {\n    dispatch(loadingResourcesSuccess(response.documents));\n    dispatch(setPagination(response.pager));\n  }).catch(error => {\n    dispatch(loadingResourcesErrorWithFeedback(error));\n  });\n};\n\n/**\n * @param {number} nextPage\n * @return {Function}\n */\nexport const goToNextPage = () => dispatch => {\n  dispatch(goToNextPageOrig());\n  dispatch(loadResources());\n};\n\n/**\n * @param {number} nextPage\n * @return {Function}\n */\nexport const goToPrevPage = () => dispatch => {\n  dispatch(goToPrevPageOrig());\n  dispatch(loadResources());\n};\n\n/**\n * @param {string} searchTerm\n * @returns {Object}\n */\nexport const setSearch = searchTerm => ({\n  type: actionTypes.SET_RESOURCE_SEARCH,\n  payload: searchTerm\n});\n\n/**\n * @param {string} searchTerm\n * @return {Function} Redux thunk\n */\nconst debouncedLoadResources = debounce(dispatch => dispatch(loadResources()), DEBOUNCE_DELAY);\nexport const setSearchAndLoadResources = searchTerm => dispatch => {\n  dispatch(setSearch(searchTerm));\n  debouncedLoadResources(dispatch);\n};\n\n/**\n * @param {Object} resource\n * @param {string} resource.id\n * @returns {Object}\n */\nexport const viewResource = resource => {\n  const {\n    id\n  } = resource;\n  const baseUrl = getApi().baseUrl;\n  const resourceUrl = `${baseUrl}/${RESOURCE_ENDPOINT}/${id}/data`;\n  window.open(resourceUrl);\n  return {\n    type: actionTypes.VIEW_RESOURCE,\n    payload: resource\n  };\n};\n\n/**\n * @param {Object} resource\n * @returns {Object}\n */\nexport const showSharingSettings = resource => ({\n  type: actionTypes.SHOW_SHARING_SETTINGS,\n  payload: resource\n});\n\n/**\n * @returns {Object}\n */\nexport const addResource = () => dispatch => {\n  dispatch(toResourceForm());\n};\n\n/**\n * @param {Object} resource\n * @returns {Object}\n */\nexport const editResource = resource => dispatch => {\n  dispatch(setResource(resource));\n  dispatch(toResourceForm(resource.id));\n};\n\n/**\n * @param {String} id\n * @returns {Object}\n */\nexport const toResourceForm = id => {\n  const path = id ? `/resource/edit/${id}` : '/resource/new';\n  return push(path);\n};\n\n/**\n * @param {String} id\n * @returns {Object}\n */\nexport const loadResource = id => async dispatch => {\n  const resource = await getResourceById(id);\n  return dispatch(setResource(resource));\n};\n\n/**\n * @param {Object} resource\n * @returns {Object}\n */\nexport const setResource = resource => ({\n  type: actionTypes.SET_RESOURCE,\n  payload: resource\n});\n\n/**\n * Used to get a confirmation from the user\n * @return {Object}\n */\nconst confirmationMessage = i18n.t('Do you really want to delete this resource?');\nexport const requestDeleteResource = resource => dispatch => {\n  dispatch({\n    type: actionTypes.REQUEST_DELETE_RESOURCE,\n    payload: resource\n  });\n  dispatch(showConfirmationSnackBar(confirmationMessage));\n};\nexport const deleteResourceStart = () => ({\n  type: actionTypes.DELETE_RESOURCE_START\n});\nexport const deleteResourceSuccess = () => ({\n  type: actionTypes.DELETE_RESOURCE_SUCCESS\n});\nexport const deleteResourceError = () => ({\n  type: actionTypes.DELETE_RESOURCE_ERROR\n});\nconst successMessage = i18n.t('The resource has been deleted successfully');\nexport const deleteResourceSuccessWithFeedback = () => dispatch => {\n  dispatch(showSuccessSnackBar(successMessage));\n  dispatch(deleteResourceSuccess());\n};\nconst defaultDeleteResourceErrorMessage = i18n.t('An error occurred when deleting the resource!');\nexport const deleteResourceErrorWithFeedback = error => dispatch => {\n  const message = humanReadableErrorMessage(error, defaultDeleteResourceErrorMessage);\n  dispatch(showErrorSnackBar(message));\n  dispatch(deleteResourceError());\n};\nexport const deleteResource = () => (dispatch, getState) => {\n  dispatch(deleteResourceStart());\n  const {\n    resource: {\n      selectedResource\n    }\n  } = getState();\n  return sendDeleteResourceRequest(selectedResource.id).then(() => {\n    dispatch(deleteResourceSuccessWithFeedback());\n    dispatch(loadResources());\n  }).catch(error => dispatch(deleteResourceErrorWithFeedback(error)));\n};\nexport const clearSelectedResource = () => ({\n  type: actionTypes.CLEAR_SELECTED_RESOURCE\n});\nexport const backToList = () => dispatch => {\n  dispatch(clearSelectedResource());\n  dispatch(push('/resource'));\n};\nexport const closeContextMenu = refreshList => dispatch => {\n  dispatch(clearSelectedResource());\n  if (refreshList) {\n    dispatch(resetPagination());\n    dispatch(loadResources());\n  }\n};\n\n/**\n *\n * Adding a resource\n *\n */\n\n/**\n * @returns {Object}\n */\nexport const loadingAddResourceStart = () => ({\n  type: actionTypes.RESOURCE_ADD_LOADING_START\n});\n\n/**\n * @returns {Object}\n */\nexport const loadingAddResourceSuccess = () => ({\n  type: actionTypes.RESOURCE_ADD_LOADING_SUCCESS\n});\n\n/**\n * @returns {Object}\n */\nexport const loadingAddResourceError = () => ({\n  type: actionTypes.RESOURCE_ADD_LOADING_ERROR\n});\n\n/**\n * @param {Error} error\n * @returns {Function}\n */\nexport const loadingAddResourceErrorWithFeedback = error => dispatch => {\n  const defaultAddResourceErrorMessage = i18n.t('An error occurred while adding the resource!');\n  const displayMessage = humanReadableErrorMessage(error, defaultAddResourceErrorMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingAddResourceError());\n};\n\n/**\n * @param {Object} resource\n * @param {File} [file]\n * @returns {Function}\n */\nexport const addNewResource = (resource, file) => dispatch => {\n  dispatch(loadingAddResourceStart());\n  postResource(resource, file).then(() => {\n    dispatch(loadingAddResourceSuccess());\n    dispatch(loadResources());\n  }).catch(error => {\n    dispatch(loadingAddResourceErrorWithFeedback(error));\n  });\n};\n\n/**\n *\n * Editing a resource\n *\n */\n\n/**\n * @returns {Object}\n */\nexport const loadingEditResourceStart = () => ({\n  type: actionTypes.RESOURCE_EDIT_LOADING_START\n});\n\n/**\n * @returns {Object}\n */\nexport const loadingEditResourceSuccess = () => ({\n  type: actionTypes.RESOURCE_EDIT_LOADING_SUCCESS\n});\n\n/**\n * @returns {Object}\n */\nexport const loadingEditResourceError = () => ({\n  type: actionTypes.RESOURCE_EDIT_LOADING_ERROR\n});\n\n/**\n * @param {Error} error\n * @returns {Function}\n */\nexport const loadingEditResourceErrorWithFeedback = error => dispatch => {\n  const defaultAddResourceErrorMessage = i18n.t('An error occurred while saving the modifications!');\n  const displayMessage = humanReadableErrorMessage(error, defaultAddResourceErrorMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingAddResourceError());\n};\n\n/**\n * @param {Object} resource\n * @param {File} [file]\n * @returns {Function}\n */\nexport const updateResource = (resource, file) => (dispatch, getState) => {\n  dispatch(loadingEditResourceStart());\n  const resourceId = getState().resource.selectedResource.id;\n  putResource(resourceId, resource, file).then(() => {\n    dispatch(loadingEditResourceSuccess());\n    dispatch(loadResources());\n  }).catch(error => {\n    dispatch(loadingEditResourceErrorWithFeedback(error));\n  });\n};","import i18n from '@dhis2/d2-i18n';\nexport const resourceTypes = {\n  UPLOAD_FILE: 'UPLOAD_FILE',\n  EXTERNAL_URL: 'EXTERNAL_URL'\n};\nexport const resourceTypeOptions = [{\n  value: resourceTypes.EXTERNAL_URL,\n  label: i18n.t('External url')\n}, {\n  value: resourceTypes.UPLOAD_FILE,\n  label: i18n.t('Upload file')\n}];\nexport const resourceActions = {\n  NEW: 'newResource',\n  VIEW: 'viewResource',\n  EDIT: 'editResource',\n  SHARING_SETTINGS: 'sharingSettings',\n  DELETE: 'delete'\n};\nexport const contextMenuIcons = {\n  [resourceActions.VIEW]: 'arrow_right',\n  [resourceActions.EDIT]: 'edit',\n  [resourceActions.SHARING_SETTINGS]: 'people',\n  [resourceActions.DELETE]: 'delete'\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { Button as D2UIButton } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Button = props => /*#__PURE__*/React.createElement(\"span\", {\n  className: \"jsx-3902943628\"\n}, /*#__PURE__*/React.createElement(D2UIButton, {\n  raised: true,\n  type: props.type,\n  onClick: props.onClick,\n  color: props.isPrimary ? 'primary' : 'default',\n  disabled: props.disabled\n}, props.label), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"3902943628\"\n}, [\"span.jsx-3902943628{display:inline-block;margin-right:10px;}\"]));\nButton.propTypes = {\n  label: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  isPrimary: PropTypes.bool,\n  type: PropTypes.string\n};\nButton.defaultProps = {\n  isPrimary: false,\n  type: 'submit'\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { children } from '../../utils/react/propTypes.js';\nexport const FormSection = _ref => {\n  let {\n    show,\n    render,\n    children\n  } = _ref;\n  if (!show) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"jsx-232685539\"\n  }, children || render(), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"232685539\"\n  }, [\"section.jsx-232685539{margin:0 0 10px;padding:0 2px;overflow:hidden;}\"]));\n};\nFormSection.propTypes = {\n  children,\n  render: PropTypes.func,\n  show: PropTypes.bool\n};\nFormSection.defaultProps = {\n  children: null,\n  render: () => null,\n  show: true\n};","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport { children } from '../../utils/react/propTypes.js';\nexport const FormRow = props => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-1762692579\"\n}, props.children), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"1762692579\"\n}, [\"div.jsx-1762692579{margin-bottom:20px;}\"]));\nFormRow.propTypes = {\n  children: children.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { formInput } from '../../utils/react/propTypes.js';\nexport const RadioButton = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2817873616\" + \" \" + \"form-checkbox\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2817873616\" + \" \" + \"input-container\"\n}, /*#__PURE__*/React.createElement(\"input\", _extends({\n  id: props.input.name + props.input.value\n}, props.input, {\n  type: \"radio\",\n  className: \"jsx-2817873616\" + \" \" + (props.input && props.input.className != null && props.input.className || \"\")\n}))), /*#__PURE__*/React.createElement(\"label\", {\n  htmlFor: props.input.name + props.input.value,\n  className: \"jsx-2817873616\" + \" \" + \"label-container\"\n}, props.label), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2817873616\"\n}, [\".form-checkbox.jsx-2817873616{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:30px;width:100%;}\", \".input-container.jsx-2817873616{width:20px;}\", \"input.jsx-2817873616{display:block;margin:0;}\", \"label.jsx-2817873616{display:block;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\"]));\nRadioButton.propTypes = {\n  input: formInput.isRequired,\n  label: PropTypes.string.isRequired\n};","import FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { RadioButton } from './RadioButton.js';\nconst styles = {\n  container: {\n    margin: '0'\n  },\n  label: {\n    margin: '0 0 10px',\n    fontSize: '1rem',\n    color: 'black'\n  }\n};\nexport const RadioButtons = withStyles(styles)(props => /*#__PURE__*/React.createElement(FormControl, {\n  className: props.classes.container\n}, props.label && /*#__PURE__*/React.createElement(FormHelperText, {\n  className: props.classes.label\n}, props.label), props.showError && /*#__PURE__*/React.createElement(Field, {\n  name: props.name,\n  type: \"checkbox\"\n}, _ref => {\n  let {\n    meta\n  } = _ref;\n  return meta.error && meta.touched ? meta.error : '';\n}), props.options.map(option => /*#__PURE__*/React.createElement(\"div\", {\n  key: option.label\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"radio\",\n  value: option.value,\n  label: option.label,\n  component: RadioButton,\n  name: props.name\n})))));\nRadioButtons.propTypes = {\n  name: PropTypes.string.isRequired,\n  options: PropTypes.arrayOf(PropTypes.object).isRequired,\n  label: PropTypes.string,\n  showError: PropTypes.bool\n};\nRadioButtons.defaultProps = {\n  label: '',\n  showError: true\n};","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { FormRow } from '../../../../components/form/FormRow.js';\nimport { RadioButtons } from '../../../../components/form/RadioButtons.js';\nexport const Attachment = () => /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(\"p\", {\n  className: \"jsx-245692591\"\n}, i18n.t('Do you want to use this file as an attachment?')), /*#__PURE__*/React.createElement(RadioButtons, {\n  name: \"attachment\",\n  options: [{\n    value: 'yes',\n    label: i18n.t('Yes')\n  }, {\n    value: 'no',\n    label: i18n.t('No')\n  }],\n  showError: false\n}), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"245692591\"\n}, [\"p.jsx-245692591{margin-top:0;}\"]));","import _JSXStyle from \"styled-jsx/style\";\nimport red from '@material-ui/core/colors/red';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst errorTextColor = red[500];\nexport const ErrorText = props => {\n  if (!props.showErrorText) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(FormHelperText, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: _JSXStyle.dynamic([[\"769049044\", [errorTextColor]]])\n  }, props.error && props.touched ? props.error : ''), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"769049044\",\n    dynamic: [errorTextColor]\n  }, [`span.__jsx-style-dynamic-selector{color:${errorTextColor};}`]));\n};\nErrorText.propTypes = {\n  error: PropTypes.string.isRequired,\n  touched: PropTypes.bool.isRequired,\n  showErrorText: PropTypes.bool\n};\nErrorText.defaultProps = {\n  showErrorText: true\n};","import _JSXStyle from \"styled-jsx/style\";\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport i18n from '@dhis2/d2-i18n';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { ErrorText } from './buildingBlocks/ErrorText.js';\nconst createChangeHandler = input => event => {\n  event.persist();\n  input.onChange({\n    file: event.target.files[0],\n    value: event.target.value\n  });\n};\nconst formatBlobToString = data => data ? data.value : '';\nexport const File = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-1568741591\"\n}, /*#__PURE__*/React.createElement(Field, _extends({\n  name: props.name,\n  type: \"file\",\n  placeholder: props.placeholder,\n  format: formatBlobToString\n}, props.fieldProps), _ref => {\n  let {\n    input,\n    meta,\n    placeholder\n  } = _ref;\n  return /*#__PURE__*/React.createElement(FormControl, null, /*#__PURE__*/React.createElement(ErrorText, {\n    error: meta.error || '',\n    touched: meta.touched\n  }), /*#__PURE__*/React.createElement(FormHelperText, null, placeholder), /*#__PURE__*/React.createElement(FormHelperText, null, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: input.name,\n    className: \"jsx-1568741591\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    component: \"span\"\n  }, i18n.t('Select file')))), /*#__PURE__*/React.createElement(\"input\", {\n    name: input.name,\n    value: input.value,\n    onChange: createChangeHandler(input),\n    id: input.name,\n    type: \"file\",\n    className: \"jsx-1568741591\"\n  }), /*#__PURE__*/React.createElement(FormHelperText, null, input.value.replace('C:\\\\fakepath\\\\', '') || i18n.t('No file chosen')));\n}), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"1568741591\"\n}, [\"input.jsx-1568741591{display:none;}\"]));\nFile.propTypes = {\n  name: PropTypes.string.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  fieldProps: PropTypes.object\n};\nFile.defaultProps = {\n  fieldProps: {}\n};","export const isRequired = value => value ? undefined : 'Required';\nexport const isRequiredWhen = when => (value, values) => when(values) ? isRequired(value) : undefined;","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { File as FileInput } from '../../../../components/form/File.js';\nimport { FormRow } from '../../../../components/form/FormRow.js';\nimport { isRequired } from '../../../../utils/form/validators.js';\nexport const File = props => /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FileInput, {\n  name: \"file\",\n  placeholder: i18n.t('File'),\n  fieldProps: props.isRequired ? {\n    validate: isRequired\n  } : {}\n}));\nFile.propTypes = {\n  isRequired: PropTypes.bool.isRequired\n};","import blue from '@material-ui/core/colors/blue';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const HelpText = _ref => {\n  let {\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(FormHelperText, {\n    style: {\n      color: blue[800]\n    }\n  }, children);\n};\nHelpText.propTypes = {\n  children: PropTypes.node.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\n// eslint-disable-next-line no-unused-vars\nimport React from 'react';\nexport const section = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3980597411\"\n  }, [\".jsx-3980597411{margin:0 0 10px;}\"]),\n  className: \"jsx-3980597411\"\n};\nexport const sectionTitle = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"254529828\"\n  }, [\".jsx-254529828{color:black;font-weight:bold;font-size:1.3em;line-height:2;margin:0 0 10px;}\"]),\n  className: \"jsx-254529828\"\n};\nexport const container = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2649160175\"\n  }, [\".jsx-2649160175{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:20px;}\"]),\n  className: \"jsx-2649160175\"\n};\nexport const inputWrapper = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"516171561\"\n  }, [\".jsx-516171561{margin:0;width:100%;}\"]),\n  className: \"jsx-516171561\"\n};","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport FormControl from '@material-ui/core/FormControl';\nimport MUIInput from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { formInput, formInputMeta } from '../../utils/react/propTypes.js';\nimport { ErrorText } from './buildingBlocks/ErrorText.js';\nimport { HelpText } from './buildingBlocks/HelpText.js';\nimport { inputWrapper } from './styles.js';\nexport const Input = props => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormControl, {\n  className: inputWrapper.className\n}, /*#__PURE__*/React.createElement(InputLabel, {\n  htmlFor: props.input.name\n}, props.placeholder), /*#__PURE__*/React.createElement(MUIInput, _extends({}, props.input, {\n  label: props.placeholder\n})), props.helpText && /*#__PURE__*/React.createElement(HelpText, null, props.helpText), /*#__PURE__*/React.createElement(ErrorText, {\n  error: props.meta.error || '',\n  touched: props.meta.touched\n})), inputWrapper.styles);\nInput.propTypes = {\n  input: formInput.isRequired,\n  meta: formInputMeta.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  helpText: PropTypes.string\n};","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { FormRow } from '../../../../components/form/FormRow.js';\nimport { Input } from '../../../../components/form/Input.js';\nimport { isRequired } from '../../../../utils/form/validators.js';\nexport const Name = () => /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n  name: \"name\",\n  placeholder: i18n.t('Name*'),\n  component: Input,\n  validate: isRequired\n}));","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport { children } from '../../utils/react/propTypes.js';\nexport const FormSectionTitle = _ref => {\n  let {\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"jsx-4079111950\"\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"4079111950\"\n  }, [\"h2.jsx-4079111950{color:black;font-weight:bold;font-size:1.3em;line-height:2;margin:0 0 10px;}\"]));\n};\nFormSectionTitle.propTypes = {\n  children: children.isRequired\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { FormSectionTitle } from '../../../../components/form/FormSectionTitle.js';\nexport const Title = props => /*#__PURE__*/React.createElement(FormSectionTitle, null, props.label);\nTitle.propTypes = {\n  label: PropTypes.string.isRequired\n};","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { Title } from './Title.js';\nexport const TitleDetails = () => /*#__PURE__*/React.createElement(Title, {\n  label: i18n.t('Details')\n});","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { Title } from './Title.js';\nexport const TitleResource = () => /*#__PURE__*/React.createElement(Title, {\n  label: i18n.t('Resource')\n});","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MUISelect from '@material-ui/core/Select';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { formInput, formInputMeta, formOptions } from '../../utils/react/propTypes.js';\nimport { ErrorText } from './buildingBlocks/ErrorText.js';\nimport { inputWrapper } from './styles.js';\nexport const SelectField = props => /*#__PURE__*/React.createElement(MUISelect, _extends({}, props.input, {\n  disabled: props.disabled\n}), props.showEmptyOption && /*#__PURE__*/React.createElement(MenuItem, {\n  value: \"\"\n}), props.options.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n  key: option.value,\n  value: option.value\n}, option.label)));\nSelectField.propTypes = {\n  disabled: PropTypes.bool.isRequired,\n  input: formInput.isRequired,\n  options: formOptions.isRequired,\n  showEmptyOption: PropTypes.bool.isRequired\n};\nconst {\n  className,\n  styles\n} = inputWrapper;\nexport const Select = props => /*#__PURE__*/React.createElement(FormControl, {\n  className: className\n}, /*#__PURE__*/React.createElement(InputLabel, {\n  htmlFor: props.input.name\n}, props.placeholder), /*#__PURE__*/React.createElement(SelectField, {\n  input: props.input,\n  showEmptyOption: props.showEmptyOption,\n  options: props.options,\n  disabled: props.disabled\n}), /*#__PURE__*/React.createElement(ErrorText, {\n  showErrorText: props.showErrorText,\n  error: props.meta.error || '',\n  touched: props.meta.touched\n}), styles);\nSelect.propTypes = {\n  input: formInput.isRequired,\n  meta: formInputMeta.isRequired,\n  options: formOptions.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  showEmptyOption: PropTypes.bool,\n  showErrorText: PropTypes.bool\n};\nSelect.defaultProps = {\n  showEmptyOption: false,\n  showErrorText: false,\n  disabled: false\n};","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { FormRow } from '../../../../components/form/FormRow.js';\nimport { Select } from '../../../../components/form/Select.js';\nimport { resourceTypeOptions } from '../../../../utils/resource/constants.js';\nexport const Type = props => /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n  name: \"type\",\n  placeholder: i18n.t('Resource Type'),\n  options: resourceTypeOptions,\n  showErrorText: false,\n  component: Select,\n  disabled: props.disabled\n}));\nType.propTypes = {\n  disabled: PropTypes.bool\n};\nType.defaultProps = {\n  disabled: false\n};","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { FormRow } from '../../../../components/form/FormRow.js';\nimport { Input } from '../../../../components/form/Input.js';\nimport { isRequired } from '../../../../utils/form/validators.js';\nexport const Url = () => /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n  name: \"url\",\n  placeholder: i18n.t('Url*'),\n  component: Input,\n  validate: isRequired\n}));","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React, { Fragment } from 'react';\nimport { Form } from 'react-final-form';\nimport { Button } from '../../../components/form/Button.js';\nimport { FormSection } from '../../../components/form/FormSection.js';\nimport { resourceTypes } from '../../../utils/resource/constants.js';\nimport { Attachment } from './ResourceForm/Attachment.js';\nimport { File } from './ResourceForm/File.js';\nimport { Name } from './ResourceForm/Name.js';\nimport { TitleDetails } from './ResourceForm/TitleDetails.js';\nimport { TitleResource } from './ResourceForm/TitleResource.js';\nimport { Type } from './ResourceForm/Type.js';\nimport { Url } from './ResourceForm/Url.js';\nexport const ResourceForm = props => /*#__PURE__*/React.createElement(Form, {\n  onSubmit: props.onSubmit,\n  initialValues: props.initialValues\n}, _ref => {\n  let {\n    handleSubmit,\n    values,\n    valid\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"jsx-612925129\"\n  }, props.isEditingFileResource && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"jsx-612925129\" + \" \" + \"edit-unavailable\"\n  }, i18n.t('File resources can not be edited, only created')), /*#__PURE__*/React.createElement(\"fieldset\", {\n    disabled: props.isEditingFileResource,\n    className: \"jsx-612925129\"\n  }, /*#__PURE__*/React.createElement(FormSection, null, /*#__PURE__*/React.createElement(TitleDetails, null), /*#__PURE__*/React.createElement(Name, null), /*#__PURE__*/React.createElement(Type, null)), /*#__PURE__*/React.createElement(FormSection, {\n    show: values.type === resourceTypes.EXTERNAL_URL,\n    render: () => /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(TitleResource, null), /*#__PURE__*/React.createElement(Url, null))\n  }), /*#__PURE__*/React.createElement(FormSection, {\n    show: values.type === resourceTypes.UPLOAD_FILE,\n    render: () => /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(TitleResource, null), /*#__PURE__*/React.createElement(Attachment, null), /*#__PURE__*/React.createElement(File, {\n      isRequired: props.isFileRequired\n    }))\n  })), /*#__PURE__*/React.createElement(Button, {\n    label: props.onSubmitLabel,\n    isPrimary: true,\n    onClick: handleSubmit,\n    disabled: !valid || props.isEditingFileResource\n  }), /*#__PURE__*/React.createElement(Button, {\n    label: i18n.t('Cancel'),\n    onClick: props.onCancel\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"612925129\"\n  }, [\"fieldset.jsx-612925129{position:relative;border:none;margin:0;padding:0;}\", \"fieldset.jsx-612925129:disabled.jsx-612925129::after{content:' ';display:block;position:absolute;top:0;left:0;height:100%;width:100%;background-color:rgba(255,255,255,0.5);pointer-events:none;}\", \"p.edit-unavailable.jsx-612925129{color:red;}\"]));\n});\nResourceForm.propTypes = {\n  initialValues: PropTypes.object.isRequired,\n  isEditingFileResource: PropTypes.bool.isRequired,\n  isFileRequired: PropTypes.bool.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onSubmitLabel: PropTypes.string.isRequired\n};","import omit from 'lodash.omit';\nimport { isRequiredWhen } from '../../utils/form/validators.js';\nimport { resourceActions, resourceTypes } from '../../utils/resource/constants.js';\nexport const showContextAction = deleteResource => (document, action) => {\n  const access = document && document.access ? document.access : {};\n  const actions = {\n    [resourceActions.VIEW]: access.read,\n    [resourceActions.SHARING_SETTINGS]: access.manage || access.externalize,\n    [resourceActions.DELETE]: deleteResource,\n    /**\n     * This is currently not working on the backend for non-external documents\n     * See the docs (docs/sections/resources.md) in this repo for more details\n     */\n    [resourceActions.EDIT]: access.update && document.external\n  };\n  return actions[action] || false;\n};\nexport const extractFileAndFormattedResource = values => {\n  const file = values.type === resourceTypes.UPLOAD_FILE && values.file ? values.file.file : null;\n  const resource = omit(values, 'file');\n  const formattedResource = {\n    ...resource,\n    attachment: values.attachment === 'yes',\n    external: values.type === resourceTypes.EXTERNAL_URL\n  };\n  return {\n    file,\n    resource: formattedResource\n  };\n};\n\n/**\n *\n * Validation\n *\n */\nexport const isTypeExternalUrl = values => values.type === resourceTypes.EXTERNAL_URL;\nexport const isTypeUploadFile = values => values.type === resourceTypes.UPLOAD_FILE;\nexport const isRequriedWhenTypeExternalUrl = isRequiredWhen(isTypeExternalUrl);\nexport const isRequriedWhenTypeUploadFile = isRequiredWhen(isTypeUploadFile);","function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport i18n from '@dhis2/d2-i18n';\nimport { Card, CircularProgress } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { SectionHeadline } from '../../components/SectionHeadline.js';\nimport { RESOURCE_SECTION_KEY } from '../../config/sections.config.js';\nimport { loadResource, addNewResource, updateResource, backToList } from '../../redux/actions/resource.js';\nimport { resourceTypeOptions } from '../../utils/resource/constants.js';\nimport { formCard, formLoader } from '../../utils/styles/shared.js';\nimport { ResourceForm } from './add-edit-resource/ResourceForm.js';\nimport { extractFileAndFormattedResource } from './helper.js';\nclass AddEditResource extends Component {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"onSubmit\", values => {\n      const {\n        file,\n        resource\n      } = extractFileAndFormattedResource(values);\n      const submitHandler = this.isEdit() ? this.props.updateResource : this.props.addNewResource;\n      submitHandler(resource, file);\n      this.props.backToList();\n    });\n  }\n  componentDidMount() {\n    if (!this.isResourceLoaded()) {\n      this.props.loadResource(this.getResourceIdFromUrl());\n    }\n  }\n  getInitialValues() {\n    const {\n      resource\n    } = this.props;\n    return this.isEdit() ? {\n      name: resource.displayName,\n      type: resourceTypeOptions[resource.external ? 0 : 1].value,\n      attachment: resource.attachment ? 'yes' : 'no',\n      url: resource.url\n    } : {\n      name: '',\n      type: resourceTypeOptions[1].value,\n      attachment: 'no'\n    };\n  }\n  isEdit() {\n    return this.props.match.params.mode === 'edit';\n  }\n  isResourceLoaded() {\n    return !(this.isEdit() && !this.props.resource.id);\n  }\n  isEditingFileResource() {\n    return this.isEdit() && !this.props.resource.external;\n  }\n  getResourceIdFromUrl() {\n    return this.props.match.params.id;\n  }\n  getFormTexts(isEdit) {\n    const editTitle = i18n.t('Edit resource');\n    const editSubmitLabel = i18n.t('Save resource');\n    const addText = i18n.t('Add resource');\n    return {\n      title: isEdit ? editTitle : addText,\n      submitLabel: isEdit ? editSubmitLabel : addText\n    };\n  }\n  render() {\n    const isEdit = this.isEdit();\n    const {\n      title,\n      submitLabel\n    } = this.getFormTexts(isEdit);\n    return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(SectionHeadline, {\n      label: title,\n      showBackButton: true,\n      onBackClick: this.props.backToList,\n      sectionKey: RESOURCE_SECTION_KEY\n    }), /*#__PURE__*/React.createElement(Card, {\n      className: formCard.className\n    }, this.isResourceLoaded() ? /*#__PURE__*/React.createElement(ResourceForm, {\n      open: true,\n      title: title,\n      isFileRequired: !isEdit,\n      onSubmitLabel: submitLabel,\n      initialValues: this.getInitialValues(),\n      onSubmit: this.onSubmit,\n      onCancel: this.props.backToList,\n      isEditingFileResource: this.isEditingFileResource()\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: formLoader.className\n    }, /*#__PURE__*/React.createElement(CircularProgress, null))), formCard.styles, formLoader.styles);\n  }\n}\nAddEditResource.propTypes = {\n  addNewResource: PropTypes.func.isRequired,\n  backToList: PropTypes.func.isRequired,\n  loadResource: PropTypes.func.isRequired,\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      mode: PropTypes.oneOf(['new', 'edit']).isRequired,\n      id: PropTypes.string\n    }).isRequired\n  }).isRequired,\n  resource: PropTypes.object.isRequired,\n  updateResource: PropTypes.func.isRequired\n};\nconst ConnectedAddEditResource = connect(state => ({\n  resource: state.resource.selectedResource\n}), {\n  loadResource,\n  updateResource,\n  addNewResource,\n  backToList\n})(AddEditResource);\nexport { ConnectedAddEditResource as AddEditResource, AddEditResource as AddEditResourceComponent };","export default function getPagerCurrentlyShown(state) {\n  const {\n    pageSize,\n    total,\n    page\n  } = state.pagination;\n  const projectedEnd = page * pageSize;\n  const start = projectedEnd - pageSize + 1;\n  const end = projectedEnd > total ? total : projectedEnd;\n  return `${start} - ${end}`;\n}","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, Pagination, SvgIcon } from '@dhis2/d2-ui-core';\nimport '@dhis2/d2-ui-core/css/Pagination.css';\nimport '@dhis2/d2-ui-core/css/Table.css';\nimport Table from '@dhis2/d2-ui-table';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TextField from '@material-ui/core/TextField';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport getPagerCurrentlyShown from '../redux/selectors/pagination/getPagerCurrentlyShown.js';\nconst searchText = i18n.t('Search');\nconst SearchablePagedList = props => {\n  const pagination = /*#__PURE__*/React.createElement(Pagination, {\n    total: props.pagerTotal,\n    hasNextPage: props.pagerHasNextPage,\n    hasPreviousPage: props.pagerHasPreviousPage,\n    currentlyShown: props.pagerCurrentlyShown,\n    onNextPageClick: props.goToNextPage,\n    onPreviousPageClick: props.goToPrevPage\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}`\n  }, pagination, /*#__PURE__*/React.createElement(TextField, {\n    className: \"search-input\",\n    value: props.searchInputValue,\n    type: \"search\",\n    label: searchText,\n    onChange: props.searchInputChangeHandler\n  }), /*#__PURE__*/React.createElement(Table, {\n    rows: props.isLoading ? [] : props.rows,\n    columns: props.columns,\n    contextMenuActions: props.contextMenuActions,\n    primaryAction: props.primaryAction,\n    contextMenuIcons: props.contextMenuIcons,\n    isContextActionAllowed: props.isContextActionAllowed\n  }), props.isLoading && /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"data-table-fake-row\"\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    size: 32,\n    className: \"loader\"\n  })), props.rows.length === 0 && !props.isLoading && /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"data-table-fake-row\"\n  }, i18n.t('No results have been found')), pagination, /*#__PURE__*/React.createElement(Button, {\n    id: 'add-resource-btn-id',\n    fab: true,\n    onClick: props.addButtonClickHandler\n  }, /*#__PURE__*/React.createElement(SvgIcon, {\n    icon: \"Add\"\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nconst styles = [\"div.jsx-559166881>.search-input input.jsx-559166881{-webkit-appearance:textfield;}\", \"div.jsx-559166881>.search-input{width:400px;}\", \"div.jsx-559166881>.data-table-pager{float:right;padding-top:8px;}\", \"div.jsx-559166881>.d2-ui-button{position:fixed;bottom:1.5rem;right:1.5rem;}\", \".data-table-fake-row.jsx-559166881{position:relative;height:50px;line-height:50px;background-color:#ffffff;text-align:center;font-style:italic;color:#757575;box-shadow:0 1px 3px 0 rgba(0,0,0,0.12), 0 1px 2px 0 rgba(0,0,0,0.24);}\", \".data-table-fake-row.jsx-559166881 .loader{margin-top:8px;}\"];\nstyles.__hash = \"559166881\";\nSearchablePagedList.propTypes = {\n  addButtonClickHandler: PropTypes.func.isRequired,\n  columns: PropTypes.arrayOf(PropTypes.string).isRequired,\n  contextMenuActions: PropTypes.object.isRequired,\n  contextMenuIcons: PropTypes.object.isRequired,\n  goToNextPage: PropTypes.func.isRequired,\n  goToPrevPage: PropTypes.func.isRequired,\n  isContextActionAllowed: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  pagerCurrentlyShown: PropTypes.string.isRequired,\n  pagerHasNextPage: PropTypes.func.isRequired,\n  pagerHasPreviousPage: PropTypes.func.isRequired,\n  pagerTotal: PropTypes.number.isRequired,\n  primaryAction: PropTypes.func.isRequired,\n  rows: PropTypes.array.isRequired,\n  searchInputChangeHandler: PropTypes.func.isRequired,\n  searchInputValue: PropTypes.string.isRequired\n};\nconst mapStateToProps = state => ({\n  pagerTotal: state.pagination.total,\n  pagerHasNextPage: () => state.pagination.page < state.pagination.pageCount,\n  pagerHasPreviousPage: () => state.pagination.page > 1,\n  pagerCurrentlyShown: getPagerCurrentlyShown(state)\n});\nexport default connect(mapStateToProps)(SearchablePagedList);","import { connect } from 'react-redux';\nimport { addResource, closeContextMenu, requestDeleteResource, deleteResource, editResource, goToNextPage, goToPrevPage, loadResources, setSearchAndLoadResources, showSharingSettings, viewResource } from '../../redux/actions/resource.js';\nconst mapStateToProps = state => ({\n  open: state.resource.open,\n  resources: state.resource.collection,\n  selectedAction: state.resource.selectedAction,\n  selectedResource: state.resource.selectedResource,\n  loadingResources: state.resource.loading,\n  search: state.resource.search,\n  pager: state.pagination\n});\nconst mapDispatchToProps = {\n  goToNextPage,\n  goToPrevPage,\n  loadResources,\n  requestDeleteResource,\n  deleteResource,\n  setSearch: event => setSearchAndLoadResources(event.target.value),\n  addResource,\n  viewResource,\n  editResource,\n  showSharingSettings,\n  closeContextMenu\n};\nexport const connectResource = connect(mapStateToProps, mapDispatchToProps);","import SharingDialog from '@dhis2/d2-ui-sharing-dialog';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getD2 } from '../../utils/api.js';\nimport { resourceActions } from '../../utils/resource/constants.js';\nconst ResourceActions = props => {\n  const {\n    selectedAction\n  } = props;\n  if (!props.selectedAction) {\n    return null;\n  }\n  if (selectedAction === resourceActions.SHARING_SETTINGS) {\n    return /*#__PURE__*/React.createElement(SharingDialog, {\n      open: props.open,\n      id: props.selectedResource.id,\n      type: \"document\",\n      onRequestClose: props.handleClose,\n      d2: getD2()\n    });\n  }\n  return null;\n};\nResourceActions.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  selectedAction: PropTypes.string.isRequired,\n  selectedResource: PropTypes.object.isRequired\n};\nexport default ResourceActions;","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Snackbar } from '../components/feedback/Snackbar.js';\nimport SearchablePagedList from '../components/SearchablePagedList.js';\nimport { SectionHeadline } from '../components/SectionHeadline.js';\nimport { RESOURCE_SECTION_KEY, sections } from '../config/sections.config.js';\nimport { contextMenuIcons, resourceActions } from '../utils/resource/constants.js';\nimport { connectResource } from './resource/connectResource.js';\nimport { showContextAction } from './resource/helper.js';\nimport ResourceActions from './resource/ResourceActions.js';\nconst createContextMenuOptions = props => ({\n  [resourceActions.VIEW]: props.viewResource,\n  [resourceActions.EDIT]: props.editResource,\n  [resourceActions.SHARING_SETTINGS]: props.showSharingSettings,\n  [resourceActions.DELETE]: props.requestDeleteResource\n});\nclass Resource extends React.Component {\n  constructor(props) {\n    super(props);\n    this.contextMenuOptions = createContextMenuOptions(props);\n  }\n  componentDidMount() {\n    if (this.props.resources.length === 0) {\n      this.props.loadResources();\n    }\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SectionHeadline, {\n      label: sections[RESOURCE_SECTION_KEY].info.label,\n      sectionKey: RESOURCE_SECTION_KEY\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"resource-content\"\n    }, /*#__PURE__*/React.createElement(SearchablePagedList, {\n      columns: ['displayName'],\n      rows: this.props.resources,\n      isLoading: this.props.loadingResources,\n      contextMenuActions: this.contextMenuOptions,\n      primaryAction: this.contextMenuOptions[resourceActions.VIEW],\n      contextMenuIcons: contextMenuIcons,\n      isContextActionAllowed: showContextAction(this.props.deleteResource),\n      searchInputValue: this.props.search,\n      searchInputChangeHandler: this.props.setSearch,\n      addButtonClickHandler: this.props.addResource,\n      goToNextPage: this.props.goToNextPage,\n      goToPrevPage: this.props.goToPrevPage\n    }), /*#__PURE__*/React.createElement(ResourceActions, {\n      open: this.props.open,\n      selectedAction: this.props.selectedAction,\n      selectedResource: this.props.selectedResource,\n      handleClose: this.props.closeContextMenu\n    }), /*#__PURE__*/React.createElement(Snackbar, {\n      action: i18n.t('CONFIRM'),\n      onActionClick: this.props.deleteResource\n    })));\n  }\n}\nResource.propTypes = {\n  addResource: PropTypes.func.isRequired,\n  closeContextMenu: PropTypes.func.isRequired,\n  deleteResource: PropTypes.func.isRequired,\n  goToNextPage: PropTypes.func.isRequired,\n  goToPrevPage: PropTypes.func.isRequired,\n  loadResources: PropTypes.func.isRequired,\n  loadingResources: PropTypes.bool.isRequired,\n  open: PropTypes.bool.isRequired,\n  resources: PropTypes.array.isRequired,\n  search: PropTypes.string.isRequired,\n  selectedAction: PropTypes.string.isRequired,\n  selectedResource: PropTypes.object.isRequired,\n  setSearch: PropTypes.func.isRequired\n};\nconst ConnectedResource = connectResource(Resource);\nexport { ConnectedResource as Resource };","export const fileToText = blob => new Promise((resolve, reject) => {\n  const fileReader = new FileReader();\n  fileReader.readAsText(blob);\n  fileReader.onload = event => {\n    if (event.target.readyState !== 2) {\n      return;\n    }\n    if (event.target.error) {\n      reject('File could not be read');\n    }\n    resolve(event.target.result);\n  };\n});","import i18n from '@dhis2/d2-i18n';\nimport { push } from 'connected-react-router';\nimport debounce from 'lodash.debounce';\nimport omit from 'lodash.omit';\nimport size from 'lodash.size';\nimport { DEBOUNCE_DELAY } from '../../config/search.config.js';\nimport { STANDARD_REPORT_SECTION_KEY } from '../../config/sections.config.js';\nimport { reportTypes } from '../../pages/standard-report/standard.report.conf.js';\nimport { deleteStandardReport as deleteStandardReportRequest, getApi, getFilteredStandardReports, getStandardReportDetails, getStandardReportHtmlReport, postStandardReport, updateStandardReport } from '../../utils/api.js';\nimport { formatStandardReportPayloadBySystemVersion } from '../../utils/backwardCompatability.js';\nimport { fileToText } from '../../utils/fileToText.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { getPeriodStartDate } from '../../utils/periods/periodTypes.js';\nimport { appendOrgUnitsAndReportPeriodToQueryString, extractRequiredReportParams, getReportParams, isHtmlReport, validateRequiredParams, processCheckboxValues, isJasperReportTableReport } from '../../utils/standardReport/index.js';\nimport { clearFeedback, showConfirmationSnackBar, showErrorSnackBar, showSuccessSnackBar } from './feedback.js';\nimport { clearSelectedOrgUnit } from './organisationUnits.js';\nimport { goToNextPage as goToNextPageOrig, goToPrevPage as goToPrevPageOrig, setPagination } from './pagination.js';\nimport { loadingReportDataError, loadingReportDataStart, loadingReportDataSuccess } from './reportData.js';\nimport { clearSelectedReportPeriod } from './reportPeriod.js';\nexport const actionTypes = {\n  SET_SELECTED_REPORT: 'SET_SELECTED_REPORT',\n  CLEAR_SELECTED_REPORT: 'CLEAR_SELECTED_REPORT',\n  LOAD_STANDARD_REPORTS: 'LOAD_STANDARD_REPORTS',\n  LOADING_STANDARD_REPORTS_START: 'LOADING_STANDARD_REPORTS_START',\n  LOADING_STANDARD_REPORTS_SUCCESS: 'LOADING_STANDARD_REPORTS_SUCCESS',\n  LOADING_STANDARD_REPORTS_ERROR: 'LOADING_STANDARD_REPORTS_ERROR',\n  LOADING_STANDARD_REPORTS_DETAILS_START: 'LOADING_STANDARD_REPORTS_DETAILS_START',\n  LOADING_STANDARD_REPORTS_DETAILS_SUCCESS: 'LOADING_STANDARD_REPORTS_DETAILS_SUCCESS',\n  LOADING_STANDARD_REPORTS_DETAILS_ERROR: 'LOADING_STANDARD_REPORTS_DETAILS_ERROR',\n  SET_SEARCH: 'SET_SEARCH',\n  ADD_REPORT_FORM_SHOW: 'ADD_REPORT_FORM_SHOW',\n  ADD_REPORT_FORM_HIDE: 'ADD_REPORT_FORM_HIDE',\n  EDIT_REPORT_FORM_SHOW: 'EDIT_REPORT_FORM_SHOW',\n  EDIT_REPORT_FORM_HIDE: 'EDIT_REPORT_FORM_HIDE',\n  CREATE_REPORT_SHOW: 'CREATE_REPORT_SHOW',\n  CREATE_REPORT_HIDE: 'CREATE_REPORT_HIDE',\n  SHARING_SETTINGS_SHOW: 'SHARING_SETTINGS_SHOW',\n  SHARING_SETTINGS_HIDE: 'SHARING_SETTINGS_HIDE',\n  REQUEST_DELETE_STANDARD_REPORT: 'REQUEST_DELETE_STANDARD_REPORT',\n  DELETE_STANDARD_REPORT_START: 'DELETE_STANDARD_REPORT_START',\n  DELETE_STANDARD_REPORT_SUCCESS: 'DELETE_STANDARD_REPORT_SUCCESS',\n  DELETE_STANDARD_REPORT_ERROR: 'DELETE_STANDARD_REPORT_ERROR',\n  HTML_REPORT_SHOW: 'HTML_REPORT_SHOW',\n  HTML_REPORT_HIDE: 'HTML_REPORT_HIDE',\n  CLOSE_CONTEXT_MENU: 'CLOSE_CONTEXT_MENU',\n  STANDARD_REPORT_SEND_START: 'STANDARD_REPORT_SEND_START',\n  STANDARD_REPORT_SEND_SUCCESS: 'STANDARD_REPORT_SEND_SUCCESS',\n  STANDARD_REPORT_SEND_ERROR: 'STANDARD_REPORT_SEND_ERROR',\n  DEFINE_REQUIRED_PARAMS: 'DEFINE_REQUIRED_PARAMS',\n  REQUIRED_PARAMS_ERROR: 'REQUIRED_PARAMS_ERROR',\n  GENERATE_PDF_REPORT: 'GENERATE_PDF_REPORT',\n  CANCEL_GENERATING_PDF_REPORT: 'CANCEL_GENERATING_PDF_REPORT'\n};\n\n/**\n * @returns {Object}\n */\nexport const setSelectedReport = report => ({\n  type: actionTypes.SET_SELECTED_REPORT,\n  payload: report\n});\nexport const clearSelectedReport = () => ({\n  type: actionTypes.CLEAR_SELECTED_REPORT\n});\n\n/**\n * @returns {Object}\n */\nexport const startLoadingStandardReports = () => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_START\n});\n\n/**\n * @param {Array} reports\n * @returns {Object}\n */\nexport const loadingStandardReportsSuccess = reports => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_SUCCESS,\n  payload: reports\n});\n\n/**\n * @returns {Object}\n */\nexport const loadingStandardReportsError = () => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_ERROR\n});\n\n/**\n * @param {Error} error\n * @returns {Function}\n */\nexport const loadingStandardReportsErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the standard reports');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingStandardReportsError());\n};\n\n/**\n * @param {string} searchTerm\n * @return {Function} Redux thunk\n */\nconst debouncedLoadStandardReports = debounce(dispatch => dispatch(loadStandardReports()), DEBOUNCE_DELAY);\nexport const setSearch = searchTerm => dispatch => {\n  dispatch({\n    type: actionTypes.SET_SEARCH,\n    payload: searchTerm\n  });\n  debouncedLoadStandardReports(dispatch);\n};\n\n/**\n * @param {number} nextPage\n * @return {Function}\n */\nexport const goToNextPage = () => dispatch => {\n  dispatch(goToNextPageOrig());\n  dispatch(loadStandardReports());\n};\n\n/**\n * @param {number} nextPage\n * @return {Function}\n */\nexport const goToPrevPage = () => dispatch => {\n  dispatch(goToPrevPageOrig());\n  dispatch(loadStandardReports());\n};\n\n/**\n * @param {Object} report A d2 report model\n * @return {Object}\n */\nexport const addReportFormShow = () => push(`${STANDARD_REPORT_SECTION_KEY}/new`);\n\n/**\n * @param {Object} report A d2 report model\n * @return {Object}\n */\nexport const editReportFormShow = report => push(`${STANDARD_REPORT_SECTION_KEY}/edit/${report.id}`);\n\n/**\n * @param {Object} report A d2 report model\n * @return {Object}\n */\nexport const sharingSettingsShow = report => ({\n  type: actionTypes.SHARING_SETTINGS_SHOW,\n  payload: report\n});\n\n/**\n * Used to get a confirmation from the user\n * @return {Object}\n */\nexport const requestDeleteStandardReport = report => dispatch => {\n  dispatch({\n    type: actionTypes.REQUEST_DELETE_STANDARD_REPORT,\n    payload: report\n  });\n  dispatch(showConfirmationSnackBar('Do you really want to delete this report?'));\n};\n\n/**\n * @return {Object}\n */\nexport const deleteStandardReportStart = () => ({\n  type: actionTypes.DELETE_STANDARD_REPORT_START\n});\n\n/**\n * @return {Object}\n */\nexport const deleteStandardReportSuccess = () => ({\n  type: actionTypes.DELETE_STANDARD_REPORT_SUCCESS\n});\n\n/**\n * @returns {Object}\n */\nexport const deleteStandardReportError = () => ({\n  type: actionTypes.DELETE_STANDARD_REPORT_ERROR\n});\n\n/**\n * @return {Object}\n */\nexport const deleteStandardReportSuccessWithFeedback = () => dispatch => {\n  dispatch(deleteStandardReportSuccess());\n  dispatch(loadStandardReports());\n  dispatch(clearFeedback());\n};\n\n/**\n * @param {Error} error\n * @return {Object}\n */\nexport const deleteStandardReportErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while trying to delete the standard report');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(deleteStandardReportError());\n};\n\n/**\n * @returns {Object}\n */\nexport const closeContextMenu = refreshList => dispatch => {\n  dispatch({\n    type: actionTypes.CLOSE_CONTEXT_MENU\n  });\n  if (refreshList) {\n    dispatch(loadStandardReports());\n  }\n};\n\n/**\n * @param {string} reportData\n * @returns {Object}\n */\nexport const showReportData = reportData => dispatch => {\n  dispatch(loadingReportDataSuccess(reportData));\n  dispatch(closeContextMenu());\n};\n\n/**\n * @returns {Object}\n */\nexport const hideReportData = () => ({\n  type: actionTypes.HTML_REPORT_HIDE\n});\n\n/**\n * @return {Function} Redux thunk\n */\nexport const loadStandardReports = () => (dispatch, getState) => {\n  const {\n    standardReport,\n    pagination\n  } = getState();\n  const {\n    page,\n    pageSize\n  } = pagination;\n  const {\n    search\n  } = standardReport;\n  dispatch(startLoadingStandardReports());\n  return getFilteredStandardReports(page, pageSize, search).then(response => {\n    dispatch(loadingStandardReportsSuccess(response.reports));\n    dispatch(setPagination(response.pager));\n  }).catch(error => dispatch(loadingStandardReportsErrorWithFeedback(error)));\n};\n\n/**\n * @param {Object} report\n * @return {Function} A redux thunk\n */\nexport const deleteStandardReport = () => (dispatch, getState) => {\n  const {\n    selectedReport\n  } = getState().standardReport;\n  dispatch(deleteStandardReportStart());\n  return deleteStandardReportRequest(selectedReport.id).then(() => dispatch(deleteStandardReportSuccessWithFeedback())).catch(error => dispatch(deleteStandardReportErrorWithFeedback(error)));\n};\n\n/**\n * @returns {Object}\n */\nexport const loadingStandardReportsDetailsStart = () => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_DETAILS_START\n});\n\n/**\n * @param {Array} reports\n * @returns {Object}\n */\nexport const loadingStandardReportsDetailsSuccess = reports => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_DETAILS_SUCCESS,\n  payload: reports\n});\n\n/**\n * @returns {Object}\n */\nexport const loadingStandardReportsDetailsError = () => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_DETAILS_ERROR\n});\n\n/**\n * @param {Error} error\n * @returns {Function}\n */\nexport const loadingStandardReportsDetailsErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the standard report details');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingStandardReportsDetailsError());\n};\n\n/**\n * @param {string} id\n * @returns {Function}\n */\nexport const loadStandardReportDetails = id => dispatch => {\n  dispatch(loadingStandardReportsDetailsStart());\n  getStandardReportDetails(id).then(report => dispatch(loadingStandardReportsDetailsSuccess(report))).catch(error => dispatch(loadingStandardReportsDetailsError(error)));\n};\n\n/**\n * @returns {Object}\n */\nexport const loadingSendStandardReportStart = () => ({\n  type: actionTypes.STANDARD_REPORT_SEND_START\n});\n\n/**\n * @returns {Object}\n */\nexport const loadingSendStandardReportSuccess = () => ({\n  type: actionTypes.STANDARD_REPORT_SEND_SUCCESS\n});\n\n/**\n * @returns {Object}\n */\nexport const loadingSendStandardReportError = () => ({\n  type: actionTypes.STANDARD_REPORT_SEND_ERROR\n});\n\n/**\n * @param {Object} report\n * @param {bool} isEdit - When false, add new report\n * @returns {Promise}\n */\nexport const sendStandardReport = (report, isEdit) => (dispatch, getState) => {\n  dispatch(loadingSendStandardReportStart());\n  const {\n    standardReport: {\n      selectedReport\n    }\n  } = getState();\n  const formattedReport = {\n    ...report,\n    relativePeriods: processCheckboxValues(report.relativePeriods, selectedReport.relativePeriods),\n    reportParams: processCheckboxValues(report.reportParams, selectedReport.reportParams),\n    reportTable: report.reportTable ? {\n      id: report.reportTable\n    } : ''\n  };\n  const cleanedFormattedReportReport = isJasperReportTableReport(report) ? formattedReport : omit(formattedReport, ['reportTable']);\n  const dhis2CoreVersionFormattedReport = formatStandardReportPayloadBySystemVersion(cleanedFormattedReportReport);\n  const doRequest = isEdit ? report => updateStandardReport(report) : report => postStandardReport(report);\n  const successMessage = isEdit ? i18n.t('The report has been updated successfully') : i18n.t('The report has been added successfully');\n  const errorMessage = isEdit ? i18n.t('An error occurred while updating the report!') : i18n.t('An error occurred while adding the report!');\n  const request = !dhis2CoreVersionFormattedReport.designContent ? doRequest({\n    ...selectedReport,\n    ...dhis2CoreVersionFormattedReport\n  }) : fileToText(dhis2CoreVersionFormattedReport.designContent.file).then(file => ({\n    ...selectedReport,\n    ...dhis2CoreVersionFormattedReport,\n    designContent: file\n  })).then(doRequest);\n  return request.then(() => {\n    dispatch(showSuccessSnackBar(successMessage));\n    dispatch(loadingSendStandardReportSuccess());\n    dispatch(loadStandardReports());\n    dispatch(navigateToList());\n  }).catch(error => {\n    const displayMessage = humanReadableErrorMessage(error, errorMessage);\n    dispatch(showErrorSnackBar(displayMessage));\n    dispatch(loadingSendStandardReportError());\n  });\n};\nexport const navigateToList = () => dispatch => {\n  dispatch(clearSelectedReport());\n  dispatch(push(`/${STANDARD_REPORT_SECTION_KEY}`));\n};\n\n/**\n * =============================================\n * Generate report\n * =============================================\n */\n\n/**\n * @param {Error} error\n * @returns {Function}\n */\nexport const generatingHtmlReportErrorWithFeedback = error => dispatch => {\n  const generatingHtmlReportErrorDefaultMessage = i18n.t('An error occurred while generating the html report');\n  const displayMessage = humanReadableErrorMessage(error, generatingHtmlReportErrorDefaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingReportDataError());\n};\n\n/**\n * @param {string} id\n * @returns {Function}\n */\nexport const generateHtmlReport = _ref => {\n  let {\n    id,\n    orgUnitId,\n    reportPeriod\n  } = _ref;\n  return dispatch => {\n    dispatch(loadingReportDataStart());\n    const reportRequestBody = {};\n    if (orgUnitId) {\n      reportRequestBody.ou = orgUnitId;\n    }\n    if (reportPeriod) {\n      const startDate = getPeriodStartDate(reportPeriod);\n      reportRequestBody.pe = reportPeriod;\n      if (startDate) {\n        reportRequestBody.date = startDate;\n      }\n    }\n    return getStandardReportHtmlReport(id, reportRequestBody).then(report => dispatch(loadingReportDataSuccess(report))).catch(error => dispatch(generatingHtmlReportErrorWithFeedback(error)));\n  };\n};\nexport const defineRequiredReportParams = requiredParams => ({\n  type: actionTypes.DEFINE_REQUIRED_PARAMS,\n  payload: requiredParams\n});\nexport const requiredReportParamsError = errors => ({\n  type: actionTypes.REQUIRED_PARAMS_ERROR,\n  payload: errors\n});\nexport const cancelGeneratingPdfReport = () => dispatch => {\n  dispatch(clearSelectedReportPeriod());\n  dispatch(clearSelectedOrgUnit());\n  dispatch({\n    type: actionTypes.CANCEL_GENERATING_PDF_REPORT\n  });\n};\nexport const submitRequiredReportParams = () => (dispatch, getState) => {\n  const state = getState();\n  const {\n    standardReport\n  } = state;\n  const {\n    selectedReport,\n    reportParams\n  } = standardReport;\n  const errors = validateRequiredParams(state, reportParams);\n  if (size(errors)) {\n    dispatch(requiredReportParamsError(errors));\n  } else {\n    if (selectedReport.type === reportTypes.HTML) {\n      dispatch(navigateToHtmlReportView());\n    } else {\n      dispatch(generatePdfReport());\n    }\n  }\n};\n\n/**\n * @param {string} reportId\n * @returns {Function}\n */\nexport const showReportParams = report => dispatch => {\n  dispatch(setSelectedReport(report));\n  const reportParams = getReportParams(report);\n  const requiredParams = extractRequiredReportParams(reportParams);\n  if (!size(requiredParams)) {\n    if (isHtmlReport(report)) {\n      dispatch(navigateToHtmlReportView());\n    } else {\n      dispatch(generatePdfReport());\n    }\n  } else {\n    dispatch(defineRequiredReportParams(requiredParams));\n  }\n};\nexport const navigateToHtmlReportView = () => (dispatch, getState) => {\n  const state = getState();\n  const reportId = state.standardReport.selectedReport.id;\n  const reportQueryString = appendOrgUnitsAndReportPeriodToQueryString(state);\n  dispatch(push(`${STANDARD_REPORT_SECTION_KEY}/view/${reportId}${reportQueryString}`));\n};\nexport const generatePdfReport = () => (dispatch, getState) => {\n  const api = getApi();\n  const state = getState();\n  const {\n    id\n  } = state.standardReport.selectedReport;\n  const reportPath = `reports/${id}/data.pdf`;\n  const reportQueryString = appendOrgUnitsAndReportPeriodToQueryString(state, `t=${new Date().getTime()}`);\n  dispatch({\n    type: actionTypes.GENERATE_PDF_REPORT\n  });\n  dispatch(clearSelectedReportPeriod());\n  dispatch(clearSelectedOrgUnit());\n  window.open(`${api.baseUrl}/${reportPath}${reportQueryString}`);\n};","export const identity = input => input;","import { matchPath } from 'react-router-dom';\nimport { createSelector } from 'reselect';\nimport { reportTypes, cacheStrategies } from '../../../pages/standard-report/standard.report.conf.js';\nimport { identity } from '../../../utils/boolean/identity.js';\nexport const getSelectedStandardReport = state => state.standardReport.selectedReport;\nexport const getIsEdit = state => {\n  const match = matchPath(state.router.location.pathname, {\n    path: '/standard-report/:mode'\n  });\n  return !!(match && match.params.mode === 'edit');\n};\nexport const getEditFormInitialValues = createSelector([getSelectedStandardReport, getIsEdit], (selectedReport, isEdit) => {\n  if (isEdit) {\n    if (selectedReport.id) {\n      return {\n        id: selectedReport.id,\n        name: selectedReport.name,\n        type: selectedReport.type,\n        reportTable: selectedReport.reportTable && selectedReport.reportTable.id ? selectedReport.reportTable.id : '',\n        relativePeriods: selectedReport.relativePeriods ? Object.keys(selectedReport.relativePeriods).reduce((acc, cur) => selectedReport.relativePeriods[cur] ? [...acc, cur] : acc, []) : {},\n        reportParams: [selectedReport.reportParams.reportingPeriod ? 'reportingPeriod' : '', selectedReport.reportParams.organisationUnit ? 'organisationUnit' : ''].filter(identity),\n        cacheStrategy: selectedReport.cacheStrategy\n      };\n    } else {\n      // edit mode, but report hasn't loaded yet\n      return {};\n    }\n  }\n\n  // create mode\n  return {\n    type: reportTypes.JASPER_REPORT_TABLE,\n    cacheStrategy: cacheStrategies[1].value,\n    reportTable: ''\n  };\n});","import _JSXStyle from \"styled-jsx/style\";\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport Checkbox from '@material-ui/core/Checkbox';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { formInput } from '../../utils/react/propTypes.js';\nconst checkboxStyle = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3225532101\"\n  }, [\"span.jsx-3225532101{width:20px;height:20px;padding:0;}\"]),\n  className: \"jsx-3225532101\"\n};\nexport const CheckBox = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3779354103\" + \" \" + \"form-checkbox\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3779354103\" + \" \" + \"input-container\"\n}, /*#__PURE__*/React.createElement(Checkbox, _extends({\n  id: props.input.name + props.input.value\n}, props.input, {\n  type: \"checkbox\",\n  className: checkboxStyle.className\n}))), /*#__PURE__*/React.createElement(\"label\", {\n  htmlFor: props.input.name + props.input.value,\n  className: \"jsx-3779354103\" + \" \" + \"label-container\"\n}, props.label), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"3779354103\"\n}, [\".form-checkbox.jsx-3779354103{-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:30px;width:100%;}\", \".input-container.jsx-3779354103{width:25px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}\", \"input.jsx-3779354103{display:block;margin:0;}\", \"label.jsx-3779354103{display:block;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;padding:2px 0 5px;}\"]), checkboxStyle.styles);\nCheckBox.propTypes = {\n  input: formInput.isRequired,\n  label: PropTypes.string.isRequired\n};","import FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { CheckBox } from './CheckBox.js';\nconst styles = {\n  container: {\n    margin: '0 0 20px'\n  },\n  label: {\n    margin: '0 0 10px',\n    fontSize: '1rem',\n    color: 'black'\n  }\n};\nexport const CheckBoxes = withStyles(styles)(props => /*#__PURE__*/React.createElement(FormControl, {\n  className: props.classes.container\n}, props.label && /*#__PURE__*/React.createElement(FormHelperText, {\n  className: props.classes.label\n}, props.label), props.showError && /*#__PURE__*/React.createElement(Field, {\n  name: props.name,\n  type: \"checkbox\"\n}, _ref => {\n  let {\n    meta\n  } = _ref;\n  return meta.error && meta.touched ? meta.error : '';\n}), props.options.map(option => /*#__PURE__*/React.createElement(\"div\", {\n  key: option.label\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"checkbox\",\n  value: option.value,\n  label: option.label,\n  component: CheckBox,\n  name: props.name\n})))));\nCheckBoxes.propTypes = {\n  name: PropTypes.string.isRequired,\n  options: PropTypes.arrayOf(PropTypes.object).isRequired,\n  label: PropTypes.string,\n  showError: PropTypes.bool\n};\nCheckBoxes.defaultProps = {\n  label: '',\n  showError: true\n};","import FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { CheckBoxes } from './CheckBoxes.js';\nexport const CheckBoxGroups = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"row\"\n}, props.displayError && /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-xs-12\"\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"checkbox\",\n  name: props.name\n}, _ref => {\n  let {\n    meta\n  } = _ref;\n  return /*#__PURE__*/React.createElement(FormHelperText, null, meta.error && meta.touched ? meta.error : '');\n})), props.groups.map(group => /*#__PURE__*/React.createElement(\"div\", {\n  key: group.label,\n  className: \"col-xs-12 col-sm-6 col-md-4 col-lg-3\"\n}, /*#__PURE__*/React.createElement(CheckBoxes, {\n  name: props.name,\n  label: group.label,\n  options: group.options,\n  showError: false\n}))));\nCheckBoxGroups.propTypes = {\n  groups: PropTypes.array.isRequired,\n  name: PropTypes.string.isRequired,\n  displayError: PropTypes.bool\n};\nCheckBoxGroups.defaultProps = {\n  displayError: true\n};","import i18n from '@dhis2/d2-i18n';\nimport debounce from 'lodash.debounce';\nimport { DEBOUNCE_DELAY } from '../../config/search.config.js';\nimport { getStandardReportTables } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showErrorSnackBar } from './feedback.js';\nexport const MIN_CHAR_LENGTH = 3;\nexport const actionTypes = {\n  STANDARD_REPORT_TABLES_SET_SEARCH_TERM: 'STANDARD_REPORT_TABLES_SET_SEARCH_TERM',\n  STANDARD_REPORT_TABLES_CLEAR_SEARCH_TERM: 'STANDARD_REPORT_TABLES_CLEAR_SEARCH_TERM',\n  STANDARD_REPORT_TABLES_LOADING_START: 'STANDARD_REPORT_TABLES_LOADING_START',\n  STANDARD_REPORT_TABLES_LOADING_SUCCESS: 'STANDARD_REPORT_TABLES_LOADING_SUCCESS',\n  STANDARD_REPORT_TABLES_LOADING_ERROR: 'STANDARD_REPORT_TABLES_LOADING_ERROR'\n};\n\n/**\n * @returns {Function}\n */\nexport const loadFilteredStandardReportTables = searchTerm => dispatch => {\n  dispatch(setSearch(searchTerm));\n  if (searchTerm.length >= MIN_CHAR_LENGTH) {\n    debouncedLoadStandardReportTables(dispatch);\n  }\n};\n\n/**\n * @returns {Object}\n */\nexport const loadingStandardReportTablesStart = () => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_LOADING_START\n});\n\n/**\n * @returns {Object}\n */\nexport const setSearch = searchTerm => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_SET_SEARCH_TERM,\n  payload: searchTerm\n});\nexport const clearSearch = () => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_CLEAR_SEARCH_TERM\n});\n\n/**\n * @param {Array} tables\n * @returns {Object}\n */\nexport const loadingStandardReportTablesSuccess = tables => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_LOADING_SUCCESS,\n  payload: tables\n});\n\n/**\n * @returns {Object}\n */\nexport const loadingStandardReportTablesError = () => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_LOADING_ERROR\n});\n\n/**\n * @param {Error} error\n * @returns {Function}\n */\nexport const loadingStandardReportTablesErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the report table options');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingStandardReportTablesError());\n};\n\n/**\n * @returns {Function}\n */\nexport const loadStandardReportTables = () => (dispatch, getState) => {\n  const {\n    standardReportTables\n  } = getState();\n  dispatch(loadingStandardReportTablesStart());\n  return getStandardReportTables(standardReportTables.searchTerm).then(reportTables => {\n    const formattedReportTables = reportTables.map(_ref => {\n      let {\n        id,\n        displayName\n      } = _ref;\n      return {\n        value: id,\n        label: displayName\n      };\n    });\n    dispatch(loadingStandardReportTablesSuccess(formattedReportTables));\n  }).catch(error => {\n    dispatch(loadingStandardReportTablesErrorWithFeedback(error));\n  });\n};\nconst debouncedLoadStandardReportTables = debounce(dispatch => dispatch(loadStandardReportTables()), DEBOUNCE_DELAY);","import i18n from '@dhis2/d2-i18n';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport red from '@material-ui/core/colors/red';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport PropTypes from 'prop-types';\nimport React, { useState, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport { loadFilteredStandardReportTables, clearSearch, MIN_CHAR_LENGTH } from '../../redux/actions/standardReportTables.js';\nimport { formInput, formInputMeta } from '../../utils/react/propTypes.js';\nimport { Input } from './Input.js';\nconst centeredStyle = {\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  paddingTop: 16,\n  paddingBottom: 16\n};\nconst errorStyle = {\n  ...centeredStyle,\n  color: red[500]\n};\nconst infoStyle = {\n  ...centeredStyle,\n  color: '#494949,',\n  fontStyle: 'italic'\n};\nconst getListContent = _ref => {\n  let {\n    onClick,\n    loading,\n    error,\n    collection,\n    noMatches\n  } = _ref;\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: centeredStyle\n    }, /*#__PURE__*/React.createElement(CircularProgress, null));\n  } else if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: errorStyle\n    }, error);\n  } else if (noMatches) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: infoStyle\n    }, i18n.t('No matches found'));\n  } else if (collection.length > 0) {\n    return collection.map(item => {\n      return /*#__PURE__*/React.createElement(MenuItem, {\n        key: item.value\n        // use onMouseDown instead of onClick because this fires\n        // before the search-input's onBlur\n        ,\n        onMouseDown: () => onClick(item.value, item.label)\n      }, item.label);\n    });\n  } else {\n    return null;\n  }\n};\nexport const ReportTableSearchInputUI = props => {\n  var _inputRef$current;\n  const inputRef = useRef();\n  const [isSearchMode, setSearchMode] = useState(false);\n  const [reportTableName, setReportTableName] = useState('');\n  const showResults = isSearchMode && props.searchTerm.length >= MIN_CHAR_LENGTH;\n  const showHint = isSearchMode && props.searchTerm.length < MIN_CHAR_LENGTH;\n  const onFocus = () => {\n    if (!isSearchMode) {\n      setSearchMode(true);\n    }\n    props.input.onFocus && props.input.onFocus();\n  };\n  const onBlur = () => {\n    if (isSearchMode) {\n      setSearchMode(false);\n    }\n    props.input.onBlur && props.input.onBlur();\n  };\n  const onSearch = event => {\n    props.loadFilteredStandardReportTables(event.target.value);\n  };\n  const usedValue = isSearchMode ? props.searchTerm : reportTableName || props.persistedReportTableName;\n  const inputProps = {\n    ...props,\n    helpText: showHint ? i18n.t('Please enter at least {{count}} characters', {\n      count: MIN_CHAR_LENGTH\n    }) : undefined,\n    input: {\n      ...props.input,\n      value: usedValue,\n      onFocus: onFocus,\n      onChange: isSearchMode ? onSearch : props.input.onChange,\n      onBlur: isSearchMode ? onBlur : props.input.onBlur,\n      placeholder: i18n.t('Type to search a report table'),\n      inputRef,\n      autoComplete: 'off'\n    }\n  };\n  const onChange = (value, label) => {\n    setSearchMode(false);\n    setReportTableName(label);\n    props.clearSearch();\n    props.input.onChange(value);\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Input, inputProps), /*#__PURE__*/React.createElement(Popper, {\n    open: showResults,\n    anchorEl: inputRef.current,\n    style: {\n      width: (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.offsetWidth\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    style: {\n      maxHeight: 400,\n      overflow: 'auto'\n    }\n  }, getListContent({\n    onClick: onChange,\n    loading: props.loading,\n    error: props.error,\n    collection: props.collection,\n    noMatches: props.noMatches\n  }))));\n};\nReportTableSearchInputUI.propTypes = {\n  clearSearch: PropTypes.func.isRequired,\n  input: formInput.isRequired,\n  loadFilteredStandardReportTables: PropTypes.func.isRequired,\n  meta: formInputMeta.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  collection: PropTypes.array,\n  error: PropTypes.string,\n  loading: PropTypes.bool,\n  noMatches: PropTypes.bool,\n  persistedReportTableName: PropTypes.string,\n  searchTerm: PropTypes.string\n};\nconst mapStateToProps = state => ({\n  searchTerm: state.standardReportTables.searchTerm,\n  collection: state.standardReportTables.collection,\n  loading: state.standardReportTables.loading,\n  error: state.standardReportTables.error,\n  noMatches: state.standardReportTables.noMatches,\n  persistedReportTableName: state.standardReport.selectedReport.reportTable && state.standardReport.selectedReport.reportTable.displayName || ''\n});\nexport const ReportTableSearchInput = connect(mapStateToProps, {\n  loadFilteredStandardReportTables,\n  clearSearch\n})(ReportTableSearchInputUI);","import i18n from '../locales/index.js';\nexport const reportParameterOptions = [{\n  value: 'reportingPeriod',\n  label: i18n.t('Reporting Period')\n}, {\n  value: 'organisationUnit',\n  label: i18n.t('Organisation Unit')\n}];","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport Button from '@material-ui/core/Button';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getApi } from '../../../utils/api.js';\nimport { reportTypes, REPORTS_ENDPOINT, REPORT_TEMPLATES_ENDPOINT } from '../standard.report.conf.js';\nexport const DesignFileDownloadButton = _ref => {\n  let {\n    isEditing,\n    reportType,\n    reportId\n  } = _ref;\n  let url;\n  let label;\n  const api = getApi();\n  const type = reportType === reportTypes.HTML ? 'html' : 'xml';\n  if (isEditing) {\n    label = i18n.t('Get current design');\n    url = `${api.baseUrl}/${REPORTS_ENDPOINT}/${reportId}/design`;\n  } else {\n    label = reportType === reportTypes.HTML ? i18n.t('Get HTML Report Template') : i18n.t('Get Jasper Report Template');\n    url = `${api.baseUrl}/${REPORT_TEMPLATES_ENDPOINT}.${type}`;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-690866626\"\n  }, /*#__PURE__*/React.createElement(FormHelperText, null, label), /*#__PURE__*/React.createElement(FormHelperText, null, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    component: \"span\"\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: url,\n    target: \"_blank\",\n    download: type !== 'html',\n    className: \"jsx-690866626\"\n  }, i18n.t('Download')))), /*#__PURE__*/React.createElement(FormHelperText, null), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"690866626\"\n  }, [\"a.jsx-690866626{color:inherit;-webkit-text-decoration:none;text-decoration:none;}\"]));\n};\nDesignFileDownloadButton.propTypes = {\n  isEditing: PropTypes.bool.isRequired,\n  reportId: PropTypes.string.isRequired,\n  reportType: PropTypes.string.isRequired\n};","import { reportTypes } from '../standard.report.conf.js';\nexport const validateNewReport = values => {\n  const errors = {};\n  validateName(errors, values);\n  validateReportTable(errors, values);\n  validateDesignContent(errors, values);\n  validateCacheStrategy(errors, values);\n  return errors;\n};\nexport const validateReportUpdate = values => {\n  const errors = {};\n  validateName(errors, values);\n  validateReportTable(errors, values);\n  validateCacheStrategy(errors, values);\n  return errors;\n};\nconst validateName = (errors, values) => {\n  if (!values.name) {\n    errors.name = 'Required';\n  }\n};\nconst validateReportTable = (errors, values) => {\n  if (values.type === reportTypes.JASPER_REPORT_TABLE && !values.reportTable) {\n    errors.reportTable = 'Required';\n  }\n};\nconst validateDesignContent = (errors, values) => {\n  if (!values.designContent) {\n    errors.designContent = 'Required';\n  }\n};\nconst validateCacheStrategy = (errors, values) => {\n  if (!values.cacheStrategy) {\n    errors.cacheStrategy = 'Required';\n  }\n};","import i18n from '@dhis2/d2-i18n';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Field, Form } from 'react-final-form';\nimport { Button } from '../../../components/form/Button.js';\nimport { CheckBoxes } from '../../../components/form/CheckBoxes.js';\nimport { CheckBoxGroups } from '../../../components/form/CheckBoxGroups.js';\nimport { File } from '../../../components/form/File.js';\nimport { FormRow } from '../../../components/form/FormRow.js';\nimport { FormSection } from '../../../components/form/FormSection.js';\nimport { FormSectionTitle } from '../../../components/form/FormSectionTitle.js';\nimport { Input } from '../../../components/form/Input.js';\nimport { ReportTableSearchInput } from '../../../components/form/ReportTableSearchInput.js';\nimport { Select } from '../../../components/form/Select.js';\nimport { reportParameterOptions } from '../../../config/standardReport.js';\nimport { RELATIVE_PERIODS } from '../../../utils/periods/relativePeriods.js';\nimport { cacheStrategies, reportTypeOptions, reportTypes } from '../standard.report.conf.js';\nimport { DesignFileDownloadButton } from './DesignFileDownloadButton.js';\nimport { validateNewReport, validateReportUpdate } from './validate.js';\nconst ReportForm = props => /*#__PURE__*/React.createElement(Form, {\n  onSubmit: props.onSubmit,\n  validate: props.edit ? validateReportUpdate : validateNewReport,\n  initialValues: props.report,\n  subscription: {\n    values: true,\n    initialValues: false\n  }\n}, _ref => {\n  let {\n    handleSubmit,\n    values\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/React.createElement(FormSection, null, /*#__PURE__*/React.createElement(FormSectionTitle, null, i18n.t('Details')), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n    name: \"name\",\n    placeholder: i18n.t('Name*'),\n    component: Input\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n    name: \"type\",\n    placeholder: i18n.t('Report Type*'),\n    options: reportTypeOptions,\n    showErrorText: false,\n    component: Select\n  })), values.type === reportTypes.JASPER_REPORT_TABLE && /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n    name: \"reportTable\",\n    placeholder: i18n.t('Report Table*'),\n    component: ReportTableSearchInput\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-6\"\n  }, /*#__PURE__*/React.createElement(File, {\n    name: \"designContent\",\n    placeholder: props.edit ? i18n.t('Design File') : i18n.t('Design File*')\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-6\"\n  }, /*#__PURE__*/React.createElement(FormHelperText, null), /*#__PURE__*/React.createElement(DesignFileDownloadButton, {\n    isEditing: props.edit,\n    reportType: values.type,\n    reportId: props.edit ? props.report.id : ''\n  })))), /*#__PURE__*/React.createElement(FormSection, {\n    show: values.type !== reportTypes.JASPER_REPORT_TABLE,\n    render: () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormSectionTitle, null, i18n.t('Relative periods')), /*#__PURE__*/React.createElement(CheckBoxGroups, {\n      name: \"relativePeriods\",\n      groups: RELATIVE_PERIODS,\n      displayError: false\n    }))\n  }), /*#__PURE__*/React.createElement(FormSection, {\n    show: values.type !== reportTypes.JASPER_REPORT_TABLE,\n    render: () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormSectionTitle, null, i18n.t('Report parameters')), /*#__PURE__*/React.createElement(CheckBoxes, {\n      name: \"reportParams\",\n      options: reportParameterOptions\n    }))\n  }), /*#__PURE__*/React.createElement(FormSection, null, /*#__PURE__*/React.createElement(FormSectionTitle, null, i18n.t('Settings')), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n    name: \"cacheStrategy\",\n    placeholder: i18n.t('Cache Strategy*'),\n    options: cacheStrategies,\n    component: Select\n  }))), /*#__PURE__*/React.createElement(Button, {\n    label: i18n.t('Submit'),\n    isPrimary: true,\n    onClick: handleSubmit\n  }), /*#__PURE__*/React.createElement(Button, {\n    label: i18n.t('Cancel'),\n    onClick: props.backToList\n  }));\n});\nReportForm.propTypes = {\n  backToList: PropTypes.func.isRequired,\n  edit: PropTypes.bool.isRequired,\n  report: PropTypes.object.isRequired,\n  onSubmit: PropTypes.func.isRequired\n};\nexport { ReportForm };","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport i18n from '@dhis2/d2-i18n';\nimport { Card, CircularProgress } from '@material-ui/core';\nimport isEmpty from 'lodash.isempty';\nimport PropTypes from 'prop-types';\nimport React, { Fragment, PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { SectionHeadline } from '../../components/SectionHeadline.js';\nimport { STANDARD_REPORT_SECTION_KEY } from '../../config/sections.config.js';\nimport { loadStandardReportDetails, navigateToList, sendStandardReport } from '../../redux/actions/standardReport.js';\nimport { getEditFormInitialValues, getIsEdit } from '../../redux/selectors/standardReport/getEditFormInitialValues.js';\nimport { formCard, formLoader } from '../../utils/styles/shared.js';\nimport { ReportForm } from './add-edit-report/ReportForm.js';\nexport class AddEditStandardReport extends PureComponent {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"onSubmit\", values => {\n      const {\n        sendStandardReport,\n        edit\n      } = this.props;\n      sendStandardReport(values, edit);\n    });\n  }\n  componentDidMount() {\n    const {\n      edit,\n      loadStandardReportDetails,\n      match\n    } = this.props;\n    if (edit) {\n      loadStandardReportDetails(match.params.id);\n    }\n  }\n  render() {\n    const isLoading = isEmpty(this.props.report);\n    const headlineText = this.props.edit ? i18n.t('Edit standard report') : i18n.t('Create standard report');\n    return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(SectionHeadline, {\n      label: headlineText,\n      showBackButton: true,\n      onBackClick: this.props.navigateToList,\n      sectionKey: STANDARD_REPORT_SECTION_KEY\n    }), /*#__PURE__*/React.createElement(Card, {\n      className: formCard.className\n    }, isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n      className: formLoader.className\n    }, /*#__PURE__*/React.createElement(CircularProgress, null)) : /*#__PURE__*/React.createElement(ReportForm, _extends({}, this.props, {\n      backToList: this.props.navigateToList,\n      onSubmit: this.onSubmit\n    }))), formCard.styles, formLoader.styles);\n  }\n}\nAddEditStandardReport.propTypes = {\n  loadStandardReportDetails: PropTypes.func.isRequired,\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string,\n      mode: PropTypes.oneOf(['new', 'edit'])\n    })\n  }).isRequired,\n  navigateToList: PropTypes.func.isRequired,\n  sendStandardReport: PropTypes.func.isRequired,\n  edit: ReportForm.propTypes.edit,\n  report: ReportForm.propTypes.report\n};\nconst mapStateToProps = state => {\n  return {\n    report: getEditFormInitialValues(state),\n    edit: getIsEdit(state)\n  };\n};\nconst ConnectedComponent = connect(mapStateToProps, {\n  loadStandardReportDetails,\n  sendStandardReport,\n  navigateToList\n})(AddEditStandardReport);\nexport { ConnectedComponent as ConnectedAddEditStdReport };","import _JSXStyle from \"styled-jsx/style\";\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport i18n from '@dhis2/d2-i18n';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { sections, STANDARD_REPORT_SECTION_KEY } from '../../config/sections.config.js';\nimport { generateHtmlReport } from '../../redux/actions/standardReport.js';\nimport HtmlReport from './HtmlReport.js';\nconst reportCard = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1439671591\"\n  }, [\".jsx-1439671591{margin-top:16px;padding:16px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}\"]),\n  className: \"jsx-1439671591\"\n};\nconst LinkToListWithRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(Link, _extends({\n  innerRef: ref,\n  to: sections[STANDARD_REPORT_SECTION_KEY].path\n}, props)));\nLinkToListWithRef.displayName = 'LinkToListWithRef';\nclass StyledHtmlReport extends React.Component {\n  componentDidMount() {\n    const {\n      match: {\n        params: {\n          id\n        }\n      },\n      location: {\n        search\n      },\n      generateHtmlReport\n    } = this.props;\n    const searchParams = new URLSearchParams(search);\n    const orgUnitId = searchParams.get('ou');\n    const reportPeriod = searchParams.get('pe');\n    generateHtmlReport({\n      id,\n      orgUnitId,\n      reportPeriod\n    });\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jsx-1249471346\" + \" \" + \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jsx-1249471346\" + \" \" + \"button-row\"\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      component: LinkToListWithRef\n    }, i18n.t('Back to standard reports list'))), /*#__PURE__*/React.createElement(Card, {\n      className: reportCard.className\n    }, /*#__PURE__*/React.createElement(HtmlReport, {\n      html: this.props.reportData\n    })), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"1249471346\"\n    }, [\".container.jsx-1249471346{min-height:calc(100vh - 84px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}\"]), reportCard.styles);\n  }\n}\nStyledHtmlReport.propTypes = {\n  generateHtmlReport: PropTypes.func.isRequired,\n  reportData: PropTypes.string.isRequired,\n  location: PropTypes.shape({\n    search: PropTypes.string\n  }),\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string\n    })\n  })\n};\nexport default connect(_ref => {\n  let {\n    reportData\n  } = _ref;\n  return {\n    reportData: typeof reportData.content === 'string' ? reportData.content : ''\n  };\n}, {\n  generateHtmlReport\n})(StyledHtmlReport);","import isEmpty from 'lodash.isempty';\nimport { connect } from 'react-redux';\nimport { addReportFormShow, closeContextMenu, deleteStandardReport, editReportFormShow, goToNextPage, goToPrevPage, hideReportData, loadStandardReports, requestDeleteStandardReport, sendStandardReport, setSearch, sharingSettingsShow, showReportData, showReportParams } from '../../redux/actions/standardReport.js';\n// import { unsetReportData } from '../../redux/actions/reportData.js'\n\nconst mapStateToProps = state => ({\n  ...state.standardReport,\n  reportData: isEmpty(state.reportData.content) ? '' : state.reportData.content,\n  pager: state.pagination\n});\nconst mapDispatchToProps = dispatch => ({\n  addReportFormShow: report => dispatch(addReportFormShow(report)),\n  addStandardReport: report => dispatch(sendStandardReport(report, false)),\n  closeContextMenu: refreshList => dispatch(closeContextMenu(refreshList)),\n  createReport: report => dispatch(showReportParams(report)),\n  deleteStandardReport: report => dispatch(deleteStandardReport(report)),\n  editReport: report => dispatch(editReportFormShow(report)),\n  goToNextPage: () => dispatch(goToNextPage()),\n  goToPrevPage: () => dispatch(goToPrevPage()),\n  hideReportData: reportData => dispatch(hideReportData(reportData)),\n  loadStandardReports: () => dispatch(loadStandardReports()),\n  requestDeleteStandardReport: report => dispatch(requestDeleteStandardReport(report)),\n  setSearch: event => dispatch(setSearch(event.target.value)),\n  sharingSettings: report => dispatch(sharingSettingsShow(report)),\n  showReportData: reportData => dispatch(showReportData(reportData)),\n  updateStandardReport: report => dispatch(sendStandardReport(report, true))\n});\nconst connectStandardReport = connect(mapStateToProps, mapDispatchToProps);\nexport default connectStandardReport;","import { CONTEXT_MENU_ACTION } from './standard.report.conf.js';\n\n/* Context Menu */\nconst displayNoResults = (reports, loading) => reports.length > 0 || loading ? {\n  display: 'none'\n} : '';\nconst showContextAction = (report, action) => {\n  const access = report && report.access ? report.access : {};\n  const actions = {\n    [CONTEXT_MENU_ACTION.CREATE]: access.read,\n    [CONTEXT_MENU_ACTION.EDIT]: access.update,\n    [CONTEXT_MENU_ACTION.SHARING_SETTINGS]: access.manage || access.externalize,\n    [CONTEXT_MENU_ACTION.DELETE]: access.delete\n  };\n  return actions[action] || false;\n};\nexport { displayNoResults, showContextAction };","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport theme from '@dhis2/d2-ui-core/theme/theme';\nimport Button from '@material-ui/core/Button';\nimport red from '@material-ui/core/colors/red';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport OrganisationUnitTree from '../../components/AvailableOrganisationUnitsTree.js';\nimport PeriodPicker from '../../components/PeriodPickerWithPeriodType.js';\nimport { cancelGeneratingPdfReport, submitRequiredReportParams } from '../../redux/actions/standardReport.js';\nconst labelCancel = i18n.t('Cancel');\nconst labelSubmit = i18n.t('Generate report');\nconst title = i18n.t('Report parameters');\nconst colorError = red[500];\nconst buttonStyles = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2079549993\"\n  }, [\".jsx-2079549993{width:100%;}\"]),\n  className: \"jsx-2079549993\"\n};\nconst primaryButtonStyle = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3451007021\"\n  }, [`button.jsx-3451007021{color:white;background-color:${theme.palette.primary2Color};}`, `button.jsx-3451007021:hover{background-color:${theme.palette.primary1Color};}`]),\n  className: \"jsx-3451007021\"\n};\nexport const ReportParams = props => /*#__PURE__*/React.createElement(Dialog, {\n  open: props.showReportParams,\n  onClose: props.cancelGeneratingPdfReport,\n  fullWidth: true,\n  maxWidth: \"md\"\n}, /*#__PURE__*/React.createElement(DialogTitle, null, title), /*#__PURE__*/React.createElement(DialogContent, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]]) + \" \" + \"inputs\"\n}, props.reportParams.organisationUnit && /*#__PURE__*/React.createElement(OrganisationUnitTree, null), props.reportParams.period && /*#__PURE__*/React.createElement(PeriodPicker, {\n  label: \"\"\n})), !!props.reportParamsErrors.length && /*#__PURE__*/React.createElement(\"div\", {\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]]) + \" \" + \"errors\"\n}, /*#__PURE__*/React.createElement(\"p\", {\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]])\n}, i18n.t('There are some errors you have to fix first!')), /*#__PURE__*/React.createElement(\"ul\", {\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]])\n}, props.reportParamsErrors.map(error => /*#__PURE__*/React.createElement(\"li\", {\n  key: error,\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]]) + \" \" + \"error\"\n}, error)))), /*#__PURE__*/React.createElement(\"div\", {\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]]) + \" \" + \"primary-action\"\n}, /*#__PURE__*/React.createElement(Button, {\n  onClick: props.submitRequiredReportParams,\n  variant: \"contained\",\n  className: buttonStyles.className + ' ' + primaryButtonStyle.className\n}, labelSubmit)), /*#__PURE__*/React.createElement(\"div\", {\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]])\n}, /*#__PURE__*/React.createElement(Button, {\n  onClick: props.cancelGeneratingPdfReport,\n  variant: \"contained\",\n  className: buttonStyles.className\n}, labelCancel)), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2045032263\",\n  dynamic: [colorError]\n}, [\".inputs.__jsx-style-dynamic-selector{margin-bottom:30px;}\", \".errors.__jsx-style-dynamic-selector{margin-bottom:10px;}\", `.error.__jsx-style-dynamic-selector{color:${colorError};}`, \".primary-action.__jsx-style-dynamic-selector{margin-bottom:10px;}\"]), buttonStyles.styles, primaryButtonStyle.styles));\nReportParams.propTypes = {\n  cancelGeneratingPdfReport: PropTypes.func.isRequired,\n  reportParams: PropTypes.object.isRequired,\n  reportParamsErrors: PropTypes.arrayOf(PropTypes.string).isRequired,\n  showReportParams: PropTypes.bool.isRequired,\n  submitRequiredReportParams: PropTypes.func.isRequired\n};\nexport const ConnectedReportParams = connect(state => ({\n  reportParams: state.standardReport.reportParams,\n  reportParamsErrors: state.standardReport.reportParamsErrors,\n  showReportParams: state.standardReport.showReportParams\n}), {\n  cancelGeneratingPdfReport,\n  submitRequiredReportParams\n})(ReportParams);","export const getSelectedOrgUnit = state => state.organisationUnits.selected;","export const getSelectedReportPeriod = state => state.reportPeriod.selectedPeriod;","import SharingDialog from '@dhis2/d2-ui-sharing-dialog';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getD2 } from '../../utils/api.js';\nimport { CONTEXT_MENU_ACTION } from './standard.report.conf.js';\n// import { ConnectedAddEditStdReport } from './AddEditStdReport.js'\n\nconst StandardReportActions = _ref => {\n  let {\n    open,\n    selectedAction,\n    selectedReport,\n    handleClose\n  } = _ref;\n  if (selectedAction === CONTEXT_MENU_ACTION.SHARING_SETTINGS) {\n    return /*#__PURE__*/React.createElement(SharingDialog, {\n      id: selectedReport.id,\n      d2: getD2(),\n      open: open,\n      type: \"report\",\n      onRequestClose: handleClose\n    });\n  }\n  return null;\n};\nStandardReportActions.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  selectedAction: PropTypes.string.isRequired,\n  selectedReport: PropTypes.object.isRequired\n};\nexport default StandardReportActions;","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Snackbar } from '../components/feedback/Snackbar.js';\nimport SearchablePagedList from '../components/SearchablePagedList.js';\nimport { SectionHeadline } from '../components/SectionHeadline.js';\nimport { STANDARD_REPORT_SECTION_KEY, sections } from '../config/sections.config.js';\nimport connectStandardReport from './standard-report/connectStandardReport.js';\nimport { showContextAction } from './standard-report/helper.js';\nimport { ConnectedReportParams } from './standard-report/ReportParams.js';\nimport { CONTEXT_MENU_ACTION, CONTEXT_MENU_ICONS } from './standard-report/standard.report.conf.js';\nimport StandardReportActions from './standard-report/StandardReportActions.js';\nconst createContextMenuOptions = props => ({\n  [CONTEXT_MENU_ACTION.CREATE]: props.createReport,\n  [CONTEXT_MENU_ACTION.EDIT]: props.editReport,\n  [CONTEXT_MENU_ACTION.SHARING_SETTINGS]: props.sharingSettings,\n  [CONTEXT_MENU_ACTION.DELETE]: props.requestDeleteStandardReport\n});\nclass StandardReport extends React.Component {\n  constructor(props) {\n    super(props);\n    this.contextMenuOptions = createContextMenuOptions(props);\n  }\n  componentDidMount() {\n    if (this.props.reports.length === 0) {\n      this.props.loadStandardReports();\n    }\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SectionHeadline, {\n      label: sections[STANDARD_REPORT_SECTION_KEY].info.label,\n      showBackButton: !!this.props.reportData,\n      onBackClick: this.props.hideReportData,\n      sectionKey: STANDARD_REPORT_SECTION_KEY\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"std-report-content\"\n    }, /*#__PURE__*/React.createElement(SearchablePagedList, {\n      columns: ['displayName'],\n      rows: this.props.reports,\n      isLoading: this.props.loading,\n      contextMenuActions: this.contextMenuOptions,\n      primaryAction: this.contextMenuOptions[[CONTEXT_MENU_ACTION.CREATE]],\n      contextMenuIcons: CONTEXT_MENU_ICONS,\n      isContextActionAllowed: showContextAction,\n      searchInputValue: this.props.search,\n      searchInputChangeHandler: this.props.setSearch,\n      addButtonClickHandler: this.props.addReportFormShow,\n      goToNextPage: this.props.goToNextPage,\n      goToPrevPage: this.props.goToPrevPage\n    }), /*#__PURE__*/React.createElement(StandardReportActions, {\n      open: this.props.open,\n      selectedAction: this.props.selectedAction,\n      selectedReport: this.props.selectedReport,\n      handleClose: this.props.closeContextMenu,\n      handleDisplayReportData: this.props.showReportData\n    })), /*#__PURE__*/React.createElement(ConnectedReportParams, null), /*#__PURE__*/React.createElement(Snackbar, {\n      action: i18n.t('CONFIRM'),\n      onActionClick: this.props.deleteStandardReport\n    }));\n  }\n}\nStandardReport.propTypes = {\n  addReportFormShow: PropTypes.func.isRequired,\n  closeContextMenu: PropTypes.func.isRequired,\n  deleteStandardReport: PropTypes.func.isRequired,\n  goToNextPage: PropTypes.func.isRequired,\n  goToPrevPage: PropTypes.func.isRequired,\n  hideReportData: PropTypes.func.isRequired,\n  loadStandardReports: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  open: PropTypes.bool.isRequired,\n  reportData: PropTypes.string.isRequired,\n  reports: PropTypes.array.isRequired,\n  search: PropTypes.string.isRequired,\n  selectedAction: PropTypes.string.isRequired,\n  selectedReport: PropTypes.object.isRequired,\n  setSearch: PropTypes.func.isRequired,\n  showReportData: PropTypes.func.isRequired\n};\nconst ConnectedStandardReport = connectStandardReport(StandardReport);\nexport { ConnectedStandardReport as StandardReport };","import PropTypes from 'prop-types';\nimport React from 'react';\nconst NoMatch = props => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h3\", null, \"No match for \", /*#__PURE__*/React.createElement(\"code\", null, props.location.pathname)));\nNoMatch.propTypes = {\n  location: PropTypes.object.isRequired\n};\nexport default NoMatch;","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { sections, DATA_SET_REPORT_SECTION_KEY, ORG_UNIT_DIST_REPORT_SECTION_KEY, REPORTING_RATE_SUMMARY_SECTION_KEY, RESOURCE_SECTION_KEY, STANDARD_REPORT_SECTION_KEY } from '../config/sections.config.js';\nimport { DataSetReport } from '../pages/DataSetReport.js';\nimport Home from '../pages/home/Home.js';\nimport { OrganisationUnitDistributionReport } from '../pages/OrganisationUnitDistributionReport.js';\nimport { ReportingRateSummary } from '../pages/ReportingRateSummary.js';\nimport { AddEditResource } from '../pages/resource/AddEditResource.js';\nimport { Resource } from '../pages/Resource.js';\nimport { ConnectedAddEditStdReport } from '../pages/standard-report/AddEditStdReport.js';\nimport StyledHtmlReport from '../pages/standard-report/StyledHtmlReport.js';\nimport { StandardReport } from '../pages/StandardReport.js';\nimport NoMatch from './NoMatch.js';\nconst standardReportPath = sections[STANDARD_REPORT_SECTION_KEY].path;\nconst resourcePath = sections[RESOURCE_SECTION_KEY].path;\n// Used to ensure we are matching the pattern of an actual id\nconst ID_REGEXP = '[a-zA-Z][a-zA-Z0-9]{10}';\nconst AppRouter = () => /*#__PURE__*/React.createElement(\"main\", null, /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(Route, {\n  key: \"home\",\n  exact: true,\n  path: \"/\",\n  component: Home\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: STANDARD_REPORT_SECTION_KEY,\n  path: standardReportPath,\n  component: StandardReport\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: `${STANDARD_REPORT_SECTION_KEY}-viewHTMLReport`,\n  path: `${standardReportPath}/view/:id(${ID_REGEXP})`,\n  component: StyledHtmlReport\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: `${STANDARD_REPORT_SECTION_KEY}-addEdit`\n  // /edit/id or /new\n  ,\n  path: `${standardReportPath}/:mode/:id(${ID_REGEXP})?`,\n  component: ConnectedAddEditStdReport\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: DATA_SET_REPORT_SECTION_KEY,\n  path: sections[DATA_SET_REPORT_SECTION_KEY].path,\n  component: DataSetReport\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: REPORTING_RATE_SUMMARY_SECTION_KEY,\n  path: sections[REPORTING_RATE_SUMMARY_SECTION_KEY].path,\n  component: ReportingRateSummary\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: RESOURCE_SECTION_KEY,\n  path: resourcePath,\n  component: Resource\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: `${RESOURCE_SECTION_KEY}-addEdit`\n  // /edit/id or /new\n  ,\n  path: `${resourcePath}/:mode/:id(${ID_REGEXP})?`,\n  component: AddEditResource\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: ORG_UNIT_DIST_REPORT_SECTION_KEY,\n  path: sections[ORG_UNIT_DIST_REPORT_SECTION_KEY].path,\n  component: OrganisationUnitDistributionReport\n}), /*#__PURE__*/React.createElement(Route, {\n  key: \"no-match-route\",\n  component: NoMatch\n})));\nexport default AppRouter;","import { sections, ORG_UNIT_DIST_REPORT_SECTION_KEY } from '../../config/sections.config.js';\nexport const getIsUiBlocked = state => state.organisationUnits.loading || state.reportPeriod.loading || state.dataSet.loading || state.standardReport.loadingSendReport || state.resource.addEditLoading || atOrgUnitDistReportSection(state) && state.orgUnitGroupSets.loading;\nconst atOrgUnitDistReportSection = _ref => {\n  let {\n    router\n  } = _ref;\n  return router.location.pathname === sections[ORG_UNIT_DIST_REPORT_SECTION_KEY].path;\n};","import { getIsUiBlocked } from '../getIsUiBlocked.js';\nexport const getShowLoading = state => state.feedback.showLoader || getIsUiBlocked(state);","import _JSXStyle from \"styled-jsx/style\";\nimport { CircularProgress } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { getShowLoading } from '../../redux/selectors/feedback/getShowLoading.js';\nconst Loader = props => props.show ? /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3072581291\" + \" \" + \"loading-container\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3072581291\" + \" \" + \"progress-wrap\"\n}, /*#__PURE__*/React.createElement(CircularProgress, null)), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"3072581291\"\n}, [\".loading-container.jsx-3072581291{position:fixed;top:0;left:0;height:100%;width:100%;background:rgba(0,0,0,0.4);z-index:3000;}\", \".progress-wrap.jsx-3072581291{position:absolute;top:50%;left:50%;-webkit-transform:'translate(-50%, -50%)';-ms-transform:'translate(-50%, -50%)';transform:'translate(-50%, -50%)';}\"])) : null;\nLoader.propTypes = {\n  show: PropTypes.bool.isRequired\n};\nconst mapStateToProps = state => ({\n  show: getShowLoading(state)\n});\nconst connectedLoader = connect(mapStateToProps)(Loader);\nexport { connectedLoader as Loader, Loader as LoaderOriginal };","import { sections } from '../../../config/sections.config.js';\nexport const getCurrentSection = state => state.router.location.pathname.substring(1);\nexport const getShowSidebar = state => !!sections[getCurrentSection(state)];","import _JSXStyle from \"styled-jsx/style\";\nimport { Sidebar } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport AppRouter from './components/AppRouter.js';\nimport { Loader } from './components/feedback/Loader.js';\nimport { sectionOrder, sections } from './config/sections.config.js';\nimport { loadDataSetOptions } from './redux/actions/dataSet.js';\nimport { loadOrganisationUnits } from './redux/actions/organisationUnits.js';\nimport { loadPeriodTypes } from './redux/actions/reportPeriod.js';\nimport { getCurrentSection, getShowSidebar } from './redux/selectors/sidebar/index.js';\n\n// is not \"marked\" as required but it's used by Sidebar\nconst nonOnChangeSection = () => null;\nconst sidebarSections = sectionOrder.map(sectionKey => {\n  const section = sections[sectionKey];\n  return {\n    ...section,\n    icon: section.info.icon,\n    label: section.info.label,\n    containerElement: /*#__PURE__*/React.createElement(Link, {\n      to: section.path\n    })\n  };\n});\nclass App extends PureComponent {\n  getChildContext() {\n    return {\n      d2: this.props.d2\n    };\n  }\n  componentDidMount() {\n    this.props.loadOrganisationUnits();\n    this.props.loadPeriodTypes();\n    this.props.loadDataSetOptions();\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, this.props.showSidebar && /*#__PURE__*/React.createElement(Sidebar, {\n      sections: sidebarSections,\n      onChangeSection: nonOnChangeSection,\n      currentSection: this.props.currentSection\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jsx-2459228718 \" + _JSXStyle.dynamic([[\"3655102473\", [this.props.showSidebar ? '295px' : '0']]]) + \" \" + \"content-wrapper\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jsx-2459228718 \" + _JSXStyle.dynamic([[\"3655102473\", [this.props.showSidebar ? '295px' : '0']]]) + \" \" + \"content-area\"\n    }, /*#__PURE__*/React.createElement(AppRouter, null)), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"3655102473\",\n      dynamic: [this.props.showSidebar ? '295px' : '0']\n    }, [`.content-wrapper.__jsx-style-dynamic-selector{margin-left:${this.props.showSidebar ? '295px' : '0'};}`, \".content-area.__jsx-style-dynamic-selector{padding:1rem 20px 20px;}\"]), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"2459228718\"\n    }, [\"body{margin:0;padding:0;}\", \"html{background:#f3f3f3;font-family:'Roboto',sans-serif;}\", \"h1{font-size:24px;font-weight:300;-webkit-letter-spacing:1.2px;-moz-letter-spacing:1.2px;-ms-letter-spacing:1.2px;letter-spacing:1.2px;color:rgba(0,0,0,0.87);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:48px;}\", \".left-bar{width:295px;position:fixed;bottom:0;top:0;left:0;margin-top:3rem;}\", \".d2-ui-table{margin-bottom:0 !important;margin-top:0 !important;}\", \".d2-ui-table__rows__row{font-size:14px;}\", \".data-table-pager--page-info{padding:0 !important;}\", \".data-table-pager--buttons{margin-top:10px !important;margin-bottom:10px !important;}\", \".data-table-pager--buttons .material-icons{margin:0 !important;padding:0 !important;}\", \"#report-container table{width:100% !important;}\"])), /*#__PURE__*/React.createElement(Loader, null));\n  }\n}\nApp.propTypes = {\n  currentSection: PropTypes.string.isRequired,\n  d2: PropTypes.object.isRequired,\n  loadDataSetOptions: PropTypes.func.isRequired,\n  loadOrganisationUnits: PropTypes.func.isRequired,\n  loadPeriodTypes: PropTypes.func.isRequired,\n  showSidebar: PropTypes.bool.isRequired\n};\nApp.childContextTypes = {\n  d2: PropTypes.object.isRequired\n};\nconst mapStateToProps = state => ({\n  currentSection: getCurrentSection(state),\n  showSidebar: getShowSidebar(state)\n});\nexport default connect(mapStateToProps, {\n  loadOrganisationUnits,\n  loadPeriodTypes,\n  loadDataSetOptions\n})(App);","import { createHashHistory } from 'history';\nconst history = createHashHistory();\nexport default history;","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/dataSet.js';\nexport const defaultSelected = {\n  id: '',\n  displayName: ''\n};\nexport const defaultState = {\n  loading: false,\n  selected: defaultSelected,\n  options: []\n};\nexport const dataSet = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  switch (type) {\n    case actionTypes.SELECT_DATA_SET:\n      return {\n        ...state,\n        selected: state.options.reduce((curSelected, cur) => cur.id === payload ? cur : curSelected, {\n          id: '',\n          displayName: ''\n        })\n      };\n    case actionTypes.LOADING_DATA_SET_OPTIONS_START:\n      return {\n        ...state,\n        loading: true,\n        loadingError: '',\n        options: []\n      };\n    case actionTypes.LOADING_DATA_SET_OPTIONS_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        options: payload\n      };\n    case actionTypes.LOADING_DATA_SET_OPTIONS_ERROR:\n      return {\n        ...state,\n        loading: false\n      };\n    case LOCATION_CHANGE:\n      return {\n        ...state,\n        selected: defaultSelected\n      };\n    default:\n      return state;\n  }\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/dataSetDimensions.js';\nconst removeKeyFromObj = (obj, removeKey) => {\n  // eslint-disable-next-line no-unused-vars\n  const {\n    [removeKey]: remove,\n    ...remainingKeys\n  } = obj;\n  return remainingKeys;\n};\nexport const defaultState = {\n  loading: false,\n  options: [],\n  selected: {}\n};\nexport const dataSetDimensions = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  switch (type) {\n    case actionTypes.LOADING_DIMENSIONS_START:\n      return {\n        ...state,\n        loading: true,\n        options: []\n      };\n    case actionTypes.LOADING_DIMENSIONS_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        options: payload\n      };\n    case actionTypes.LOADING_DIMENSIONS_ERROR:\n      return {\n        ...state,\n        loading: false\n      };\n    case actionTypes.SELECT_DIMENSION_OPTION:\n      return payload.value ? {\n        ...state,\n        selected: {\n          ...state.selected,\n          [payload.dimension]: payload.value\n        }\n      } : {\n        ...state,\n        selected: removeKeyFromObj(state.selected, payload.dimension)\n      };\n    case LOCATION_CHANGE:\n      return {\n        ...defaultState\n      };\n    default:\n      return state;\n  }\n};","import { actionTypes } from '../actions/dataSetReport.js';\nexport const defaultState = {\n  selectedUnitOnly: false\n};\nexport const dataSetReport = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  switch (type) {\n    case actionTypes.TOGGLE_SELECTED_UNIT_ONLY:\n      return {\n        ...state,\n        selectedUnitOnly: payload\n      };\n    default:\n      return state;\n  }\n};","import { actionTypes as types } from '../actions/feedback.js';\nexport const defaultState = {\n  showSnackbar: false,\n  showLoader: false,\n  message: '',\n  type: ''\n};\nexport const feedback = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n  switch (type) {\n    case types.FEEDBACK_CLEAR:\n      return defaultState;\n    case types.FEEDBACK_SHOW_LOADER:\n      return {\n        ...state,\n        showLoader: true\n      };\n    case types.FEEDBACK_SHOW_SNACKBAR:\n      return {\n        ...state,\n        ...payload,\n        showSnackbar: true,\n        showLoader: false\n      };\n    default:\n      return state;\n  }\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/organisationUnits.js';\nexport const ACTIONS = {\n  LOCATION_CHANGE,\n  ...actionTypes\n};\nexport const defaultState = {\n  loading: true,\n  collection: [],\n  selected: null,\n  selectedOptions: {},\n  showOptions: false\n};\nexport function organisationUnits() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n  switch (type) {\n    case ACTIONS.ORGANISATION_UNITS_RECEIVED:\n      return {\n        ...state,\n        loading: false,\n        collection: payload\n      };\n    case ACTIONS.ORGANISATION_UNITS_ERRORED:\n      return {\n        ...state,\n        loading: false\n      };\n    case ACTIONS.ORGANISATION_UNIT_SELECTED:\n      return {\n        ...state,\n        selected: payload\n      };\n    case ACTIONS.ORGANISATION_UNITS_OPTION_SELECTED:\n      return {\n        ...state,\n        selectedOptions: {\n          ...state.selectedOptions,\n          [payload.id]: payload.value\n        }\n      };\n    case ACTIONS.TOGGLE_SHOW_OPTIONS:\n      return {\n        ...state,\n        showOptions: !state.showOptions\n      };\n    case ACTIONS.ORGANISATION_UNIT_CLEARED:\n    case ACTIONS.LOCATION_CHANGE:\n      return {\n        ...defaultState,\n        loading: false,\n        collection: state.collection\n      };\n    default:\n      return state;\n  }\n}","import { actionTypes } from '../actions/orgUnitDistReport.js';\nexport const defaultState = {\n  shouldShowChart: false\n};\nexport const orgUnitDistReport = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  switch (type) {\n    case actionTypes.SET_TABULAR_OUTPUT:\n      return {\n        shouldShowChart: false\n      };\n    case actionTypes.SET_CHART_OUTPUT:\n      return {\n        shouldShowChart: true\n      };\n    default:\n      return state;\n  }\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/orgUnitGroupSets.js';\nexport const defaultState = {\n  loading: false,\n  collection: [],\n  selected: ''\n};\nexport function orgUnitGroupSets() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  switch (type) {\n    case actionTypes.LOADING_GROUP_SETS_START:\n      return {\n        ...state,\n        loading: true,\n        collection: []\n      };\n    case actionTypes.LOADING_GROUP_SETS_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        collection: payload\n      };\n    case actionTypes.LOADING_GROUP_SETS_ERROR:\n      return {\n        ...state,\n        loading: false\n      };\n    case actionTypes.SET_GROUP_SET:\n      return {\n        ...state,\n        selected: payload\n      };\n    case LOCATION_CHANGE:\n      return {\n        ...defaultState,\n        collection: state.collection\n      };\n    default:\n      return state;\n  }\n}","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/pagination.js';\nconst allActionTypes = {\n  ...actionTypes,\n  LOCATION_CHANGE\n};\nexport const DEFAULT_PAGE_SIZE = 50;\nexport const defaultState = {\n  pageSize: DEFAULT_PAGE_SIZE,\n  page: 1,\n  total: 0,\n  pageCount: 1,\n  nextPage: '',\n  prevPage: ''\n};\nexport const pagination = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  switch (type) {\n    case allActionTypes.GO_TO_NEXT_PAGE:\n      return {\n        ...state,\n        page: state.page + 1\n      };\n    case allActionTypes.GO_TO_PREV_PAGE:\n      return {\n        ...state,\n        page: state.page - 1\n      };\n    case allActionTypes.SET_PAGINATION:\n      return payload;\n    case actionTypes.RESET_PAGINATION:\n    case allActionTypes.LOCATION_CHANGE:\n      return defaultState;\n    default:\n      return state;\n  }\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/reportData.js';\nexport const defaultState = {\n  loading: false,\n  content: {},\n  comment: ''\n};\nexport const reportData = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  switch (type) {\n    case actionTypes.LOADING_REPORT_DATA_START:\n      return {\n        ...state,\n        loading: true,\n        content: {}\n      };\n    case actionTypes.LOADING_REPORT_DATA_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        content: payload\n      };\n    case actionTypes.LOADING_REPORT_DATA_ERROR:\n      return {\n        ...state,\n        loading: false\n      };\n\n    // @TODO: not sure this is needed.\n    // Not required for reporting-rate-summary\n    case actionTypes.UNSET_REPORT_DATA:\n      return {\n        ...state,\n        content: {}\n      };\n    case actionTypes.SET_DATA_SET_REPORT_COMMENT:\n      return {\n        ...state,\n        comment: payload\n      };\n    case LOCATION_CHANGE:\n      return defaultState;\n    default:\n      return state;\n  }\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/reportPeriod.js';\nexport const ACTIONS = {\n  LOCATION_CHANGE,\n  ...actionTypes\n};\nexport const defaultState = {\n  loading: true,\n  collection: [],\n  selectedPeriodType: '',\n  selectedPeriod: ''\n};\nexport function reportPeriod() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n  switch (type) {\n    case ACTIONS.REPORT_PERIOD_TYPES_RECEIVED:\n      return {\n        ...state,\n        loading: false,\n        collection: payload\n      };\n    case ACTIONS.REPORT_PERIOD_TYPES_ERRORED:\n      return {\n        ...state,\n        loading: false\n      };\n    case ACTIONS.REPORT_PERIOD_TYPE_SELECTED:\n      return {\n        ...state,\n        selectedPeriodType: payload,\n        selectedPeriod: ''\n      };\n    case ACTIONS.REPORT_PERIOD_SELECTED:\n      return {\n        ...state,\n        selectedPeriod: payload\n      };\n    case ACTIONS.REPORT_PERIOD_CLEAR_ALL:\n    case ACTIONS.LOCATION_CHANGE:\n      return {\n        ...defaultState,\n        loading: state.loading,\n        collection: state.collection\n      };\n    default:\n      return state;\n  }\n}","import { resourceActions } from '../../utils/resource/constants.js';\nimport { actionTypes } from '../actions/resource.js';\nexport const defaultSelectedResource = {\n  id: '',\n  displayName: ''\n};\nexport const defaultState = {\n  open: false,\n  loading: false,\n  addEditLoading: false,\n  search: '',\n  collection: [],\n  selectedAction: '',\n  selectedResource: defaultSelectedResource\n};\nexport const resource = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  switch (type) {\n    case actionTypes.REQUEST_DELETE_RESOURCE:\n      return {\n        ...state,\n        selectedResource: payload\n      };\n    case actionTypes.LOADING_RESOURCES_START:\n      return {\n        ...state,\n        loading: true\n      };\n    case actionTypes.LOADING_RESOURCES_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        collection: payload\n      };\n    case actionTypes.LOADING_RESOURCES_ERROR:\n      return {\n        ...state,\n        loading: false\n      };\n    case actionTypes.SET_RESOURCE_SEARCH:\n      return {\n        ...state,\n        search: payload\n      };\n    case actionTypes.SET_RESOURCE:\n      return {\n        ...state,\n        open: true,\n        selectedResource: payload\n      };\n    case actionTypes.SHOW_SHARING_SETTINGS:\n      return {\n        ...state,\n        open: true,\n        selectedResource: payload,\n        selectedAction: resourceActions.SHARING_SETTINGS\n      };\n    case actionTypes.DELETE_RESOURCE_START:\n      return {\n        ...state,\n        loading: true\n      };\n    case actionTypes.DELETE_RESOURCE_SUCCESS:\n    case actionTypes.DELETE_RESOURCE_ERROR:\n      return {\n        ...state,\n        loading: false\n      };\n    case actionTypes.CLEAR_SELECTED_RESOURCE:\n      return {\n        ...state,\n        open: false,\n        selectedAction: '',\n        selectedResource: defaultSelectedResource\n      };\n    case actionTypes.RESOURCE_ADD_LOADING_START:\n    case actionTypes.RESOURCE_EDIT_LOADING_START:\n      return {\n        ...state,\n        addEditLoading: true\n      };\n    case actionTypes.RESOURCE_ADD_LOADING_SUCCESS:\n    case actionTypes.RESOURCE_EDIT_LOADING_SUCCESS:\n      return {\n        ...state,\n        addEditLoading: false,\n        open: false,\n        selectedAction: '',\n        selectedResource: defaultSelectedResource\n      };\n    case actionTypes.RESOURCE_ADD_LOADING_ERROR:\n    case actionTypes.RESOURCE_EDIT_LOADING_ERROR:\n      return {\n        ...state,\n        addEditLoading: false\n      };\n    default:\n      return state;\n  }\n};","import { CONTEXT_MENU_ACTION } from '../../pages/standard-report/standard.report.conf.js';\nimport { actionTypes as reportDataActionTypes } from '../actions/reportData.js';\nimport { actionTypes } from '../actions/standardReport.js';\nexport const defaultState = {\n  reports: [],\n  selectedReport: {},\n  selectedAction: '',\n  search: '',\n  open: false,\n  reportData: '',\n  loading: false,\n  loadingError: '',\n  requestDelete: false,\n  loadingDetails: false,\n  loadingSendReport: false,\n  reportParams: {},\n  reportParamsErrors: [],\n  showReportParams: false\n};\nexport const standardReport = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    type,\n    payload\n  } = action;\n  switch (type) {\n    case actionTypes.SET_SELECTED_REPORT:\n      return {\n        ...state,\n        selectedReport: payload\n      };\n    case actionTypes.CLEAR_SELECTED_REPORT:\n      return {\n        ...state,\n        selectedReport: {}\n      };\n    case actionTypes.LOADING_STANDARD_REPORTS_START:\n      return {\n        ...state,\n        loading: true\n      };\n    case actionTypes.LOADING_STANDARD_REPORTS_SUCCESS:\n      return {\n        ...state,\n        reports: payload,\n        loading: false\n      };\n    case actionTypes.LOADING_STANDARD_REPORTS_ERROR:\n      return {\n        ...state,\n        loading: false\n      };\n    case actionTypes.SET_SEARCH:\n      return {\n        ...state,\n        search: payload\n      };\n    case actionTypes.SHARING_SETTINGS_SHOW:\n      return {\n        ...state,\n        open: true,\n        selectedReport: payload,\n        selectedAction: CONTEXT_MENU_ACTION.SHARING_SETTINGS\n      };\n    case actionTypes.CLOSE_CONTEXT_MENU:\n      return {\n        ...state,\n        open: false,\n        selectedReport: {},\n        selectedAction: ''\n      };\n    case actionTypes.REQUEST_DELETE_STANDARD_REPORT:\n      return {\n        ...state,\n        requestDelete: true,\n        selectedReport: payload,\n        selectedAction: CONTEXT_MENU_ACTION.DELETE\n      };\n    case actionTypes.DELETE_STANDARD_REPORT_START:\n      return {\n        ...state,\n        requestDelete: false,\n        loading: true\n      };\n    case actionTypes.DELETE_STANDARD_REPORT_SUCCESS:\n      return {\n        ...state,\n        selectedReport: {},\n        selectedAction: '',\n        loading: false\n      };\n    case actionTypes.DELETE_STANDARD_REPORT_ERROR:\n      return {\n        ...state,\n        loading: false\n      };\n    case actionTypes.LOADING_STANDARD_REPORTS_DETAILS_START:\n      return {\n        ...state,\n        loadingDetails: true\n      };\n    case actionTypes.LOADING_STANDARD_REPORTS_DETAILS_SUCCESS:\n      return {\n        ...state,\n        open: true,\n        loadingDetails: false,\n        selectedReport: payload\n      };\n    case actionTypes.LOADING_STANDARD_REPORTS_DETAILS_ERROR:\n      return {\n        ...state,\n        loadingDetails: false\n      };\n    case actionTypes.STANDARD_REPORT_SEND_START:\n      return {\n        ...state,\n        loadingSendReport: true\n      };\n    case actionTypes.STANDARD_REPORT_SEND_SUCCESS:\n    case actionTypes.STANDARD_REPORT_SEND_ERROR:\n      return {\n        ...state,\n        open: false,\n        loadingSendReport: false\n      };\n    case actionTypes.DEFINE_REQUIRED_PARAMS:\n      return {\n        ...state,\n        reportParams: payload,\n        showReportParams: true\n      };\n    case actionTypes.REQUIRED_PARAMS_ERROR:\n      return {\n        ...state,\n        reportParamsErrors: payload\n      };\n    case actionTypes.GENERATE_PDF_REPORT:\n    case actionTypes.CANCEL_GENERATING_PDF_REPORT:\n    case reportDataActionTypes.LOADING_REPORT_DATA_SUCCESS:\n      return {\n        ...state,\n        reportParams: {},\n        reportParamsErrors: [],\n        showReportParams: false\n      };\n    default:\n      return state;\n  }\n};","import { actionTypes } from '../actions/standardReportTables.js';\nexport const defaultState = {\n  loading: false,\n  error: '',\n  collection: [],\n  noMatches: false,\n  searchTerm: ''\n};\nexport const standardReportTables = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  switch (type) {\n    case actionTypes.STANDARD_REPORT_TABLES_SET_SEARCH_TERM:\n      return {\n        ...state,\n        searchTerm: payload,\n        noMatches: false\n      };\n    case actionTypes.STANDARD_REPORT_TABLES_CLEAR_SEARCH_TERM:\n      return {\n        ...state,\n        searchTerm: '',\n        collection: [],\n        noMatches: false\n      };\n    case actionTypes.STANDARD_REPORT_TABLES_LOADING_START:\n      return {\n        ...state,\n        error: '',\n        loading: true\n      };\n    case actionTypes.STANDARD_REPORT_TABLES_LOADING_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        error: '',\n        collection: payload,\n        noMatches: payload.length === 0\n      };\n    case actionTypes.STANDARD_REPORT_TABLES_LOADING_ERROR:\n      return {\n        ...state,\n        loading: false,\n        noMatches: false\n      };\n    default:\n      return state;\n  }\n};","import { connectRouter } from 'connected-react-router';\nimport { combineReducers } from 'redux';\nimport history from '../utils/history.js';\nimport { dataSet } from './reducers/dataSet.js';\nimport { dataSetDimensions } from './reducers/dataSetDimensions.js';\nimport { dataSetReport } from './reducers/dataSetReport.js';\nimport { feedback } from './reducers/feedback.js';\nimport { organisationUnits } from './reducers/organisationUnits.js';\nimport { orgUnitDistReport } from './reducers/orgUnitDistReport.js';\nimport { orgUnitGroupSets } from './reducers/orgUnitGroupSets.js';\nimport { pagination } from './reducers/pagination.js';\nimport { reportData } from './reducers/reportData.js';\nimport { reportPeriod } from './reducers/reportPeriod.js';\nimport { resource } from './reducers/resource.js';\nimport { standardReport } from './reducers/standardReport.js';\nimport { standardReportTables } from './reducers/standardReportTables.js';\nexport default combineReducers({\n  router: connectRouter(history),\n  feedback,\n  standardReport,\n  standardReportTables,\n  dataSetReport,\n  reportPeriod,\n  organisationUnits,\n  orgUnitGroupSets,\n  dataSet,\n  dataSetDimensions,\n  reportData,\n  pagination,\n  orgUnitDistReport,\n  resource\n});","import { routerMiddleware } from 'connected-react-router';\nimport { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport reduxThunk from 'redux-thunk';\nimport history from '../utils/history.js';\nimport rootReducer from './rootReducer.js';\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(routerMiddleware(history), reduxThunk)));\nexport default store;","import i18n from '../locales/index.js';\nconst d2UiTranslations = {\n  settings: i18n.t('Settings'),\n  app_search_placeholder: i18n.t('Search apps'),\n  profile: i18n.t('Profile'),\n  account: i18n.t('Account'),\n  help: i18n.t('Help'),\n  log_out: i18n.t('Log out'),\n  about_dhis2: i18n.t('About DHIS 2'),\n  manage_my_apps: i18n.t('Manage my apps'),\n  no_results_found: i18n.t('No results found'),\n  interpretations: i18n.t('Interpretations'),\n  messages: i18n.t('Messages'),\n  display_name: i18n.t('Name'),\n  report_table: i18n.t('Report Table'),\n  id: i18n.t('ID'),\n  createReport: i18n.t('Create'),\n  editReport: i18n.t('Edit'),\n  actions: i18n.t('Actions'),\n  delete: i18n.t('Delete'),\n  sharingSettings: i18n.t('Sharing settings'),\n  viewResource: i18n.t('View Resource'),\n  editResource: i18n.t('Edit Resource'),\n  add_users_and_user_groups: i18n.t('Add users and user groups'),\n  enter_names: i18n.t('Enter names'),\n  share: i18n.t('Sharing settings'),\n  metadata: i18n.t('Permissions'),\n  created_by: i18n.t('Created By'),\n  who_has_access: i18n.t('Who has access'),\n  external_access: i18n.t('External access (without login)'),\n  can_edit_and_view: i18n.t('Can edit and view'),\n  can_view: i18n.t('Can view'),\n  can_view_only: i18n.t('Can view only'),\n  no_access: i18n.t('No access'),\n  public_access: i18n.t('Public access (with login)'),\n  public_can_edit: i18n.t('Public can edit'),\n  public_can_view: i18n.t('Public can view'),\n  anyone_can_find_view_and_edit: i18n.t('Public can find, view and edit'),\n  anyone_can_find_and_view: i18n.t('Public can find and view'),\n  close: i18n.t('Close'),\n  week: i18n.t('week'),\n  month: i18n.t('month'),\n  year: i18n.t('year'),\n  biMonth: i18n.t('bi monthly'),\n  day: i18n.t('day'),\n  jan: i18n.t('January'),\n  feb: i18n.t('February'),\n  mar: i18n.t('March'),\n  apr: i18n.t('April'),\n  may: i18n.t('May'),\n  jun: i18n.t('June'),\n  jul: i18n.t('July'),\n  aug: i18n.t('August'),\n  sep: i18n.t('September'),\n  oct: i18n.t('October'),\n  nov: i18n.t('November'),\n  dec: i18n.t('December'),\n  'jan-feb': i18n.t('January-February'),\n  'mar-apr': i18n.t('March-April'),\n  'may-jun': i18n.t('May-June'),\n  'jul-aug': i18n.t('July-August'),\n  'sep-oct': i18n.t('September-October'),\n  'nov-dec': i18n.t('November-December'),\n  'nov-apr': i18n.t('November-April'),\n  'may-oct': i18n.t('May-October'),\n  quarter: i18n.t('quarter'),\n  Q1: i18n.t('January-March'),\n  Q2: i18n.t('April-June'),\n  Q3: i18n.t('July-September'),\n  Q4: i18n.t('October-December'),\n  sixMonth: i18n.t('six monthly'),\n  'jan-jun': i18n.t('January-June'),\n  'jul-dec': i18n.t('July-December'),\n  'apr-sep': i18n.t('April-September'),\n  'oct-mar': i18n.t('October-March'),\n  biWeek: i18n.t('Bi-Week'),\n  bi_week: i18n.t('Bi-Week')\n};\nconst injectTranslationsToD2 = d2 => {\n  if (d2) {\n    Object.assign(d2.i18n.translations, d2UiTranslations);\n  }\n};\nexport default injectTranslationsToD2;","import 'material-design-icons-iconfont/dist/material-design-icons.css';\nimport 'flexboxgrid/css/flexboxgrid.css';\nimport './locales/index.js';\nimport { useConfig } from '@dhis2/app-runtime';\nimport { useD2 } from '@dhis2/app-runtime-adapter-d2';\nimport D2UIApp from '@dhis2/d2-ui-app';\nimport { mui3theme } from '@dhis2/d2-ui-core';\nimport { MuiThemeProvider as Mui3ThemeProvider, createMuiTheme as createMui3Theme } from '@material-ui/core/styles';\nimport { ConnectedRouter } from 'connected-react-router';\nimport React from 'react';\nimport { Provider } from 'react-redux';\nimport App from './App.js';\nimport store from './redux/store.js';\nimport { initApi } from './utils/api.js';\nimport history from './utils/history.js';\nimport injectTranslationsToD2 from './utils/injectTranslationsToD2.js';\nconst MUI3Theme = createMui3Theme(mui3theme);\nconst AppWrapper = () => {\n  const {\n    baseUrl\n  } = useConfig();\n  const {\n    d2\n  } = useD2({\n    d2Config: {\n      baseUrl: baseUrl + '/api',\n      schemas: ['dataApprovalLevel', 'dataSet', 'organisationUnit', 'organisationUnitGroupSet', 'report']\n    },\n    onInitialized: d2 => {\n      initApi(d2);\n      injectTranslationsToD2(d2);\n    }\n  });\n  if (!d2) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(D2UIApp, null, /*#__PURE__*/React.createElement(Mui3ThemeProvider, {\n    theme: MUI3Theme\n  }, /*#__PURE__*/React.createElement(Provider, {\n    store: store\n  }, /*#__PURE__*/React.createElement(ConnectedRouter, {\n    history: history\n  }, /*#__PURE__*/React.createElement(App, {\n    d2: d2\n  })))));\n};\nexport default AppWrapper;"],"names":["namespace","i18n","addResources","arTranslations","ar_EGTranslations","ar_IQTranslations","bnTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","es_419Translations","frTranslations","hi_INTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","neTranslations","nlTranslations","orTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","roTranslations","ruTranslations","siTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uz_CyrlTranslations","uz_LatnTranslations","uz_UZ_CyrlTranslations","uz_UZ_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","STANDARD_REPORT_SECTION_KEY","DATA_SET_REPORT_SECTION_KEY","REPORTING_RATE_SUMMARY_SECTION_KEY","RESOURCE_SECTION_KEY","ORG_UNIT_DIST_REPORT_SECTION_KEY","sectionOrder","sections","key","path","info","label","t","icon","description","actionText","docs","ACTION_MESSAGE","actionTypes","clearFeedback","type","showSnackbar","message","payload","arguments","length","undefined","FEEDBACK_TYPES","showSuccessSnackBar","showErrorSnackBar","showConfirmationSnackBar","Snackbar","_ref","action","onActionClick","onClose","conf","React","id","FeedbackSnackbar","show","defaultProps","mapDispatchToProps","connectedSnackbar","connect","_ref2","feedback","props","href","url","target","rel","className","_JSXStyle","isBelowVersion34","getSystemMinorVersion","isAtLeastVersion34","getReportTableNameBySystemVersion","getReportParamsFieldName","getReportParamsPropertiesBySystemVersion","reportParams","reportingPeriod","paramReportingPeriod","grandParentOrganisationUnit","paramGrandParentOrganisationUnit","organisationUnit","paramOrganisationUnit","parentOrganisationUnit","paramParentOrganisationUnit","formatStandardReportResponseBySystemVersion","reportModel","reportJson","toJSON","reportTable","reportTableReportParams","formatStandardReportsResponse","reportsCollection","reports","toArray","map","pager","pageSize","query","page","pageCount","total","mapCollectionToDimensionQueryString","_len","collections","Array","_key","reduce","dimensionQueryString","collection","Object","keys","uploadFile","api","file","formData","FormData","append","post","addFileResourceUrlToResource","resource","getFileUrls","endPoint","queryString","extensions","extension","getApi","baseUrl","buildQueryString","o","acc","value","isArray","join","push","isCustomFormType","formType","RESOURCE_ENDPOINT","DATA_DIMENSION_SUFFIXES","STANDARD_REPORTS_ENDPOINT","d2","initApi","d2Instance","Api","getD2","getContextPath","system","systemInfo","contextPath","version","minor","getDataSetReport","options","dataSet","data","ds","pe","period","ou","orgUnit","selectedUnitOnly","filter","dataSetDimensions","orgUnitGroupsOptions","requestOptions","headers","Accept","fileUrls","getDataSetReportFileUrls","resourceUrl","mergedFilters","baseQueryStr","filterQueryStr","get","then","response","getReportingRateSummaryReport","async","dataSetId","orgUnitOptions","orgUnitIds","getOrgUnitAndChildrenIds","dataDimensions","suffix","req","analytics","request","addDataDimension","addOrgUnitDimension","addPeriodFilter","withColumns","withRows","withTableLayout","withHideEmptyRows","withDisplayProperty","withIncludeNumDen","addFilter","getAnalyticsFileUrls","buildQuery","jsonUrl","buildUrl","replace","children","size","Promise","resolve","models","organisationUnits","fields","model","getStandardReportTables","searchTerm","resourceName","getReportTablesFilterBySystemVersion","paging","postDocument","putDocument","resourceId","update","getDocsVersion","major","snapshot","getDocsUrl","sectionKey","lng","SectionHeadline","showBackButton","role","tabIndex","onClick","onBackClick","PageHelper","PropTypes","name","isRequired","onBlur","onChange","onFocus","touched","error","formOption","formLabel","styles","container","card","formCard","formLoader","actionsContainer","fallBackDefault","humanReadableErrorMessage","errorInstance","fallbackMsg","messages","httpStatusCode","useMessage","selectDataSet","loadingDataSetOptionsErrorWithFeedback","dispatch","defaultMessage","displayMessage","loadingDimensionsErrorWithFeedback","loadDimensions","getState","selected","order","dimensions","loadingDimensionsSuccess","catch","loadingReportDataStart","loadingReportDataSuccess","reportData","loadingReportDataError","loadingReportDataSuccessWithFeedback","shouldShowChart","successMsg","outputType","loadingReportDataErrorWithFeedback","sharingReportCommentStartWithFeedback","sharingReportCommentSuccessWithFeedback","sharingReportCommentErrorWithFeedback","defaultMessge","shareDataSetReportComment","comment","reportPeriod","orgUnitId","selectedPeriod","postDataSetReportComment","endpointUrl","postDataSetReportCommentUrl","getIsActionEnabled","state","loading","isHtmlReport","content","createDataTransformCache","inputData","transformedData","hasValidCacheFor","getCachedResult","setCachedResult","input","transformed","cache","getTransformedTableData","isEmpty","tables","transformTableData","title","h","column","rows","cells","x","connectDataSetReport","reportContent","isReportLoading","reportComment","dataSetReport","isActionEnabled","loadReportData","selectedOptions","e","selectDataSetOriginal","toggleSelectedUnitOnly","setDataSetReportComment","setReportComment","isLoading","childrenToWrap","CircularProgress","Paper","prefix","DownloadOption","download","DownloadOptions","index","actionButtonPlaceholder","inputFieldPlaceholder","ReportComment","InputField","placeholder","multiline","fullWidth","Button","raised","color","disabled","trim","Row","cell","Fragment","header","CSS_FILES","media","styleSheet","SCRIPT_FILES","_defineProperty","r","i","Symbol","toPrimitive","call","TypeError","String","Number","_toPrimitive","_toPropertyKey","defineProperty","enumerable","configurable","writable","createScriptTag","script","createLinkTag","Loader","HtmlReport","Component","constructor","super","this","heigth","event","iframeHtml","contentWindow","document","documentElement","iframeBody","body","heightObserver","window","ResizeObserver","onContentResize","observe","adjustHeight","getBoundingClientRect","entries","entry","contentRect","iframeHtmlRect","iframeBodyRect","height","Math","max","setState","ceil","componentWillUnmount","disconnect","render","html","srcDoc","width","seamless","sandbox","onLoad","onIframeLoad","ReportLoader","table","ReportTable","createDimensionChangeHandler","dimensionId","element","DimensionDropdown","dimension","displayName","DropDown","values","menuItems","items","includeEmpty","emptyLabel","hintText","thickness","DataSetDimensions","hide","ConnectedDataSetDimensions","evt","selectDimensionOption","hintTextLoading","hintTextDefault","DatasetsDropdown","loadingGroupSetsErrorDefaultMessage","loadGroupSetOptions","organisationUnitGroupSet","list","groupSets","loadingGroupSetsError","ORGANISATION_UNITS_LOADING_START","ORGANISATION_UNITS_RECEIVED","ORGANISATION_UNITS_ERRORED","ORGANISATION_UNIT_SELECTED","ORGANISATION_UNIT_CLEARED","ORGANISATION_UNITS_OPTION_SELECTED","TOGGLE_SHOW_OPTIONS","loadOrganisationUnitsErrorDefaultMessage","loadOrganisationUnitsErrorWithFeedback","clearSelectedOrgUnit","selectOrganisationUnit","_event","OrgUnitTreeMultipleRoots","hideMemberCount","roots","initiallyExpanded","unit","onSelectClick","labelText","OrganisationUnitGroupSetDropdown","groupSet","organisationUnitGroups","__OrganisationUnitGroupSets","selectGroupSet","groupSetId","createGroupSetOnChange","OrganisationUnitGroupSets","orgUnitGroupSets","selectOrgUnitOption","getExtraOptionsClassName","showOptions","OrgUnitsTreeWithExtraOptions","isLoadingOptions","toggleShowOptions","OrganisationUnitsTree","REPORT_PERIOD_TYPES_LOADING_START","REPORT_PERIOD_TYPES_RECEIVED","REPORT_PERIOD_TYPES_ERRORED","REPORT_PERIOD_TYPE_SELECTED","REPORT_PERIOD_SELECTED","REPORT_PERIOD_CLEAR_ALL","fallbackErrorMessage","loadPeriodTypesErrorWithFeedback","clearSelectedReportPeriod","fixedPeriodTranslations","Daily","Weekly","WeeklyWednesday","WeeklyThursday","WeeklySaturday","WeeklySunday","BiWeekly","Monthly","BiMonthly","Quarterly","QuarterlyNov","SixMonthly","SixMonthlyApril","SixMonthlyNov","Yearly","FinancialApril","FinancialJuly","FinancialOct","FinancialNov","relativePeriodsThatAreActuallyFixed","thisDay","thisWeek","thisBiWeek","thisMonth","thisBimonth","thisQuarter","thisSixMonth","thisYear","thisFinancialYear","isFixedPeriodType","periodType","THIS_DAY","YESTERDAY","LAST_3_DAYS","LAST_7_DAYS","LAST_14_DAYS","THIS_WEEK","LAST_WEEK","LAST_4_WEEKS","LAST_12_WEEKS","LAST_52_WEEKS","WEEKS_THIS_YEAR","THIS_MONTH","LAST_MONTH","LAST_3_MONTHS","LAST_6_MONTHS","LAST_12_MONTHS","MONTHS_THIS_YEAR","THIS_BIMONTH","LAST_BIMONTH","LAST_6_BI_MONTHS","BI_MONTHS_THIS_YEAR","THIS_QUARTER","LAST_QUARTER","LAST_4_QUARTERS","QUARTERS_THIS_YEAR","THIS_SIX_MONTH","LAST_SIX_MONTH","LAST_2_SIX_MONTHS","THIS_FINANCIAL_YEAR","LAST_FINANCIAL_YEAR","LAST_5_FINANCIAL_YEARS","THIS_YEAR","LAST_YEAR","LAST_5_YEARS","RELATIVE_PERIODS","flattenedRelativePeriods","group","forEach","getCurrentDate","Date","now","getPreviousMonday","date","day","getDay","mondayTimeStamp","getDate","setDate","daysAgo","offset","weeksAgo","previousMonday","startOfYear","year","getFullYear","getTime","monthUnitsAgo","unitSize","monthIndex","getMonth","firstMonthStr","floor","toString","padStart","firstMonthStartDate","setMonth","yearsAgo","isFinancial","startYear","startDateCalculators","weeksThisYear","jan4","getRelativePeriodStartDate","periodCode","startDateCalutator","timestamp","formatYyyyMmDd","CONTEXT_MENU_ACTION","CONTEXT_MENU_ICONS","TYPES","reportTypes","reportTypeOptions","cacheStrategies","isFalsy","getPeriodStartDate","parseFixedPeriod","startDate","getFixedPeriodStartDate","isJasperReportTableReport","report","appendOrgUnitsAndReportPeriodToQueryString","baseStr","standardReport","processCheckboxValues","formSelectedKeys","stateValues","selectedKeys","Set","has","getFilteredPeriodTypes","fixedPeriodTypes","showReportParams","selectedReport","periods","relativePeriods","periodKey","isRelative","periodTypeLabelText","selectPeriodType","selectPeriod","selectedPeriodType","PeriodPicker","onPickPeriod","DataSets","onDataSetChange","PeriodPickerComponent","CheckBox","onSelectedUnitOnlyChange","onGetReportClick","isGetReportDisabled","ConnectedDataSetReport","Form","DataSetReportOutput","Home","menuCards","Link","to","MenuElement","Bar","loadReport","orgUnitDistReport","ougs","columns","relativeUrl","getOrgUnitDistReport","FONT_FAMILY","BASE_COLOR","getTitle","getTransformedChartData","chartData","labels","datasets","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","display","text","fontSize","fontFamily","legend","position","animation","duration","getChartData","parseInt","orgUnitColumnDisplayName","totalColumnDisplayName","tableData","getRows","selectedOrgUnitName","toNumericWithTotal","sort","rowA","rowB","a","b","nameA","toUpperCase","nameB","upperOrgUnitName","localeCompare","ascByNameWithParentBelow","cellsWithTotals","cellStr","cellVal","loadChart","loadTable","connectOrganisationUnitDistributionReport","groupSetsReady","GroupSetsDropdown","GroupSets","onGetChartClick","OrganisationUnitDistributionReport","componentDidMount","TabularReport","BarChart","ConnectedOrganisationUnitDistributionReport","nameColumnDisplayName","rowIndexesToRead","parseTitle","parseHeaders","rowsWithAllFields","row","parseFloat","headerNames","hidden","connectReportingRateSummary","showForm","ConnectedReportingRateSummary","GO_TO_NEXT_PAGE","GO_TO_PREV_PAGE","SET_PAGINATION","RESET_PAGINATION","goToNextPage","goToPrevPage","setPagination","pagination","loadingResourcesErrorWithFeedback","loadResources","search","getResources","requestData","resources","documents","debouncedLoadResources","debounce","setSearchAndLoadResources","setSearch","toResourceForm","setResource","confirmationMessage","successMessage","deleteResourceSuccessWithFeedback","defaultDeleteResourceErrorMessage","deleteResourceErrorWithFeedback","clearSelectedResource","loadingAddResourceError","resourceTypes","resourceTypeOptions","resourceActions","contextMenuIcons","D2UIButton","isPrimary","FormSection","FormRow","_extends","assign","bind","n","hasOwnProperty","apply","RadioButton","htmlFor","RadioButtons","withStyles","margin","FormControl","classes","FormHelperText","showError","Field","meta","option","component","propTypes","Attachment","errorTextColor","red","ErrorText","showErrorText","dynamic","createChangeHandler","persist","files","formatBlobToString","File","format","fieldProps","variant","isRequiredWhen","when","FileInput","validate","HelpText","style","blue","inputWrapper","Input","InputLabel","MUIInput","helpText","Name","FormSectionTitle","Title","TitleDetails","TitleResource","SelectField","MUISelect","showEmptyOption","MenuItem","Select","Type","Url","ResourceForm","onSubmit","initialValues","handleSubmit","valid","isEditingFileResource","isFileRequired","onSubmitLabel","onCancel","showContextAction","deleteResource","access","read","manage","externalize","external","AddEditResource","omit","attachment","extractFileAndFormattedResource","isEdit","updateResource","addNewResource","backToList","isResourceLoaded","loadResource","getResourceIdFromUrl","getInitialValues","match","params","mode","getFormTexts","editTitle","editSubmitLabel","addText","submitLabel","Card","open","ConnectedAddEditResource","selectedResource","getResourceById","_ref4","fileResource","putResource","defaultAddResourceErrorMessage","loadingEditResourceErrorWithFeedback","_ref3","postResource","loadingAddResourceErrorWithFeedback","getPagerCurrentlyShown","projectedEnd","searchText","__hash","pagerTotal","pagerHasNextPage","pagerHasPreviousPage","pagerCurrentlyShown","Pagination","hasNextPage","hasPreviousPage","currentlyShown","onNextPageClick","onPreviousPageClick","TextField","searchInputValue","searchInputChangeHandler","Table","contextMenuActions","primaryAction","isContextActionAllowed","fab","addButtonClickHandler","SvgIcon","goToNextPageOrig","goToPrevPageOrig","requestDeleteResource","delete","addResource","viewResource","editResource","showSharingSettings","closeContextMenu","refreshList","connectResource","selectedAction","loadingResources","SharingDialog","onRequestClose","handleClose","Resource","contextMenuOptions","createContextMenuOptions","SearchablePagedList","ResourceActions","ConnectedResource","loadingStandardReportsErrorWithFeedback","debouncedLoadStandardReports","loadStandardReports","deleteStandardReportSuccessWithFeedback","deleteStandardReportErrorWithFeedback","getFilteredStandardReports","nameFilter","addFilterForName","on","ilike","deleteStandardReport","loadingStandardReportsDetailsError","sendStandardReport","formattedReport","dhis2CoreVersionFormattedReport","visualization","rp","formatStandardReportPayloadBySystemVersion","doRequest","updateStandardReport","postStandardReport","errorMessage","blob","designContent","reject","fileReader","FileReader","readAsText","onload","readyState","result","navigateToList","setSelectedReport","getReportParams","requiredParams","omitBy","extractRequiredReportParams","defineRequiredReportParams","navigateToHtmlReportView","generatePdfReport","reportId","reportQueryString","reportPath","identity","getIsEdit","matchPath","router","location","pathname","getEditFormInitialValues","createSelector","cur","cacheStrategy","checkboxStyle","Checkbox","CheckBoxes","CheckBoxGroups","displayError","groups","loadingStandardReportTablesErrorWithFeedback","loadStandardReportTables","standardReportTables","reportTables","formattedReportTables","debouncedLoadStandardReportTables","centeredStyle","alignItems","justifyContent","paddingTop","paddingBottom","errorStyle","infoStyle","fontStyle","ReportTableSearchInput","noMatches","persistedReportTableName","loadFilteredStandardReportTables","clearSearch","_inputRef$current","inputRef","useRef","isSearchMode","setSearchMode","useState","reportTableName","setReportTableName","showResults","showHint","usedValue","inputProps","count","autoComplete","Popper","anchorEl","current","offsetWidth","maxHeight","overflow","item","onMouseDown","getListContent","reportParameterOptions","DesignFileDownloadButton","isEditing","reportType","validateNewReport","errors","validateName","validateReportTable","validateDesignContent","validateCacheStrategy","validateReportUpdate","ReportForm","edit","subscription","AddEditStandardReport","PureComponent","loadStandardReportDetails","headlineText","ConnectedComponent","getStandardReportDetails","reportCard","LinkToListWithRef","ref","innerRef","StyledHtmlReport","generateHtmlReport","searchParams","URLSearchParams","reportRequestBody","getStandardReportHtmlReport","requestBody","generatingHtmlReportErrorDefaultMessage","generatingHtmlReportErrorWithFeedback","connectStandardReport","addReportFormShow","addStandardReport","createReport","editReport","editReportFormShow","hideReportData","requestDeleteStandardReport","sharingSettings","sharingSettingsShow","showReportData","labelCancel","labelSubmit","colorError","buttonStyles","primaryButtonStyle","theme","palette","primary2Color","primary1Color","ConnectedReportParams","reportParamsErrors","cancelGeneratingPdfReport","submitRequiredReportParams","validateRequiredParams","getSelectedOrgUnit","getSelectedReportPeriod","requiredReportParamsError","Dialog","maxWidth","DialogTitle","DialogContent","OrganisationUnitTree","StandardReport","StandardReportActions","handleDisplayReportData","ConnectedStandardReport","standardReportPath","resourcePath","ID_REGEXP","AppRouter","Switch","Route","exact","ConnectedAddEditStdReport","DataSetReport","ReportingRateSummary","NoMatch","atOrgUnitDistReportSection","getShowLoading","showLoader","loadingSendReport","addEditLoading","getIsUiBlocked","connectedLoader","getCurrentSection","substring","getShowSidebar","nonOnChangeSection","sidebarSections","section","containerElement","App","getChildContext","loadOrganisationUnits","loadPeriodTypes","loadDataSetOptions","showSidebar","Sidebar","onChangeSection","currentSection","childContextTypes","orgUnitFields","currentUser","getDataViewOrganisationUnits","level","getOrganisationUnits","loadOrganisationUnitsSuccess","console","resp","periodTypes","loadPeriodTypesSuccess","loadingDataSetOptionsSuccess","createHashHistory","defaultSelected","defaultState","removeKeyFromObj","obj","removeKey","remove","remainingKeys","ACTIONS","LOCATION_CHANGE","allActionTypes","nextPage","prevPage","defaultSelectedResource","loadingError","requestDelete","loadingDetails","combineReducers","connectRouter","history","types","reportDataActionTypes","curSelected","createStore","rootReducer","composeWithDevTools","applyMiddleware","routerMiddleware","reduxThunk","d2UiTranslations","settings","app_search_placeholder","profile","account","help","log_out","about_dhis2","manage_my_apps","no_results_found","interpretations","display_name","report_table","actions","add_users_and_user_groups","enter_names","share","metadata","created_by","who_has_access","external_access","can_edit_and_view","can_view","can_view_only","no_access","public_access","public_can_edit","public_can_view","anyone_can_find_view_and_edit","anyone_can_find_and_view","close","week","month","biMonth","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","quarter","Q1","Q2","Q3","Q4","sixMonth","biWeek","bi_week","translations","MUI3Theme","createMui3Theme","mui3theme","AppWrapper","useConfig","useD2","d2Config","schemas","onInitialized","injectTranslationsToD2","D2UIApp","Mui3ThemeProvider","Provider","store","ConnectedRouter"],"sourceRoot":""}