{"version":3,"sources":["D2App/locales/index.js","D2App/config/sections.config.js","D2App/utils/feedbackTypes.js","D2App/redux/actions/feedback.js","D2App/components/feedback/Snackbar.js","D2App/components/PageHelper.js","D2App/utils/backwardCompatability.js","D2App/utils/api/helpers.js","D2App/utils/api/constants.js","D2App/utils/dataSetReport/isCustomFormType.js","D2App/utils/api.js","D2App/utils/getDocsUrl.js","D2App/components/SectionHeadline.js","D2App/utils/react/propTypes.js","D2App/utils/styles/shared.js","D2App/utils/humanReadableErrorMessage.js","D2App/redux/actions/dataSet.js","D2App/redux/actions/dataSetDimensions.js","D2App/redux/actions/reportData.js","D2App/redux/actions/dataSetReport.js","D2App/redux/selectors/dataSetReport/getIsActionEnabled.js","D2App/utils/dataSetReport/isHtmlReport.js","D2App/utils/dataTransformCache.js","D2App/redux/selectors/dataSetReport/getTransformedTableData.js","D2App/pages/data-set-report/connectDataSetReport.js","D2App/components/ReportLoader.js","D2App/components/TabularReport/DownloadOptions.js","D2App/components/TabularReport/ReportComment.js","D2App/components/TabularReport/ReportTable.js","D2App/pages/standard-report/HtmlReportAssets.js","D2App/pages/standard-report/HtmlReport.js","D2App/pages/data-set-report/DataSetReportOutput.js","D2App/components/DataSetDimensions.js","D2App/components/DatasetsDropdown.js","D2App/redux/actions/orgUnitGroupSets.js","D2App/redux/actions/organisationUnits.js","D2App/components/AvailableOrganisationUnitsTree.js","D2App/components/OrganisationUnitGroupSets.js","D2App/components/OrgUnitsTreeWithExtraOptions.js","D2App/redux/actions/reportPeriod.js","D2App/utils/periods/fixedPeriods.js","D2App/utils/periods/relativePeriods.js","D2App/pages/standard-report/standard.report.conf.js","D2App/utils/boolean/isFalsy.js","D2App/utils/periods/periodTypes.js","D2App/utils/standardReport/index.js","D2App/redux/selectors/reportPeriod/periodTypes.js","D2App/components/PeriodPickerWithPeriodType.js","D2App/pages/data-set-report/Form.js","D2App/pages/DataSetReport.js","D2App/components/MenuElement.js","D2App/pages/home/Home.js","D2App/components/BarChart.js","D2App/components/TabularReport.js","D2App/redux/actions/orgUnitDistReport.js","D2App/redux/selectors/orgUnitDistReport/getIsActionEnabled.js","D2App/config/style.config.js","D2App/utils/dataTransformHelpers.js","D2App/redux/selectors/orgUnitDistReport/getTransformedChartData.js","D2App/redux/selectors/orgUnitDistReport/getTransformedTableData.js","D2App/pages/organisation-unit-distribution-report/connectOrganisationUnitDistributionReport.js","D2App/components/GroupSetsDropdown.js","D2App/pages/organisation-unit-distribution-report/Form.js","D2App/pages/OrganisationUnitDistributionReport.js","D2App/redux/selectors/reportingRateSummary/getIsActionEnabled.js","D2App/redux/selectors/reportingRateSummary/getTransformedTableData.js","D2App/pages/reporting-rate-summary/connectReportingRateSummary.js","D2App/redux/actions/reportingRateSummary.js","D2App/pages/reporting-rate-summary/Form.js","D2App/pages/ReportingRateSummary.js","D2App/redux/selectors/pagination/getPagerCurrentlyShown.js","D2App/components/SearchablePagedList.js","D2App/utils/resource/constants.js","D2App/config/search.config.js","D2App/redux/actions/pagination.js","D2App/redux/actions/resource.js","D2App/pages/resource/connectResource.js","D2App/utils/form/validators.js","D2App/pages/resource/helper.js","D2App/pages/resource/ResourceActions.js","D2App/pages/Resource.js","D2App/components/form/Button.js","D2App/components/form/FormSection.js","D2App/components/form/FormRow.js","D2App/components/form/RadioButton.js","D2App/components/form/RadioButtons.js","D2App/pages/resource/add-edit-resource/ResourceForm/Attachment.js","D2App/components/form/buildingBlocks/ErrorText.js","D2App/components/form/File.js","D2App/pages/resource/add-edit-resource/ResourceForm/File.js","D2App/components/form/buildingBlocks/HelpText.js","D2App/components/form/styles.js","D2App/components/form/Input.js","D2App/pages/resource/add-edit-resource/ResourceForm/Name.js","D2App/components/form/FormSectionTitle.js","D2App/pages/resource/add-edit-resource/ResourceForm/Title.js","D2App/pages/resource/add-edit-resource/ResourceForm/TitleDetails.js","D2App/pages/resource/add-edit-resource/ResourceForm/TitleResource.js","D2App/components/form/Select.js","D2App/pages/resource/add-edit-resource/ResourceForm/Type.js","D2App/pages/resource/add-edit-resource/ResourceForm/Url.js","D2App/pages/resource/add-edit-resource/ResourceForm.js","D2App/pages/resource/AddEditResource.js","D2App/utils/fileToText.js","D2App/redux/actions/standardReport.js","D2App/utils/boolean/identity.js","D2App/redux/selectors/standardReport/getEditFormInitialValues.js","D2App/components/form/CheckBox.js","D2App/components/form/CheckBoxes.js","D2App/components/form/CheckBoxGroups.js","D2App/redux/actions/standardReportTables.js","D2App/components/form/ReportTableSearchInput.js","D2App/config/standardReport.js","D2App/pages/standard-report/add-edit-report/DesignFileDownloadButton.js","D2App/pages/standard-report/add-edit-report/validate.js","D2App/pages/standard-report/add-edit-report/ReportForm.js","D2App/pages/standard-report/AddEditStdReport.js","D2App/pages/standard-report/StyledHtmlReport.js","D2App/pages/standard-report/connectStandardReport.js","D2App/pages/standard-report/helper.js","D2App/pages/standard-report/ReportParams.js","D2App/redux/selectors/organisationUnit/getSelectedOrgUnit.js","D2App/redux/selectors/reportPeriod/getSelectedReportPeriod.js","D2App/pages/standard-report/StandardReportActions.js","D2App/pages/StandardReport.js","D2App/components/NoMatch.js","D2App/components/AppRouter.js","D2App/redux/selectors/getIsUiBlocked.js","D2App/redux/selectors/feedback/getShowLoading.js","D2App/components/feedback/Loader.js","D2App/redux/selectors/sidebar/index.js","D2App/App.js","D2App/utils/history.js","D2App/redux/reducers/dataSet.js","D2App/redux/reducers/dataSetDimensions.js","D2App/redux/reducers/dataSetReport.js","D2App/redux/reducers/feedback.js","D2App/redux/reducers/organisationUnits.js","D2App/redux/reducers/orgUnitDistReport.js","D2App/redux/reducers/orgUnitGroupSets.js","D2App/redux/reducers/pagination.js","D2App/redux/reducers/reportData.js","D2App/redux/reducers/reportPeriod.js","D2App/redux/reducers/resource.js","D2App/redux/reducers/standardReport.js","D2App/redux/reducers/standardReportTables.js","D2App/redux/rootReducer.js","D2App/redux/store.js","D2App/utils/injectTranslationsToD2.js","D2App/AppWrapper.js"],"names":["namespace","i18n","addResources","arTranslations","ar_EGTranslations","ar_IQTranslations","bnTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","frTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","ruTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uzTranslations","uz_CyrlTranslations","uz_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","STANDARD_REPORT_SECTION_KEY","DATA_SET_REPORT_SECTION_KEY","REPORTING_RATE_SUMMARY_SECTION_KEY","RESOURCE_SECTION_KEY","ORG_UNIT_DIST_REPORT_SECTION_KEY","sectionOrder","sections","key","path","info","label","t","icon","description","actionText","docs","ACTION_MESSAGE","actionTypes","clearFeedback","type","showSnackbar","message","FEEDBACK_TYPES","payload","showSuccessSnackBar","showErrorSnackBar","showConfirmationSnackBar","Snackbar","action","onActionClick","onClose","conf","React","createElement","id","FeedbackSnackbar","show","defaultProps","mapDispatchToProps","connectedSnackbar","connect","feedback","PageHelper","props","href","url","target","rel","className","_JSXStyle","isBelowVersion34","getSystemMinorVersion","isAtLeastVersion34","getReportTableNameBySystemVersion","getReportParamsFieldName","getReportParamsPropertiesBySystemVersion","reportParams","reportingPeriod","paramReportingPeriod","grandParentOrganisationUnit","paramGrandParentOrganisationUnit","organisationUnit","paramOrganisationUnit","parentOrganisationUnit","paramParentOrganisationUnit","formatStandardReportResponseBySystemVersion","reportModel","reportJson","toJSON","reportTable","reportTableReportParams","formatStandardReportsResponse","reportsCollection","reports","toArray","map","pager","pageSize","query","page","pageCount","total","mapCollectionToDimensionQueryString","collections","reduce","dimensionQueryString","collection","Object","keys","uploadFile","api","file","formData","FormData","append","post","addFileResourceUrlToResource","resource","getFileUrls","endPoint","queryString","extensions","extension","getApi","baseUrl","buildQueryString","o","acc","value","Array","isArray","join","push","isCustomFormType","formType","RESOURCE_ENDPOINT","DATA_DIMENSION_SUFFIXES","STANDARD_REPORTS_ENDPOINT","d2","getD2","getContextPath","system","systemInfo","contextPath","version","minor","getDataSetReport","options","dataSet","data","ds","pe","period","ou","orgUnit","selectedUnitOnly","filter","dataSetDimensions","orgUnitGroupsOptions","requestOptions","headers","Accept","fileUrls","resourceUrl","mergedFilters","baseQueryStr","filterQueryStr","getDataSetReportFileUrls","get","then","response","getReportingRateSummaryReport","async","dataSetId","orgUnitOptions","orgUnitIds","getOrgUnitAndChildrenIds","dataDimensions","suffix","req","analytics","request","addDataDimension","addOrgUnitDimension","addPeriodFilter","withColumns","withRows","withTableLayout","withHideEmptyRows","withDisplayProperty","withIncludeNumDen","addFilter","buildQuery","jsonUrl","buildUrl","replace","getAnalyticsFileUrls","children","size","Promise","resolve","models","organisationUnits","fields","model","getStandardReportTables","searchTerm","resourceName","getReportTablesFilterBySystemVersion","paging","postDocument","putDocument","resourceId","update","getDocsVersion","major","snapshot","getDocsUrl","sectionKey","lng","SectionHeadline","showBackButton","role","tabIndex","onClick","onBackClick","PropTypes","oneOfType","arrayOf","node","string","array","object","shape","name","isRequired","onBlur","func","onChange","onFocus","touched","bool","error","formOption","formLabel","styles","container","card","formCard","formLoader","actionsContainer","fallBackDefault","humanReadableErrorMessage","errorInstance","fallbackMsg","messages","httpStatusCode","useMessage","length","selectDataSet","loadingDataSetOptionsErrorWithFeedback","dispatch","defaultMessage","displayMessage","loadingDimensionsErrorWithFeedback","loadDimensions","getState","selected","order","dimensions","loadingDimensionsSuccess","catch","loadingReportDataStart","loadingReportDataSuccess","reportData","loadingReportDataError","loadingReportDataSuccessWithFeedback","shouldShowChart","successMsg","outputType","loadingReportDataErrorWithFeedback","sharingReportCommentStartWithFeedback","sharingReportCommentSuccessWithFeedback","sharingReportCommentErrorWithFeedback","defaultMessge","shareDataSetReportComment","comment","reportPeriod","orgUnitId","selectedPeriod","endpointUrl","postDataSetReportCommentUrl","postDataSetReportComment","getIsActionEnabled","state","loading","isHtmlReport","content","createDataTransformCache","inputData","transformedData","hasValidCacheFor","getCachedResult","setCachedResult","input","transformed","cache","getTransformedTableData","isEmpty","tables","transformTableData","title","h","column","rows","cells","x","connectDataSetReport","reportContent","isReportLoading","reportComment","dataSetReport","isActionEnabled","loadReportData","selectedOptions","e","selectDataSetOriginal","toggleSelectedUnitOnly","setDataSetReportComment","setReportComment","ReportLoader","isLoading","childrenToWrap","CircularProgress","Paper","prefix","DownloadOption","download","DownloadOptions","index","actionButtonPlaceholder","inputFieldPlaceholder","ReportComment","InputField","placeholder","multiline","fullWidth","Button","raised","color","disabled","trim","Row","cell","ReportTable","Fragment","header","CSS_FILES","media","styleSheet","SCRIPT_FILES","_defineProperty","obj","defineProperty","enumerable","configurable","writable","createScriptTag","script","createLinkTag","Loader","HtmlReport","Component","constructor","args","super","this","heigth","event","iframeHtml","contentWindow","document","documentElement","iframeBody","body","heightObserver","window","ResizeObserver","onContentResize","observe","adjustHeight","getBoundingClientRect","entries","entry","contentRect","iframeHtmlRect","iframeBodyRect","height","Math","max","setState","ceil","componentWillUnmount","disconnect","render","html","srcDoc","width","seamless","sandbox","onLoad","onIframeLoad","DataSetReportOutput","table","createDimensionChangeHandler","dimensionId","element","DimensionDropdown","dimension","displayName","DropDown","values","menuItems","items","includeEmpty","emptyLabel","hintText","thickness","DataSetDimensions","hide","ConnectedDataSetDimensions","evt","hintTextLoading","hintTextDefault","DatasetsDropdown","loadingGroupSetsErrorDefaultMessage","loadGroupSetOptions","organisationUnitGroupSet","list","groupSets","loadingGroupSetsError","ORGANISATION_UNITS_LOADING_START","ORGANISATION_UNITS_RECEIVED","ORGANISATION_UNITS_ERRORED","ORGANISATION_UNIT_SELECTED","ORGANISATION_UNIT_CLEARED","ORGANISATION_UNITS_OPTION_SELECTED","TOGGLE_SHOW_OPTIONS","loadOrganisationUnitsErrorDefaultMessage","loadOrganisationUnitsErrorWithFeedback","clearSelectedOrgUnit","selectOrganisationUnit","_event","OrgUnitTreeMultipleRoots","hideMemberCount","roots","initiallyExpanded","unit","onSelectClick","labelText","OrganisationUnitGroupSetDropdown","groupSet","organisationUnitGroups","__OrganisationUnitGroupSets","selectGroupSet","groupSetId","OrganisationUnitGroupSets","orgUnitGroupSets","getExtraOptionsClassName","showOptions","OrgUnitsTreeWithExtraOptions","isLoadingOptions","toggleShowOptions","OrganisationUnitsTree","REPORT_PERIOD_TYPES_LOADING_START","REPORT_PERIOD_TYPES_RECEIVED","REPORT_PERIOD_TYPES_ERRORED","REPORT_PERIOD_TYPE_SELECTED","REPORT_PERIOD_SELECTED","REPORT_PERIOD_CLEAR_ALL","fallbackErrorMessage","loadPeriodTypesErrorWithFeedback","clearSelectedReportPeriod","fixedPeriodTranslations","Daily","Weekly","WeeklyWednesday","WeeklyThursday","WeeklySaturday","WeeklySunday","BiWeekly","Monthly","BiMonthly","Quarterly","SixMonthly","SixMonthlyApril","SixMonthlyNov","Yearly","FinancialApril","FinancialJuly","FinancialOct","relativePeriodsThatAreActuallyFixed","thisDay","thisWeek","thisBiWeek","thisMonth","thisBimonth","thisQuarter","thisSixMonth","thisYear","thisFinancialYear","isFixedPeriodType","periodType","THIS_DAY","YESTERDAY","LAST_3_DAYS","LAST_7_DAYS","LAST_14_DAYS","THIS_WEEK","LAST_WEEK","LAST_4_WEEKS","LAST_12_WEEKS","LAST_52_WEEKS","WEEKS_THIS_YEAR","THIS_MONTH","LAST_MONTH","LAST_3_MONTHS","LAST_6_MONTHS","LAST_12_MONTHS","MONTHS_THIS_YEAR","THIS_BIMONTH","LAST_BIMONTH","LAST_6_BI_MONTHS","BI_MONTHS_THIS_YEAR","THIS_QUARTER","LAST_QUARTER","LAST_4_QUARTERS","QUARTERS_THIS_YEAR","THIS_SIX_MONTH","LAST_SIX_MONTH","LAST_2_SIX_MONTHS","THIS_FINANCIAL_YEAR","LAST_FINANCIAL_YEAR","LAST_5_FINANCIAL_YEARS","THIS_YEAR","LAST_YEAR","LAST_5_YEARS","RELATIVE_PERIODS","flattenedRelativePeriods","group","forEach","getCurrentDate","Date","now","getPreviousMonday","date","day","getDay","mondayTimeStamp","getDate","setDate","daysAgo","offset","weeksAgo","previousMonday","startOfYear","year","getFullYear","getTime","monthUnitsAgo","unitSize","monthIndex","getMonth","firstMonthStr","floor","toString","padStart","firstMonthStartDate","setMonth","yearsAgo","isFinancial","startYear","startDateCalculators","jan4","weeksThisYear","getRelativePeriodStartDate","periodCode","startDateCalutator","timestamp","formatYyyyMmDd","CONTEXT_MENU_ACTION","CONTEXT_MENU_ICONS","TYPES","reportTypes","reportTypeOptions","cacheStrategies","isFalsy","getPeriodStartDate","parseFixedPeriod","startDate","getFixedPeriodStartDate","isJasperReportTableReport","report","appendOrgUnitsAndReportPeriodToQueryString","baseStr","standardReport","processCheckboxValues","formSelectedKeys","stateValues","selectedKeys","Set","has","getFilteredPeriodTypes","fixedPeriodTypes","showReportParams","selectedReport","periods","relativePeriods","periodKey","isRelative","periodTypeLabelText","selectPeriodType","selectPeriod","selectedPeriodType","PeriodPicker","onPickPeriod","Form","DataSets","onDataSetChange","PeriodPickerComponent","CheckBox","onSelectedUnitOnlyChange","onGetReportClick","isGetReportDisabled","ConnectedDataSetReport","MenuElement","Home","menuCards","Link","to","BarChart","Bar","TabularReport","loadReport","orgUnitDistReport","ougs","columns","relativeUrl","getOrgUnitDistReport","FONT_FAMILY","getTitle","getTransformedChartData","chartData","labels","datasets","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","display","text","fontSize","fontFamily","legend","position","animation","duration","getChartData","parseInt","orgUnitColumnDisplayName","totalColumnDisplayName","tableData","getRows","selectedOrgUnitName","toNumericWithTotal","sort","rowA","rowB","a","b","nameA","toUpperCase","nameB","upperOrgUnitName","localeCompare","ascByNameWithParentBelow","cellsWithTotals","cellStr","cellVal","loadChart","loadTable","connectOrganisationUnitDistributionReport","groupSetsReady","GroupSetsDropdown","GroupSets","onGetChartClick","OrganisationUnitDistributionReport","componentDidMount","ConnectedOrganisationUnitDistributionReport","nameColumnDisplayName","rowIndexesToRead","parseTitle","parseHeaders","rowsWithAllFields","row","rowIndex","parseFloat","metaData","dx","dimensionCode","connectReportingRateSummary","showForm","ConnectedReportingRateSummary","getPagerCurrentlyShown","pagination","projectedEnd","searchText","__hash","pagerTotal","pagerHasNextPage","pagerHasPreviousPage","pagerCurrentlyShown","Pagination","hasNextPage","hasPreviousPage","currentlyShown","onNextPageClick","goToNextPage","onPreviousPageClick","goToPrevPage","TextField","searchInputValue","searchInputChangeHandler","Table","contextMenuActions","primaryAction","contextMenuIcons","isContextActionAllowed","fab","addButtonClickHandler","SvgIcon","resourceTypes","resourceTypeOptions","resourceActions","GO_TO_NEXT_PAGE","GO_TO_PREV_PAGE","SET_PAGINATION","RESET_PAGINATION","setPagination","loadingResourcesErrorWithFeedback","loadResources","search","requestData","getResources","resources","documents","debouncedLoadResources","debounce","setSearchAndLoadResources","setSearch","toResourceForm","setResource","confirmationMessage","successMessage","deleteResourceSuccessWithFeedback","defaultDeleteResourceErrorMessage","deleteResourceErrorWithFeedback","clearSelectedResource","loadingAddResourceError","goToNextPageOrig","goToPrevPageOrig","requestDeleteResource","deleteResource","selectedResource","delete","addResource","viewResource","open","editResource","showSharingSettings","closeContextMenu","refreshList","connectResource","selectedAction","loadingResources","undefined","isRequiredWhen","when","ResourceActions","SharingDialog","onRequestClose","handleClose","Resource","contextMenuOptions","createContextMenuOptions","SearchablePagedList","access","read","manage","externalize","external","ConnectedResource","D2UIButton","isPrimary","FormSection","FormRow","_extends","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","RadioButton","htmlFor","RadioButtons","withStyles","margin","FormControl","classes","FormHelperText","showError","Field","meta","option","component","propTypes","Attachment","errorTextColor","red","ErrorText","showErrorText","dynamic","useFileBlobAsValue","persist","files","formatBlobToString","File","format","fieldProps","variant","FileInput","validate","HelpText","style","blue","inputWrapper","Input","InputLabel","MUIInput","helpText","Name","FormSectionTitle","Title","TitleDetails","TitleResource","SelectField","MUISelect","showEmptyOption","MenuItem","Select","Type","Url","ResourceForm","onSubmit","initialValues","handleSubmit","valid","isEditingFileResource","isFileRequired","onSubmitLabel","onCancel","AddEditResource","omit","attachment","extractFileAndFormattedResource","isEdit","updateResource","addNewResource","backToList","isResourceLoaded","loadResource","getResourceIdFromUrl","getInitialValues","match","params","mode","getFormTexts","editTitle","editSubmitLabel","addText","submitLabel","Card","ConnectedAddEditResource","getResourceById","fileResource","putResource","defaultAddResourceErrorMessage","loadingEditResourceErrorWithFeedback","postResource","loadingAddResourceErrorWithFeedback","loadingStandardReportsErrorWithFeedback","debouncedLoadStandardReports","loadStandardReports","deleteStandardReportSuccessWithFeedback","deleteStandardReportErrorWithFeedback","nameFilter","addFilterForName","on","ilike","getFilteredStandardReports","deleteStandardReport","loadingStandardReportsDetailsError","sendStandardReport","formattedReport","dhis2CoreVersionFormattedReport","visualization","rp","formatStandardReportPayloadBySystemVersion","doRequest","updateStandardReport","postStandardReport","errorMessage","blob","designContent","reject","fileReader","FileReader","readAsText","onload","readyState","result","navigateToList","setSelectedReport","requiredParams","omitBy","extractRequiredReportParams","getReportParams","defineRequiredReportParams","navigateToHtmlReportView","generatePdfReport","reportId","reportQueryString","reportPath","identity","getIsEdit","matchPath","router","location","pathname","getEditFormInitialValues","createSelector","cur","cacheStrategy","checkboxStyle","Checkbox","CheckBoxes","CheckBoxGroups","displayError","groups","loadingStandardReportTablesErrorWithFeedback","loadStandardReportTables","standardReportTables","reportTables","formattedReportTables","debouncedLoadStandardReportTables","centeredStyle","alignItems","justifyContent","paddingTop","paddingBottom","errorStyle","infoStyle","fontStyle","ReportTableSearchInput","noMatches","persistedReportTableName","loadFilteredStandardReportTables","clearSearch","_inputRef$current","inputRef","useRef","isSearchMode","setSearchMode","useState","reportTableName","setReportTableName","showResults","showHint","usedValue","inputProps","count","autoComplete","Popper","anchorEl","current","offsetWidth","maxHeight","overflow","item","onMouseDown","getListContent","reportParameterOptions","DesignFileDownloadButton","isEditing","reportType","validateNewReport","errors","validateName","validateReportTable","validateDesignContent","validateCacheStrategy","validateReportUpdate","ReportForm","edit","subscription","AddEditStandardReport","PureComponent","loadStandardReportDetails","headlineText","ConnectedComponent","getStandardReportDetails","reportCard","LinkToListWithRef","forwardRef","ref","innerRef","StyledHtmlReport","generateHtmlReport","searchParams","URLSearchParams","reportRequestBody","requestBody","getStandardReportHtmlReport","generatingHtmlReportErrorDefaultMessage","generatingHtmlReportErrorWithFeedback","connectStandardReport","addReportFormShow","addStandardReport","createReport","editReport","editReportFormShow","hideReportData","requestDeleteStandardReport","sharingSettings","sharingSettingsShow","showReportData","showContextAction","labelCancel","labelSubmit","colorError","buttonStyles","primaryButtonStyle","theme","palette","primary2Color","primary1Color","ConnectedReportParams","reportParamsErrors","cancelGeneratingPdfReport","submitRequiredReportParams","getSelectedOrgUnit","getSelectedReportPeriod","validateRequiredParams","requiredReportParamsError","Dialog","maxWidth","DialogTitle","DialogContent","OrganisationUnitTree","StandardReportActions","StandardReport","handleDisplayReportData","ConnectedStandardReport","NoMatch","standardReportPath","resourcePath","AppRouter","Switch","Route","exact","ConnectedAddEditStdReport","DataSetReport","ReportingRateSummary","atOrgUnitDistReportSection","getShowLoading","showLoader","loadingSendReport","addEditLoading","getIsUiBlocked","connectedLoader","getCurrentSection","substring","getShowSidebar","nonOnChangeSection","sidebarSections","section","containerElement","App","getChildContext","loadOrganisationUnits","loadPeriodTypes","loadDataSetOptions","showSidebar","Sidebar","onChangeSection","currentSection","childContextTypes","orgUnitFields","currentUser","getOrganisationUnits","level","loadOrganisationUnitsSuccess","console","resp","periodTypes","loadPeriodTypesSuccess","loadingDataSetOptionsSuccess","history","createHashHistory","defaultSelected","defaultState","ACTIONS","LOCATION_CHANGE","allActionTypes","nextPage","prevPage","defaultSelectedResource","loadingError","requestDelete","loadingDetails","combineReducers","connectRouter","types","reportDataActionTypes","curSelected","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","routerMiddleware","reduxThunk","d2UiTranslations","settings","app_search_placeholder","profile","account","help","log_out","about_dhis2","manage_my_apps","no_results_found","interpretations","display_name","report_table","actions","add_users_and_user_groups","enter_names","share","metadata","created_by","who_has_access","external_access","can_edit_and_view","can_view","can_view_only","no_access","public_access","public_can_edit","public_can_view","anyone_can_find_view_and_edit","anyone_can_find_and_view","close","week","month","biMonth","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","quarter","Q1","Q2","Q3","Q4","sixMonth","biWeek","bi_week","injectTranslationsToD2","translations","MUI3Theme","createMui3Theme","mui3theme","AppWrapper","useConfig","useD2","d2Config","schemas","onInitialized","Api","D2UIApp","Mui3ThemeProvider","Provider","ConnectedRouter"],"mappings":"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","file":"static/js/app.75db3afc.chunk.js","sourcesContent":["//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_EGTranslations from './ar_EG/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport bnTranslations from './bn/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uzTranslations from './uz/translations.json';\nimport uz_CyrlTranslations from './uz_Cyrl/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_EG', namespace, ar_EGTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('bn', namespace, bnTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz', namespace, uzTranslations);\ni18n.addResources('uz_Cyrl', namespace, uz_CyrlTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import i18n from '../locales/index.js';\nexport const STANDARD_REPORT_SECTION_KEY = 'standard-report';\nexport const DATA_SET_REPORT_SECTION_KEY = 'data-set-report';\nexport const REPORTING_RATE_SUMMARY_SECTION_KEY = 'reporting-rate-summary';\nexport const RESOURCE_SECTION_KEY = 'resource';\nexport const ORG_UNIT_DIST_REPORT_SECTION_KEY = 'organisation-unit-distribution-report';\nexport const DATA_APPROVAL_SECTION_KEY = 'data-approval';\nexport const sectionOrder = [STANDARD_REPORT_SECTION_KEY, DATA_SET_REPORT_SECTION_KEY, REPORTING_RATE_SUMMARY_SECTION_KEY, RESOURCE_SECTION_KEY, ORG_UNIT_DIST_REPORT_SECTION_KEY];\nexport const sections = {\n  [STANDARD_REPORT_SECTION_KEY]: {\n    key: STANDARD_REPORT_SECTION_KEY,\n    path: `/${STANDARD_REPORT_SECTION_KEY}`,\n    info: {\n      label: i18n.t('Standard Report'),\n      icon: 'bar_chart',\n      description: i18n.t('View and add reports based on the JasperReports library. These can be based on report tables and can be designed in iReport.'),\n      actionText: i18n.t('View Reports'),\n      docs: 'using_reporting_standard_reports'\n    }\n  },\n  [DATA_SET_REPORT_SECTION_KEY]: {\n    key: DATA_SET_REPORT_SECTION_KEY,\n    path: `/${DATA_SET_REPORT_SECTION_KEY}`,\n    info: {\n      label: i18n.t('Data Set Report'),\n      icon: 'assignment',\n      description: i18n.t('View data set reports. These reports are based on data entry screens and will produce a report with aggregated data.'),\n      actionText: i18n.t('Get Report'),\n      docs: 'using_reporting_dataset_reports'\n    }\n  },\n  [REPORTING_RATE_SUMMARY_SECTION_KEY]: {\n    key: REPORTING_RATE_SUMMARY_SECTION_KEY,\n    path: `/${REPORTING_RATE_SUMMARY_SECTION_KEY}`,\n    info: {\n      label: i18n.t('Reporting Rate Summary'),\n      description: i18n.t('Browse the reporting rates of data sets by organisation unit and period based on various criteria for submission.'),\n      actionText: i18n.t('Get Report'),\n      icon: 'format_list_bulleted',\n      docs: 'using_reporting_reporting_rate_summary'\n    }\n  },\n  [RESOURCE_SECTION_KEY]: {\n    key: RESOURCE_SECTION_KEY,\n    path: `/${RESOURCE_SECTION_KEY}`,\n    info: {\n      label: i18n.t('Resource'),\n      description: i18n.t('View and add resources. These resources can be uploaded documents or URLs on the web.'),\n      actionText: i18n.t('View Resources'),\n      icon: 'cloud_upload',\n      docs: 'using_reporting_resources'\n    }\n  },\n  [ORG_UNIT_DIST_REPORT_SECTION_KEY]: {\n    key: ORG_UNIT_DIST_REPORT_SECTION_KEY,\n    path: `/${ORG_UNIT_DIST_REPORT_SECTION_KEY}`,\n    info: {\n      label: i18n.t('Org unit distribution report'),\n      description: i18n.t('Browse the organisation unit distribution report based on the organisation unit group sets and its groups.'),\n      actionText: i18n.t('Get Report'),\n      icon: 'device_hub',\n      docs: 'using_reporting_orgunit_distribution_reports'\n    }\n  }\n};","export const ACTION_MESSAGE = 'ACTION_MESSAGE'; // TODO: remove loading\n\nexport const LOADING = 'LOADING';\nexport const ERROR = 'ERROR';\nexport const SUCCESS = 'SUCCESS';\nexport const WARNING = 'WARNING';","import * as FEEDBACK_TYPES from '../../utils/feedbackTypes.js';\nexport const actionTypes = {\n  FEEDBACK_CLEAR: 'FEEDBACK_CLEAR',\n  FEEDBACK_SHOW_LOADER: 'FEEDBACK_SHOW_LOADER',\n  FEEDBACK_SHOW_SNACKBAR: 'FEEDBACK_SHOW_SNACKBAR'\n};\nexport const clearFeedback = () => ({\n  type: actionTypes.FEEDBACK_CLEAR\n});\nexport const showLoader = () => ({\n  type: actionTypes.FEEDBACK_SHOW_LOADER\n});\nexport const showSnackbar = (message, type = FEEDBACK_TYPES.ACTION_MESSAGE) => ({\n  type: actionTypes.FEEDBACK_SHOW_SNACKBAR,\n  payload: {\n    message,\n    type\n  }\n});\nexport const showSuccessSnackBar = message => showSnackbar(message, FEEDBACK_TYPES.SUCCESS);\nexport const showErrorSnackBar = message => showSnackbar(message, FEEDBACK_TYPES.ERROR);\nexport const showWarningSnackBar = message => showSnackbar(message, FEEDBACK_TYPES.WARNING);\nexport const showConfirmationSnackBar = message => showSnackbar(message, FEEDBACK_TYPES.ACTION_MESSAGE); // TODO: remove this\n\nexport const updateFeedbackState = () => ({});","import { FeedbackSnackbar } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { clearFeedback } from '../../redux/actions/feedback.js';\n\nconst Snackbar = ({\n  showSnackbar,\n  message,\n  type,\n  action,\n  onActionClick,\n  onClose\n}) => {\n  const conf = {\n    message,\n    type,\n    action,\n    onActionClick\n  };\n  return /*#__PURE__*/React.createElement(\"span\", {\n    id: \"feedbackSnackbarId\"\n  }, /*#__PURE__*/React.createElement(FeedbackSnackbar, {\n    onClose: onClose,\n    show: showSnackbar,\n    conf: conf\n  }));\n};\n\nSnackbar.propTypes = {\n  message: PropTypes.string.isRequired,\n  showSnackbar: PropTypes.bool.isRequired,\n  type: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n  action: PropTypes.string,\n  onActionClick: PropTypes.func\n};\nSnackbar.defaultProps = {\n  action: '',\n  onActionClick: () => null\n};\n\nconst mapStateToProps = ({\n  feedback\n}) => ({\n  showSnackbar: feedback.showSnackbar,\n  message: feedback.message,\n  type: feedback.type\n});\n\nconst mapDispatchToProps = {\n  onClose: clearFeedback\n};\nconst connectedSnackbar = connect(mapStateToProps, mapDispatchToProps)(Snackbar);\nexport { connectedSnackbar as Snackbar, Snackbar as SnackbarOriginal };","import _JSXStyle from \"styled-jsx/style\";\n\n/* React */\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst PageHelper = props => /*#__PURE__*/React.createElement(\"a\", {\n  href: props.url,\n  target: \"_blank\",\n  rel: \"noopener noreferrer\",\n  className: \"jsx-1199280612\" + \" \" + \"helper-icon material-icons\"\n}, \"help\", /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"1199280612\"\n}, [\"a.jsx-1199280612{padding-left:12px;color:#276696;-webkit-text-decoration:none;text-decoration:none;}\"]));\n\nPageHelper.propTypes = {\n  url: PropTypes.string.isRequired\n};\nexport default PageHelper;","import { getSystemMinorVersion } from './api.js';\n/*\nThe following API changes were introduced in v2.34:\n\n1. The `api/reportTables` endpoint was replaced by `api/visualizations`\n\n2. The response payload from this endpoint now looks slightly different:\n\n    < 2.34\n    \"reportParams\": {\n        \"paramGrandParentOrganisationUnit\": false,\n        \"paramReportingPeriod\": false,\n        \"paramOrganisationUnit\": false,\n        \"paramParentOrganisationUnit\": false\n    }\n\n    >= 2.34\n    \"reportingParams\": {\n        \"grandParentOrganisationUnit\": false,\n        \"reportingPeriod\": false,\n        \"organisationUnit\": false,\n        \"parentOrganisationUnit\": false\n    }\n\n3. From >= 2.34 onward we have to deal with some inconsistencies in the property names:\n    - `report.reportParams`\n    - `report.visualization.reportingParams`\n\nThe functions in this module are there to deal with these discrepancies. To avoid too many changes to the app state model, the following names have been settled on:\n1. `reportTables` in favour of `visualizations`\n2. `reportParams` in favour of `reportingParams`\n3. don't prefix reportParams properties with `param`,\n   i.e. `reportingPeriod` in favour of `paramReportingPeriod`\n\n\nWhen we drop support for version v2.33 these helpers can be removed and replaced\nwith much more simple and sane logic\n*/\n\nconst isBelowVersion34 = () => getSystemMinorVersion() < 34;\n\nconst isAtLeastVersion34 = () => !isBelowVersion34();\n\nconst getReportTableNameBySystemVersion = () => isBelowVersion34() ? 'reportTable' : 'visualization';\n\nconst getReportParamsFieldName = () => isBelowVersion34() ? 'reportParams' : 'reportingParams';\n\nexport const getReportTablesResourceNameBySystemVersion = () => `${getReportTableNameBySystemVersion()}s`;\nexport const getReportTablesFilterBySystemVersion = searchTerm => isAtLeastVersion34() ? [`identifiable:token:${searchTerm}`, 'type:eq:PIVOT_TABLE'] : [`name:ilike:${searchTerm}`];\n/**\n * Required fields for displaying the standard reports\n */\n\nexport const getStandardReportsFieldsBySystemVersion = () => {\n  const reportTableFieldName = getReportTableNameBySystemVersion();\n  const reportParamsFieldName = getReportParamsFieldName();\n  return ['displayName', 'type', 'id', `${reportTableFieldName}[id,displayName,${reportParamsFieldName},relativePeriods]`, 'reportParams', 'relativePeriods', 'access'];\n};\n\nconst getReportParamsPropertiesBySystemVersion = reportParams => {\n  if (isAtLeastVersion34() || !reportParams) {\n    return reportParams;\n  }\n\n  return {\n    reportingPeriod: reportParams.paramReportingPeriod,\n    grandParentOrganisationUnit: reportParams.paramGrandParentOrganisationUnit,\n    organisationUnit: reportParams.paramOrganisationUnit,\n    parentOrganisationUnit: reportParams.paramParentOrganisationUnit\n  };\n};\n\nexport const getStandardReportFieldsBySystemVersion = () => {\n  const reportTableField = isAtLeastVersion34() ? 'visualization[id,displayName]' : 'reportTable[id,displayName]';\n  return [':owner', reportTableField];\n};\nexport const formatStandardReportResponseBySystemVersion = reportModel => {\n  // handle both d2 model instances and plain objects\n  const reportJson = reportModel.toJSON ? reportModel.toJSON() : reportModel; // <2.34 reportModel.reportTable, >=2.34 reportmodel.visualization\n\n  const reportTable = reportModel[getReportTableNameBySystemVersion()]; // <2.34 reportModel.reportTable.reportParams, >=2.34 reportmodel.visualization.reportingParams\n\n  const reportTableReportParams = reportTable && reportTable[getReportParamsFieldName()];\n  return { ...reportJson,\n    reportParams: getReportParamsPropertiesBySystemVersion(reportJson.reportParams),\n    reportTable: { // The JSON representation of a d2 reportModel is missing\n      // some of the reportTable properties such as reportParams\n      ...reportTable,\n      reportParams: getReportParamsPropertiesBySystemVersion(reportTableReportParams)\n    }\n  };\n};\nexport const formatStandardReportPayloadBySystemVersion = report => {\n  if (isAtLeastVersion34()) {\n    const visualization = report.reportTable;\n    delete report.reportTable;\n    return { ...report,\n      visualization\n    };\n  }\n\n  const rp = report.reportParams;\n  return { ...report,\n    reportParams: {\n      paramGrandParentOrganisationUnit: rp.grandParentOrganisationUnit,\n      paramOrganisationUnit: rp.organisationUnit,\n      paramParentOrganisationUnit: rp.parentOrganisationUnit,\n      paramReportingPeriod: rp.reportingPeriod\n    }\n  };\n};","import { getApi } from '../api.js';\nimport { formatStandardReportResponseBySystemVersion } from '../backwardCompatability.js';\nimport { FILE_RESOURCES_ENDPOINT } from './constants.js';\n/**\n * @param {Object} d2 ModelCollection instance\n * @return {Array<string>}\n */\n\nexport const mapResponseToArrayOfIds = model => model.toArray().map(({\n  id\n}) => id);\n/**\n * @param {string} name\n * @param {Object} model\n * @return {Object} The model with the filter if it wasn't an empty string otherwise the model without the filter\n */\n\nexport const addFilterForName = (name, model) => !name ? model : model.filter().on('displayName').ilike(name);\n/**\n * @param {Promise} request\n * @returns {Object}\n */\n\nexport const formatStandardReportsResponse = reportsCollection => {\n  const reports = reportsCollection.toArray().map(formatStandardReportResponseBySystemVersion);\n  const pager = {\n    pageSize: reportsCollection.pager.query.pageSize,\n    page: reportsCollection.pager.page,\n    pageCount: reportsCollection.pager.pageCount,\n    total: reportsCollection.pager.total\n  };\n  return {\n    reports,\n    pager\n  };\n};\n/**\n * @param {...Object} collections\n * @returns {string[]}\n */\n\nexport const mapCollectionToDimensionQueryString = (...collections) => collections.reduce((dimensionQueryString, collection) => [...dimensionQueryString, ...Object.keys(collection).map(key => `${key}:${collection[key]}`)], []);\n/**\n * @param {Object} req - D2 AnalyticsRequest instance\n * @param {Array<String>} extensions - File extensions needed\n * @returns {Object} - An object containing the download links for the requested file extensions\n */\n\nexport const getAnalyticsFileUrls = (req, extensions) => {\n  const query = req.buildQuery();\n  const suffix = Object.keys(query).reduce((suffix, key) => suffix += `&${key}=${query[key]}`, '');\n  const jsonUrl = `${getApi().baseUrl}/${req.buildUrl()}${suffix}`;\n  return extensions.reduce((fileUrls, extension) => {\n    fileUrls.push({\n      extension,\n      url: jsonUrl.replace('analytics.json?', `analytics.${extension}?`)\n    });\n    return fileUrls;\n  }, []);\n};\nexport const getDataSetReportFileUrls = (resourceUrl, options) => {\n  const mergedFilters = { ...options.dataSetDimensions,\n    ...options.orgUnitGroupsOptions\n  };\n  const baseQueryStr = buildQueryString({\n    ds: options.dataSet.id,\n    pe: options.period,\n    ou: options.orgUnit,\n    selectedUnitOnly: options.selectedUnitOnly\n  });\n  const filterQueryStr = Object.keys(mergedFilters).map(key => `filter=${key}:${mergedFilters[key]}`).join('&');\n  const fullQueryStr = filterQueryStr ? `${baseQueryStr}&${filterQueryStr}` : baseQueryStr;\n  return getFileUrls(resourceUrl, fullQueryStr, ['xls', 'pdf']);\n};\n/**\n * @param {Object} api\n * @param {File} file\n * @returns {Promise}\n */\n\nexport const uploadFile = (api, file) => {\n  const formData = new FormData();\n  formData.append('file', file);\n  formData.append('domain', 'DOCUMENT');\n  return api.post(FILE_RESOURCES_ENDPOINT, formData);\n};\n/**\n * @param {Object} resource\n * @param {File} file\n * @returns {Object}\n */\n\nexport const addFileResourceUrlToResource = (resource, file) => ({ ...resource,\n  url: file.id || resource.url\n});\n/**\n * @param {String} endpoint\n * @param {string} queryString\n * @param {Array<String>} extensions - file extensions to produce\n * @returns {Array} - Array of objects with extension and url properties\n */\n\nexport const getFileUrls = (endPoint, queryString, extensions) => extensions.map(extension => ({\n  extension,\n  url: `${getApi().baseUrl}/${endPoint}.${extension}?${queryString}`\n}));\n/**\n * Takes an object and returns a query string\n * For arrays it will create a semi-colon-delimited string\n * @param {Object} o - object to base the queryString upon\n * @example\n * buildQueryString({a: 'yeah', b: ['u', 1]})\n * // returns 'a=yeah&b=u;1'\n * @returns {String} - query string\n */\n\nexport const buildQueryString = o => {\n  return Object.keys(o).reduce((acc, key) => {\n    const value = Array.isArray(o[key]) ? o[key].join(';') : o[key];\n    acc.push(`${key}=${value}`);\n    return acc;\n  }, []).join('&');\n}; // Url creaters\n\nexport const postDataSetReportCommentUrl = (dataSetId, orgUnitId, period) => `interpretations/dataSetReport/${dataSetId}?pe=${period}&ou=${orgUnitId}`;","export const DATA_SET_DIMENSIONS_ENDPOINT = 'dimensions/dataSet';\nexport const DATA_SET_REPORT_INTERPOLATION_ENDPOINT = 'interpretations/dataSetReport';\nexport const DATA_SET_REPORTS_ENDPOINT = 'dataSetReport';\nexport const FILE_RESOURCES_ENDPOINT = 'fileResources';\nexport const ORG_UNIT_DISTRIBUTION_REPORT_ENDPOINT = 'orgUnitAnalytics';\nexport const REPORTING_RATE_SUMMARY_ENDPOINT = 'organisationUnits/%orgUnitId%/rateSummary';\nexport const RESOURCE_ENDPOINT = 'documents';\nexport const STANDARD_REPORTS_ENDPOINT = 'reports'; // Url creaters\n\nexport const postDataSetReportCommentUrl = (dataSetId, orgUnitId, period) => `${DATA_SET_REPORT_INTERPOLATION_ENDPOINT}/${dataSetId}?pe=${period}&ou=${orgUnitId}`;\nexport const DATA_DIMENSION_SUFFIXES = ['ACTUAL_REPORTS', 'EXPECTED_REPORTS', 'REPORTING_RATE', 'ACTUAL_REPORTS_ON_TIME', 'REPORTING_RATE_ON_TIME'];","export const isCustomFormType = formType => formType === 'CUSTOM';","import { addFileResourceUrlToResource, uploadFile, addFilterForName, formatStandardReportsResponse, mapCollectionToDimensionQueryString, mapResponseToArrayOfIds, getAnalyticsFileUrls, buildQueryString, getFileUrls, postDataSetReportCommentUrl, getDataSetReportFileUrls } from './api/helpers.js';\nimport { getReportTablesResourceNameBySystemVersion, getReportTablesFilterBySystemVersion, getStandardReportsFieldsBySystemVersion, formatStandardReportResponseBySystemVersion, getStandardReportFieldsBySystemVersion } from './backwardCompatability.js';\nimport { isCustomFormType } from './dataSetReport/isCustomFormType.js';\nimport { isDevelopment } from './env/isDevelopment.js';\nexport const RESOURCE_ENDPOINT = 'documents';\nconst DATA_DIMENSION_SUFFIXES = ['ACTUAL_REPORTS', 'EXPECTED_REPORTS', 'REPORTING_RATE', 'ACTUAL_REPORTS_ON_TIME', 'REPORTING_RATE_ON_TIME'];\nconst STANDARD_REPORTS_ENDPOINT = 'reports';\nlet d2;\nlet api;\n/**\n * Sets d2 and the api\n */\n\nexport const initApi = d2Instance => {\n  d2 = d2Instance;\n  api = d2.Api.getApi();\n\n  if (isDevelopment()) {\n    window.d2 = d2;\n    window.d2Api = api;\n  }\n};\n/**\n * @return {Object} d2 instance\n */\n\nexport const getD2 = () => d2;\n/**\n * @return {Object} d2 api instance\n */\n\nexport const getApi = () => api;\n/**\n * @returns {string} context path\n */\n\nexport const getContextPath = () => d2.system.systemInfo.contextPath;\n/**\n * @typedef {Object} Version\n * @property {number} major The major version\n * @property {number} minor The minor version\n * @property {boolean} snapshot Flag to indicate if build is a snapshot\n */\n\n/**\n * @returns {Version} The dhis2-core instance version\n */\n\nexport const getSystemVersion = () => d2.system.version;\n/**\n * @returns {Number} The dhis2-core instance minor version\n */\n\nexport const getSystemMinorVersion = () => d2.system.version.minor;\n/**\n * @return {Promise} Period types\n */\n\nexport const getPeriodTypes = () => api.get('periodTypes').then(resp => resp.periodTypes);\n/**\n * @return {Promise} Organisation units\n */\n\nexport const getOrganisationUnits = async () => {\n  const orgUnitFields = ['id', 'displayName', 'path', 'children::isNotEmpty', 'memberCount'].join(',');\n  const organisationUnits = await d2.currentUser.getOrganisationUnits({\n    fields: orgUnitFields\n  });\n\n  if (organisationUnits.size > 0) {\n    return organisationUnits.toArray();\n  } else {\n    const orgUnitModel = await d2.models.organisationUnits.list({\n      paging: false,\n      level: 1,\n      fields: orgUnitFields\n    });\n    return orgUnitModel.toArray();\n  }\n};\n/**\n * @param {Array} dataSetOptions\n * @param {Array} orgUnitGroupsOptions\n * @param {string} dataSetId\n * @param {string} orgUnit\n * @param {string} period\n * @param {bool} selectedUnitOnly\n * @returns {Promise}\n */\n\nexport const getDataSetReport = options => {\n  const endPoint = 'dataSetReport';\n  const url = isCustomFormType(options.dataSet.formType) ? `${endPoint}/custom` : endPoint;\n  const data = {\n    ds: options.dataSet.id,\n    pe: options.period,\n    ou: options.orgUnit,\n    selectedUnitOnly: options.selectedUnitOnly,\n    filter: mapCollectionToDimensionQueryString(options.dataSetDimensions, options.orgUnitGroupsOptions)\n  };\n  const requestOptions = isCustomFormType(options.dataSet.formType) ? {\n    headers: {\n      Accept: 'text/html'\n    }\n  } : {};\n  const fileUrls = getDataSetReportFileUrls(endPoint, options);\n  return api.get(url, data, requestOptions).then(response => ({\n    data: response,\n    fileUrls\n  }));\n};\n/**\n * @param {string} dataSetId\n * @returns {Promise<array>} The dimensions for a given dataset\n */\n\nexport const getDimensions = dataSetId => api.get(`dimensions/dataSet/${dataSetId}`, {\n  fields: ['id', 'displayName', 'items[id,displayName]'].join(','),\n  order: 'name:asc',\n  paging: false\n}).then(({\n  dimensions\n}) => dimensions);\n/**\n * @param {string} dataSetId\n * @param {string} orgUnitId\n * @param {string} period\n * @param {string} comment\n * @returns {Promise}\n */\n\nexport const postDataSetReportComment = (dataSetId, orgUnitId, period, comment) => {\n  const endpointUrl = postDataSetReportCommentUrl(dataSetId, orgUnitId, period);\n  const requestHeaders = {\n    headers: {\n      'Content-Type': 'text/plain'\n    }\n  };\n  return api.post(endpointUrl, comment, requestHeaders);\n};\n/**\n * @param {Object} orgUnit\n * @param {string} dataSetId\n * @param {string} period\n * @param {Object} orgUnitOptions\n * @returns {Promise}\n */\n\nexport const getReportingRateSummaryReport = async (orgUnit, dataSetId, period, orgUnitOptions) => {\n  const orgUnitIds = await getOrgUnitAndChildrenIds(orgUnit);\n  const dataDimensions = DATA_DIMENSION_SUFFIXES.map(suffix => `${dataSetId}.${suffix}`);\n  const req = new d2.analytics.request().addDataDimension(dataDimensions).addOrgUnitDimension(orgUnitIds).addPeriodFilter(period).withColumns('dx').withRows('ou').withTableLayout().withHideEmptyRows().withDisplayProperty('SHORTNAME').withIncludeNumDen(false);\n\n  for (const key in orgUnitOptions) {\n    if (orgUnitOptions[key]) {\n      req.addFilter(key, orgUnitOptions[key]);\n    }\n  } // Instead of calling `d2.analytics.aggregate.get(req)`, which spawns two parallel requests,\n  // we're just building the .json url from the request instance and call the regular `api.get(url)`,\n  // which only spawns a single request\n\n\n  const extensions = ['json', 'xls', 'csv'];\n  const [{\n    url\n  }, ...fileUrls] = getAnalyticsFileUrls(req, extensions);\n  return api.get(url).then(data => ({ ...data,\n    fileUrls\n  }));\n};\n/**\n * @param {Object} orgUnit\n * @returns {Promise} - Array of IDs of the orgUnit and its direct descendants\n */\n\nexport const getOrgUnitAndChildrenIds = orgUnit => {\n  const children = orgUnit.children.size ? Promise.resolve(orgUnit.children) : d2.models.organisationUnits.get(orgUnit.id, {\n    fields: ['children[id]']\n  }).then(({\n    children\n  }) => children);\n  return children.then(children => [orgUnit.id, ...mapResponseToArrayOfIds(children)]);\n};\n/**\n * @returns {Promise}\n */\n\nexport const getOrgUnitGroupSets = () => d2.models.organisationUnitGroupSet.list({\n  paging: false,\n  fields: 'id,displayName,organisationUnitGroups[id,displayName]'\n});\n/**\n * @param {Object} orgUnit\n * @param {string} groupSetId\n * @returns {Promise}\n */\n\nexport const getOrgUnitDistReport = async (orgUnit, groupSetId, shouldShowChart) => {\n  const orgUnitIds = shouldShowChart ? orgUnit.id : await getOrgUnitAndChildrenIds(orgUnit);\n  const endPoint = 'orgUnitAnalytics';\n  const queryString = buildQueryString({\n    ou: orgUnitIds,\n    ougs: groupSetId,\n    columns: groupSetId\n  });\n  const relativeUrl = `${endPoint}?${queryString}`;\n  const fileUrls = getFileUrls(endPoint, queryString, ['xls', 'pdf']);\n  return api.get(relativeUrl).then(response => ({ ...response,\n    fileUrls\n  }));\n};\n/**\n * @returns {Promise}\n */\n\nexport const getResources = (page, pageSize, search) => {\n  const requestData = {\n    page,\n    pageSize,\n    fields: 'displayName,id,url,external,access'\n  };\n\n  if (search) {\n    requestData.filter = `displayName:ilike:${search}`;\n  }\n\n  return api.get(RESOURCE_ENDPOINT, requestData);\n};\n/**\n * @returns {Promise}\n */\n\nexport const getResourceById = id => {\n  return api.get(`${RESOURCE_ENDPOINT}/${id}`);\n};\n/**\n * @returns {Promise}\n */\n\nexport const deleteResource = resourceId => api.delete(`${RESOURCE_ENDPOINT}/${resourceId}`);\n/**\n * @returns {Promise}\n */\n\nexport const getStandardReportTables = searchTerm => {\n  const resourceName = getReportTablesResourceNameBySystemVersion();\n  const filter = getReportTablesFilterBySystemVersion(searchTerm);\n  return api.get(resourceName, {\n    paging: true,\n    pageSize: 30,\n    fields: 'id,displayName',\n    filter\n  }).then(response => response[resourceName]);\n};\n/**\n * @param {Object} report\n * @returns {Promise}\n */\n\nexport const postStandardReport = report => api.post(STANDARD_REPORTS_ENDPOINT, report);\n/**\n * @param {Object} report\n * @returns {Promise}\n */\n\nexport const updateStandardReport = report => api.update(`${STANDARD_REPORTS_ENDPOINT}/${report.id}`, report);\n/**\n * @returns {Promise}\n */\n\nexport const getDataSetOptions = () => d2.models.dataSet.list({\n  paging: false,\n  fields: 'id,displayName,formType'\n}).then(response => response.toArray());\n/**\n * @param {Object} api\n * @param {Object} resource\n * @returns {Promise}\n */\n\nexport const postDocument = (api, resource) => api.post(RESOURCE_ENDPOINT, resource);\n/**\n * @param {Object} api\n * @param {string} resourceId\n * @param {Object} resource\n * @returns {Promise}\n */\n\nexport const putDocument = (api, resourceId, resource) => api.update(`${RESOURCE_ENDPOINT}/${resourceId}`, resource);\n/**\n * @param {Object} resource\n * @param {File} [file] - an optional file\n * @returns {Promise}\n */\n\nexport const postResource = (resource, file = null) => file ? uploadFile(api, file).then(({\n  response\n}) => Promise.resolve(addFileResourceUrlToResource(resource, response.fileResource))).then(resource => postDocument(api, resource)) : postDocument(api, resource);\n/**\n * @param {Object} resource\n * @param {File} [file] - an optional file\n * @returns {Promise}\n */\n\nexport const putResource = (resourceId, resource, file = null) => file ? uploadFile(api, file).then(({\n  response\n}) => Promise.resolve(addFileResourceUrlToResource(resource, response.fileResource))).then(resource => putDocument(api, resourceId, resource)) : putDocument(api, resourceId, resource);\n/**\n * =================================\n * Standard report\n * =================================\n */\n\n/**\n * @param {number} page\n * @param {number} pageSize\n * @param {string} nameFilter\n * @return {Promise}\n */\n\nexport const getFilteredStandardReports = (page, pageSize, nameFilter) => addFilterForName(nameFilter, d2.models.report).list({\n  page,\n  pageSize,\n  fields: getStandardReportsFieldsBySystemVersion()\n}).then(formatStandardReportsResponse);\n/**\n * @param {string} id\n * @returns {Promise}\n */\n\nexport const getStandardReportDetails = id => api.get(`${STANDARD_REPORTS_ENDPOINT}/${id}`, {\n  fields: getStandardReportFieldsBySystemVersion()\n}).then(formatStandardReportResponseBySystemVersion);\n/**\n * @param {string} id\n * @return {Promise}\n */\n\nexport const deleteStandardReport = id => api.delete(`${STANDARD_REPORTS_ENDPOINT}/${id}`);\n/**\n * @param {string} id\n * @returns {Promise}\n */\n\nexport const getStandardReportHtmlReport = (id, requestBody) => api.get(`reports/${id}/data.html`, {\n  t: new Date().getTime(),\n  ...requestBody\n});","import { sections } from '../config/sections.config.js';\nimport { getSystemVersion } from './api.js';\nexport const DOCS_LINK = 'https://docs.dhis2.org';\nexport const DEFAULT_DOC_LANGUAGE = 'en';\n/**\n * Returns the \"version\" of the documentation that corresponds with the current dhis2 version.\n *\n * @param {Object} version - The version definition as provided by d2.system.version.\n * @param {number} version.minor - The minor dhis2 version. e.g. The 25 in 2.25.\n * @param {boolean} version.snapshot - True when the current version is the snapshot(master/development) branch.\n *\n * @returns {string} `master` for a snapshot branch. `25` for 2.25 etc.\n */\n\nconst getDocsVersion = () => {\n  const {\n    major,\n    minor,\n    snapshot\n  } = getSystemVersion();\n\n  if (snapshot) {\n    return 'master';\n  }\n\n  return `${major}.${minor}`;\n};\n\nexport const getDocsUrl = (sectionKey, lng = DEFAULT_DOC_LANGUAGE) => {\n  const baseUrl = `${DOCS_LINK}/${getDocsVersion()}/${lng}/user/html/`;\n  return `${baseUrl}${sections[sectionKey].info.docs}.html`;\n};\nexport default getDocsUrl;","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport PageHelper from '../components/PageHelper.js';\nimport { getDocsUrl } from '../utils/getDocsUrl.js';\nexport const SectionHeadline = props => /*#__PURE__*/React.createElement(\"h1\", {\n  className: \"jsx-1405635200\"\n}, props.showBackButton && /*#__PURE__*/React.createElement(\"span\", {\n  id: \"back-button\",\n  role: \"button\",\n  tabIndex: \"0\",\n  onClick: props.onBackClick,\n  className: \"jsx-1405635200\" + \" \" + \"material-icons back-button\"\n}, \"arrow_back\"), props.label, /*#__PURE__*/React.createElement(PageHelper, {\n  url: getDocsUrl(props.sectionKey)\n}), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"1405635200\"\n}, [\"h1.jsx-1405635200{margin-bottom:0;}\", \".back-button.jsx-1405635200{cursor:pointer;outline:none;padding:12px;}\"]));\nSectionHeadline.propTypes = {\n  label: PropTypes.string.isRequired,\n  sectionKey: PropTypes.string.isRequired,\n  showBackButton: PropTypes.bool,\n  onBackClick: PropTypes.func\n};\nSectionHeadline.defaultProps = {\n  showBackButton: false,\n  onBackClick: () => undefined\n};","import PropTypes from 'prop-types';\nexport const children = PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]);\nexport const reportContent = PropTypes.oneOfType([PropTypes.string, PropTypes.array, PropTypes.object]);\n/**\n *\n * Form prop types\n *\n */\n\nexport const formInput = PropTypes.shape({\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  onBlur: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onFocus: PropTypes.func.isRequired\n});\nexport const formInputMeta = PropTypes.shape({\n  touched: PropTypes.bool.isRequired,\n  error: PropTypes.string // is undefined when no error..\n\n});\nexport const formOption = PropTypes.shape({\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired\n});\nexport const formOptions = PropTypes.arrayOf(formOption);","import _JSXStyle from \"styled-jsx/style\";\n// eslint-disable-next-line no-unused-vars\nimport React from 'react';\nexport const formLabel = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"4279021995\"\n  }, [\".jsx-4279021995{text-align:left;color:#757575;margin-bottom:5px;font-size:14px;}\"]),\n  className: \"jsx-4279021995\"\n};\nexport const container = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"115527779\"\n  }, [\".jsx-115527779{padding:16px;margin-top:16px;}\"]),\n  className: \"jsx-115527779\"\n};\nexport const card = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2551733070\"\n  }, [\".jsx-2551733070{box-sizing:border-box;display:inline-block;position:relative;min-width:200px;min-height:218px;height:100%;padding-left:30px;padding-right:30px;padding-bottom:20px;background-color:#ffffff;box-shadow:rgba(0,0,0,0.12) 0px 1px 6px, rgba(0,0,0,0.12) 0px 1px 4px;border-radius:5px;width:100%;}\"]),\n  className: \"jsx-2551733070\"\n};\nexport const formCard = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2165642276\"\n  }, [\".jsx-2165642276{padding:2rem 5rem 4rem;}\"]),\n  className: \"jsx-2165642276\"\n};\nexport const formLoader = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3618883681\"\n  }, [\".jsx-3618883681{padding-top:2rem;text-align:center;}\"]),\n  className: \"jsx-3618883681\"\n};\nexport const actionsContainer = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3492242264\"\n  }, [\".jsx-3492242264{display:block;margin-top:48px;margin-bottom:16px;}\"]),\n  className: \"jsx-3492242264\"\n};","import i18n from '@dhis2/d2-i18n';\n/**\n * It is preffered to show the error message from the server it is a 401-499 code\n * The final error message is determined with the following priority\n * messageFromError > fallbackMessageArgument > defaultFallBackMessage\n * @param {Object} error - The error object\n * @param {Number} error.httpStatusCode - The error status code\n * @param {Number} error.message - The error message\n * @param {String} fallbackMsg - The message to show in case the actual message is not human readable\n */\n\nexport const fallBackDefault = i18n.t('Something went wrong when processing your request.');\nexport default function humanReadableErrorMessage(errorInstance = {}, fallbackMsg = fallBackDefault) {\n  const {\n    messages,\n    httpStatusCode\n  } = errorInstance;\n  let {\n    message\n  } = errorInstance;\n  const useMessage = httpStatusCode && httpStatusCode >= 400 && httpStatusCode < 500 || !httpStatusCode && messages && messages.length > 0;\n\n  if (!message && messages && messages.length > 0) {\n    message = messages.map(({\n      message\n    }) => message).join(', ');\n  }\n\n  return useMessage ? message : fallbackMsg;\n}","import i18n from '@dhis2/d2-i18n';\nimport { getDataSetOptions } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showErrorSnackBar } from './feedback.js';\nexport const actionTypes = {\n  SELECT_DATA_SET: 'SELECT_DATA_SET',\n  LOADING_DATA_SET_OPTIONS_START: 'LOADING_DATA_SET_OPTIONS_START',\n  LOADING_DATA_SET_OPTIONS_SUCCESS: 'LOADING_DATA_SET_OPTIONS_SUCCESS',\n  LOADING_DATA_SET_OPTIONS_ERROR: 'LOADING_DATA_SET_OPTIONS_ERROR'\n};\nexport const selectDataSet = dataSetId => ({\n  type: actionTypes.SELECT_DATA_SET,\n  payload: dataSetId\n});\nexport const loadingDataSetOptionsStart = () => ({\n  type: actionTypes.LOADING_DATA_SET_OPTIONS_START\n});\nexport const loadingDataSetOptionsSuccess = options => ({\n  type: actionTypes.LOADING_DATA_SET_OPTIONS_SUCCESS,\n  payload: options\n});\nexport const loadingDataSetOptionsError = () => ({\n  type: actionTypes.LOADING_DATA_SET_OPTIONS_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingDataSetOptionsErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred whole loading the data set options');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingDataSetOptionsError());\n};\nexport const loadDataSetOptions = (filter = null) => dispatch => {\n  dispatch(loadingDataSetOptionsStart());\n  return getDataSetOptions().then(options => filter ? options.filter(filter) : options).then(options => dispatch(loadingDataSetOptionsSuccess(options))).catch(error => dispatch(loadingDataSetOptionsErrorWithFeedback(error)));\n};","import i18n from '@dhis2/d2-i18n';\nimport { getDimensions } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showWarningSnackBar } from './feedback.js';\nexport const actionTypes = {\n  LOADING_DIMENSIONS_START: 'LOADING_DIMENSIONS_START',\n  LOADING_DIMENSIONS_SUCCESS: 'LOADING_DIMENSIONS_SUCCESS',\n  LOADING_DIMENSIONS_ERROR: 'LOADING_DIMENSIONS_ERROR',\n  SELECT_DIMENSION_OPTION: 'SELECT_DIMENSION_OPTION'\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingDimensionsStart = () => ({\n  type: actionTypes.LOADING_DIMENSIONS_START\n});\n/**\n * @param {Array} dimensions\n * @returns {Object}\n */\n\nexport const loadingDimensionsSuccess = dimensions => ({\n  type: actionTypes.LOADING_DIMENSIONS_SUCCESS,\n  payload: dimensions\n});\nexport const loadingDimensionsError = () => ({\n  type: actionTypes.LOADING_DIMENSIONS_ERROR\n});\n/**\n * @param (Error) error\n * @returns {Function}\n */\n\nexport const loadingDimensionsErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the data set dimensions');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showWarningSnackBar(displayMessage));\n  dispatch(loadingDimensionsError());\n};\n/**\n * @param {string} dimension\n * @param {string} value\n * @returns {Object}\n */\n\nexport const selectDimensionOption = (dimension, value) => ({\n  type: actionTypes.SELECT_DIMENSION_OPTION,\n  payload: {\n    dimension,\n    value\n  }\n});\n/**\n * @returns {Function}\n */\n\nexport const loadDimensions = () => (dispatch, getState) => {\n  dispatch(loadingDimensionsStart());\n  const {\n    dataSet\n  } = getState();\n  return getDimensions(dataSet.selected.id).then(dimensions => dispatch(loadingDimensionsSuccess(dimensions))).catch(error => dispatch(loadingDimensionsErrorWithFeedback(error)));\n};","import i18n from '@dhis2/d2-i18n';\nimport XLSX from 'xlsx';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showLoader, showSuccessSnackBar, showErrorSnackBar } from './feedback.js';\nexport const actionTypes = {\n  LOADING_REPORT_DATA_START: 'LOADING_REPORT_DATA_START',\n  LOADING_REPORT_DATA_SUCCESS: 'LOADING_REPORT_DATA_SUCCESS',\n  LOADING_REPORT_DATA_ERROR: 'LOADING_REPORT_DATA_ERROR',\n  SET_DATA_SET_REPORT_COMMENT: 'SET_DATA_SET_REPORT_COMMENT',\n  DOWNLOAD_DATA_SET_REPORT_XLS: 'DOWNLOAD_DATA_SET_REPORT_XLS',\n  SHARING_DATA_SET_REPORT_COMMENT_SUCCESS: 'SHARING_DATA_SET_REPORT_COMMENT_SUCCESS',\n  SHARING_DATA_SET_REPORT_COMMENT_START: 'SHARING_DATA_SET_REPORT_COMMENT_START',\n  SHARING_DATA_SET_REPORT_COMMENT_ERROR: 'SHARING_DATA_SET_REPORT_COMMENT_ERROR',\n  UNSET_REPORT_DATA: 'UNSET_REPORT_DATA'\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingReportDataStart = () => ({\n  type: actionTypes.LOADING_REPORT_DATA_START\n});\n/**\n * @param {string} reportData\n * @returns {Object}\n */\n\nexport const loadingReportDataSuccess = reportData => ({\n  type: actionTypes.LOADING_REPORT_DATA_SUCCESS,\n  payload: reportData\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingReportDataError = () => ({\n  type: actionTypes.LOADING_REPORT_DATA_ERROR\n});\n/**\n * @param {string} reportData\n * @return {Object}\n */\n\nexport const loadingReportDataSuccessWithFeedback = (reportData, shouldShowChart) => dispatch => {\n  const successMsg = i18n.t('Successfully loaded the {{ outputType }}', {\n    outputType: shouldShowChart ? i18n.t('chart') : i18n.t('table')\n  });\n  dispatch(showSuccessSnackBar(i18n.t(successMsg)));\n  dispatch(loadingReportDataSuccess(reportData));\n};\n/**\n * @param {Error} error\n */\n\nexport const loadingReportDataErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the report!');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingReportDataError());\n}; // @TODO: not sure this is needed.\n// Not required for reporting-rate-summary\n\nexport const unsetReportData = () => ({\n  type: actionTypes.UNSET_REPORT_DATA\n});\n/**\n * @param {DOMElement[]} tableNodes\n * @return {Object}\n */\n// @TODO: not sure this is needed. I think this can be removed\n\nexport const exportReportToXls = tableNodes => {\n  const workbook = XLSX.utils.book_new();\n  tableNodes.forEach((tableNode, index) => {\n    const worksheet = XLSX.utils.table_to_sheet(tableNode);\n    XLSX.utils.book_append_sheet(workbook, worksheet, `Worksheet ${index}`);\n  });\n  XLSX.writeFile(workbook, 'report.xlsx');\n  return {\n    type: actionTypes.DOWNLOAD_DATA_SET_REPORT_XLS\n  };\n};\n/**\n * @param {string} comment\n * @returns {Object}\n */\n\nexport const setReportComment = comment => ({\n  type: actionTypes.SET_DATA_SET_REPORT_COMMENT,\n  payload: comment\n});\n/**\n * @returns {Object}\n */\n\nexport const sharingReportCommentStart = () => ({\n  type: actionTypes.SHARING_DATA_SET_REPORT_COMMENT_START\n});\n/**\n * @returns {Object}\n */\n\nexport const sharingReportCommentSuccess = () => ({\n  type: actionTypes.SHARING_DATA_SET_REPORT_COMMENT_SUCCESS\n});\n/**\n * @returns {Object}\n */\n\nexport const sharingReportCommentError = () => ({\n  type: actionTypes.SHARING_DATA_SET_REPORT_COMMENT_ERROR\n});\n/**\n * @returns {Function}\n */\n\nexport const sharingReportCommentStartWithFeedback = () => dispatch => {\n  dispatch(showLoader());\n  dispatch(sharingReportCommentStart());\n};\n/**\n * @returns {Function}\n */\n\nexport const sharingReportCommentSuccessWithFeedback = () => dispatch => {\n  dispatch(showSuccessSnackBar(i18n.t('Successfully added comment')));\n  dispatch(sharingReportCommentSuccess());\n};\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const sharingReportCommentErrorWithFeedback = error => dispatch => {\n  const defaultMessge = i18n.t('An error occurred while submitting your comment!');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessge);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(sharingReportCommentError());\n};","import { getDataSetReport, postDataSetReportComment } from '../../utils/api.js';\nimport { selectDataSet as selectDataSetOriginal } from './dataSet.js';\nimport { loadDimensions } from './dataSetDimensions.js';\nimport { loadingReportDataStart, loadingReportDataSuccessWithFeedback, loadingReportDataErrorWithFeedback, sharingReportCommentStartWithFeedback, sharingReportCommentSuccessWithFeedback, sharingReportCommentErrorWithFeedback } from './reportData.js';\nexport const actionTypes = {\n  SHOW_DATA_SET_REPORT_FORM: 'SHOW_DATA_SET_REPORT_FORM',\n  TOGGLE_SELECTED_UNIT_ONLY: 'TOGGLE_SELECTED_UNIT_ONLY'\n};\nexport const selectDataSet = dataSetId => (dispatch, getState) => {\n  dispatch(selectDataSetOriginal(dataSetId));\n  const {\n    dataSet\n  } = getState();\n  dispatch(loadDimensions(dataSet.selected.id));\n};\nexport const toggleSelectedUnitOnly = selectedUnitOnly => ({\n  type: actionTypes.TOGGLE_SELECTED_UNIT_ONLY,\n  payload: selectedUnitOnly\n});\nexport const loadReportData = () => (dispatch, getState) => {\n  dispatch(loadingReportDataStart());\n  const {\n    dataSet,\n    dataSetDimensions,\n    dataSetReport,\n    organisationUnits,\n    reportPeriod\n  } = getState();\n  return getDataSetReport({\n    dataSet: dataSet.selected,\n    dataSetDimensions: dataSetDimensions.selected,\n    orgUnitGroupsOptions: organisationUnits.selectedOptions,\n    orgUnit: organisationUnits.selected.id,\n    period: reportPeriod.selectedPeriod,\n    selectedUnitOnly: dataSetReport.selectedUnitOnly\n  }).then(response => dispatch(loadingReportDataSuccessWithFeedback(response))).catch(error => dispatch(loadingReportDataErrorWithFeedback(error)));\n};\nexport const shareDataSetReportComment = comment => (dispatch, getState) => {\n  const {\n    dataSet,\n    organisationUnits,\n    reportPeriod\n  } = getState();\n  const dataSetId = dataSet.selected.id;\n  const orgUnitId = organisationUnits.selected.id;\n  const period = reportPeriod.selectedPeriod;\n  dispatch(sharingReportCommentStartWithFeedback());\n  return postDataSetReportComment(dataSetId, orgUnitId, period, comment).then(() => dispatch(sharingReportCommentSuccessWithFeedback())).catch(error => dispatch(sharingReportCommentErrorWithFeedback(error)));\n};","export const getIsActionEnabled = state => !(!state.organisationUnits.selected || !state.dataSet.selected.id || !state.reportPeriod.selectedPeriod || state.dataSet.loading || state.dataSetDimensions.loading || state.reportData.loading);","export const isHtmlReport = content => !!content && !!content.data && typeof content.data === 'string';","export default function createDataTransformCache() {\n  let inputData = null;\n  let transformedData = null;\n  return {\n    hasValidCacheFor: data => !!inputData && data === inputData,\n    getCachedResult: () => transformedData,\n    setCachedResult: (input, transformed) => {\n      inputData = input;\n      transformedData = transformed;\n    }\n  };\n}","import isEmpty from 'lodash.isempty';\nimport { isHtmlReport } from '../../../utils/dataSetReport/isHtmlReport.js';\nimport createDataTransformCache from '../../../utils/dataTransformCache.js';\nexport const cache = createDataTransformCache();\nexport default function getTransformedTableData(state) {\n  const content = state.reportData.content;\n\n  if (isEmpty(content) || isHtmlReport(content)) {\n    return content;\n  }\n\n  if (cache.hasValidCacheFor(content)) {\n    return cache.getCachedResult();\n  }\n\n  const tables = content.data.map(transformTableData);\n  cache.setCachedResult(content, tables);\n  return tables;\n}\n\nfunction transformTableData(data) {\n  return {\n    title: data.title,\n    headers: data.headers.map(h => h.column),\n    rows: data.rows.map(cells => cells.map(x => !!x || x === 0 ? x : ''))\n  };\n}","import { connect } from 'react-redux';\nimport { loadReportData, selectDataSet, toggleSelectedUnitOnly, shareDataSetReportComment } from '../../redux/actions/dataSetReport.js';\nimport { setReportComment } from '../../redux/actions/reportData.js';\nimport { getIsActionEnabled } from '../../redux/selectors/dataSetReport/getIsActionEnabled.js';\nimport getTransformedTableData from '../../redux/selectors/dataSetReport/getTransformedTableData.js';\nimport { isHtmlReport } from '../../utils/dataSetReport/isHtmlReport.js';\n\nconst mapStateToProps = state => ({\n  isHtmlReport: isHtmlReport(state.reportData.content),\n  reportContent: getTransformedTableData(state),\n  fileUrls: state.reportData.content.fileUrls || [],\n  isReportLoading: state.reportData.loading,\n  reportComment: state.reportData.comment,\n  selectedUnitOnly: state.dataSetReport.selectedUnitOnly,\n  isActionEnabled: getIsActionEnabled(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  loadReportData: () => dispatch(loadReportData()),\n  selectDataSet: e => dispatch(selectDataSet(e.target.value)),\n  toggleSelectedUnitOnly: (e, selectedUnitOnly) => dispatch(toggleSelectedUnitOnly(selectedUnitOnly)),\n  shareDataSetReportComment: comment => dispatch(shareDataSetReportComment(comment)),\n  setDataSetReportComment: comment => dispatch(setReportComment(comment))\n});\n\nexport const connectDataSetReport = connect(mapStateToProps, mapDispatchToProps);","import _JSXStyle from \"styled-jsx/style\";\nimport { CircularProgress } from '@dhis2/d2-ui-core';\nimport Paper from '@material-ui/core/Paper';\nimport isEmpty from 'lodash.isempty';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { reportContent } from '../utils/react/propTypes.js';\nimport { container } from '../utils/styles/shared.js';\n\nconst ReportLoader = ({\n  isLoading,\n  content,\n  children\n}) => {\n  if (!isLoading && isEmpty(content)) {\n    return null;\n  }\n\n  const childrenToWrap = isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-434875869\" + \" \" + \"report-loader\"\n  }, /*#__PURE__*/React.createElement(CircularProgress, null), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"434875869\"\n  }, [\"div.jsx-434875869{margin:48px 0;text-align:center;}\"])) : children;\n  return /*#__PURE__*/React.createElement(Paper, {\n    className: container.className\n  }, childrenToWrap);\n};\n\nReportLoader.propTypes = {\n  children: PropTypes.node.isRequired,\n  content: reportContent.isRequired,\n  isLoading: PropTypes.bool.isRequired\n};\nexport default ReportLoader;","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst prefix = i18n.t('Download as');\nexport const DownloadOption = ({\n  file\n}) => /*#__PURE__*/React.createElement(\"a\", {\n  href: file.url,\n  download: true,\n  tabIndex: \"0\",\n  rel: \"noreferrer\",\n  target: file.extension === 'pdf' ? '_blank' : '_self',\n  className: \"jsx-3028982603\" + \" \" + \"download-button\"\n}, prefix, \" \", file.extension, /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"3028982603\"\n}, [\".download-button.jsx-3028982603{cursor:pointer;outline:none;color:#757575;font-size:12px;text-transform:uppercase;margin-left:8px;}\"]));\nDownloadOption.propTypes = {\n  file: PropTypes.shape({\n    extension: PropTypes.string.isRequired,\n    url: PropTypes.string.isRequired\n  })\n};\nexport const DownloadOptions = ({\n  fileUrls\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  id: \"download-options-container\",\n  className: \"jsx-1652653829\"\n}, fileUrls.map((file, index) => /*#__PURE__*/React.createElement(DownloadOption, {\n  file: file,\n  key: index\n})), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"1652653829\"\n}, [\"div.jsx-1652653829{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}\"]));\nDownloadOptions.propTypes = {\n  fileUrls: PropTypes.array.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { InputField, Button } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst isCommentingActionEnabled = comment => comment.trim();\n\nconst actionButtonPlaceholder = i18n.t('Share');\nconst inputFieldPlaceholder = i18n.t('Write a comment, question or interpretation of this report');\nexport const ReportComment = props => /*#__PURE__*/React.createElement(\"div\", {\n  id: \"share-component\",\n  className: \"jsx-1358819727\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-1358819727\"\n}, /*#__PURE__*/React.createElement(InputField, {\n  placeholder: inputFieldPlaceholder,\n  type: \"text\",\n  multiline: true,\n  fullWidth: true,\n  value: props.comment,\n  onChange: props.setDataSetReportComment\n}), /*#__PURE__*/React.createElement(Button, {\n  raised: true,\n  color: \"primary\",\n  onClick: props.shareDataSetReportComment,\n  disabled: !isCommentingActionEnabled(props.comment)\n}, actionButtonPlaceholder)), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"1358819727\"\n}, [\"div.jsx-1358819727>div.jsx-1358819727{margin:16px 0;}\"]));\nReportComment.propTypes = {\n  comment: PropTypes.string.isRequired,\n  setDataSetReportComment: PropTypes.func.isRequired,\n  shareDataSetReportComment: PropTypes.func.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\n\n/* React */\nimport PropTypes from 'prop-types';\nimport React, { Fragment } from 'react';\nexport const Row = ({\n  cells\n}) => /*#__PURE__*/React.createElement(\"tr\", null, cells.map((cell, index) => /*#__PURE__*/React.createElement(\"td\", {\n  key: `c-${cell}-${index}`\n}, cell)));\nRow.propTypes = {\n  cells: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])).isRequired\n};\n\nconst ReportTable = ({\n  content: {\n    title,\n    headers,\n    rows\n  }\n}) => /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n  className: \"jsx-2067112289\"\n}, title), /*#__PURE__*/React.createElement(\"table\", {\n  className: \"jsx-2067112289\"\n}, /*#__PURE__*/React.createElement(\"thead\", {\n  className: \"jsx-2067112289\"\n}, /*#__PURE__*/React.createElement(\"tr\", {\n  className: \"jsx-2067112289\"\n}, headers.map((header, index) => /*#__PURE__*/React.createElement(\"th\", {\n  key: `h-${header}-${index}`,\n  className: \"jsx-2067112289\"\n}, header)))), /*#__PURE__*/React.createElement(\"tbody\", {\n  className: \"jsx-2067112289\"\n}, rows.map((cells, index) => /*#__PURE__*/React.createElement(Row, {\n  cells: cells,\n  key: `r-${cells[0]}-${index}`\n})))), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2067112289\"\n}, [\"table.jsx-2067112289{border-collapse:collapse;}\", \"tr.jsx-2067112289{border-bottom:2px solid #e0e0e0;}\", \"tbody.jsx-2067112289 tr{border-bottom:1px solid #e0e0e0;}\", \"th.jsx-2067112289,tbody.jsx-2067112289 td{border:none;font-size:14px;padding:16px 16px;}\", \"th.jsx-2067112289{text-align:left;font-weight:bold;}\", \"tbody.jsx-2067112289 td:not(:first-child),thead.jsx-2067112289 th:not(:first-child){text-align:center;}\"]));\n\nReportTable.propTypes = {\n  content: PropTypes.object.isRequired\n};\nexport default ReportTable;","export const CSS_FILES = [{\n  media: 'screen',\n  styleSheet: '/dhis-web-commons/javascripts/jQuery/ui/css/redmond/jquery-ui.css'\n}, {\n  media: 'print',\n  styleSheet: '/dhis-web-commons/css/print.css'\n}, {\n  media: 'screen,print',\n  styleSheet: '/dhis-web-commons/css/themes/light_blue/light_blue.css'\n}];\nexport const SCRIPT_FILES = ['/dhis-web-commons/javascripts/jQuery/jquery.min.js', '/dhis-web-commons/javascripts/jQuery/jquery.utils.js', '/dhis-web-commons/javascripts/jQuery/ui/jquery-ui.min.js', '/dhis-web-commons/javascripts/dhis2/dhis2.util.js', '/dhis-web-commons/javascripts/dhis2/dhis2.period.js', '/dhis-web-commons/javascripts/commons.js', '/dhis-web-commons/javascripts/commons.ajax.js', '/dhis-web-commons/javascripts/lists.js', '/dhis-web-commons/javascripts/periodType.js', '/dhis-web-commons/javascripts/date.js', '/dhis-web-commons/oust/oust.js'];\nexport const PAGE_STYLES = `\n    html {\n        line-height: 1.15;\n        text-size-adjust: 100%;\n    }\n    body {\n        font-family: Roboto, sans-serif;\n        box-sizing: inherit;\n    }\n    table {\n        margin-top: 16px;\n        border-collapse: collapse;\n    }\n    table td,\n    table th {\n        border: 1px solid #bcbcbc;\n        padding: 4px;\n    }\n`;","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { getContextPath } from '../../utils/api.js';\nimport { CSS_FILES, SCRIPT_FILES, PAGE_STYLES } from './HtmlReportAssets.js';\n\nconst wrapHtmlInTemplate = html => `\n    <!DOCTYPE html>\n    <html lang=\"en\">\n        <head>\n            <meta charset=\"utf-8\">\n            ${CSS_FILES.map(createLinkTag).join('\\n')}\n            ${SCRIPT_FILES.map(createScriptTag).join('\\n')}\n            <style type=\"text/css\">\n                ${PAGE_STYLES}\n            </style>\n        </head>\n        <body>\n            ${html}\n        </body>\n    </html>\n`;\n\nconst createScriptTag = script => {\n  const src = getContextPath() + script;\n  return `<script src=\"${src}\" type=\"text/javascript\"></script>`;\n};\n\nconst createLinkTag = ({\n  media,\n  styleSheet\n}) => {\n  const href = getContextPath() + styleSheet;\n  return `<link type=\"text/css\" rel=\"stylesheet\" media=\"${media}\" href=\"${href}\" >`;\n};\n\nconst Loader = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2400364065\"\n}, /*#__PURE__*/React.createElement(CircularProgress, null), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2400364065\"\n}, [\"div.jsx-2400364065{text-align:center;margin:16px;}\"]));\n\nclass HtmlReport extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      heigth: 'auto'\n    });\n\n    _defineProperty(this, \"heightObserver\", null);\n\n    _defineProperty(this, \"onIframeLoad\", event => {\n      const iframeHtml = event.target.contentWindow.document.documentElement;\n      const iframeBody = event.target.contentWindow.document.body;\n      this.heightObserver = new window.ResizeObserver(this.onContentResize);\n      this.heightObserver.observe(iframeHtml);\n      this.heightObserver.observe(iframeBody);\n      this.adjustHeight(iframeHtml.getBoundingClientRect(), iframeBody.getBoundingClientRect());\n    });\n\n    _defineProperty(this, \"onContentResize\", entries => {\n      this.adjustHeight(...entries.map(entry => entry.contentRect));\n    });\n\n    _defineProperty(this, \"adjustHeight\", (iframeHtmlRect, iframeBodyRect) => {\n      const height = Math.max(iframeHtmlRect.height, iframeBodyRect.height); // Add 20px as a \"safety margin\" in case we get a horizontal scroll bar\n\n      this.setState({\n        height: Math.ceil(height) + 20\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.heightObserver && this.heightObserver.disconnect();\n  }\n\n  render() {\n    return this.props.html ? /*#__PURE__*/React.createElement(\"iframe\", {\n      id: \"html-report-id\",\n      srcDoc: wrapHtmlInTemplate(this.props.html),\n      title: \"html-report-content\",\n      width: \"100%\",\n      height: this.state.height,\n      seamless: true,\n      sandbox: \"allow-same-origin allow-scripts allow-modals allow-downloads\",\n      onLoad: this.onIframeLoad,\n      className: \"jsx-2058224637\"\n    }, /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"2058224637\"\n    }, [\"iframe.jsx-2058224637{border:none;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\"])) : /*#__PURE__*/React.createElement(Loader, null);\n  }\n\n}\n\nHtmlReport.propTypes = {\n  html: PropTypes.string.isRequired\n};\nexport default HtmlReport;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport ReportLoader from '../../components/ReportLoader.js';\nimport { DownloadOptions } from '../../components/TabularReport/DownloadOptions.js';\nimport { ReportComment } from '../../components/TabularReport/ReportComment.js';\nimport ReportTable from '../../components/TabularReport/ReportTable.js';\nimport { reportContent } from '../../utils/react/propTypes.js';\nimport HtmlReport from '../standard-report/HtmlReport.js';\n\nconst DataSetReportOutput = props => /*#__PURE__*/React.createElement(ReportLoader, {\n  content: props.content,\n  isLoading: props.isLoading\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"tabular-report\"\n}, /*#__PURE__*/React.createElement(ReportComment, {\n  comment: props.reportComment,\n  shareDataSetReportComment: props.shareDataSetReportComment,\n  setDataSetReportComment: props.setDataSetReportComment\n}), /*#__PURE__*/React.createElement(DownloadOptions, {\n  fileUrls: props.fileUrls\n}), props.isHtmlReport ? /*#__PURE__*/React.createElement(HtmlReport, {\n  html: props.content.data\n}) : !!props.content.length && props.content.map(table => /*#__PURE__*/React.createElement(ReportTable, {\n  key: table.title,\n  content: table\n}))));\n\nDataSetReportOutput.propTypes = {\n  content: reportContent.isRequired,\n  fileUrls: PropTypes.array.isRequired,\n  isHtmlReport: PropTypes.bool.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  reportComment: ReportComment.propTypes.comment,\n  setDataSetReportComment: ReportComment.propTypes.setDataSetReportComment,\n  shareDataSetReportComment: ReportComment.propTypes.shareDataSetReportComment\n};\nexport default DataSetReportOutput;","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { DropDown } from '@dhis2/d2-ui-core';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { selectDimensionOption } from '../redux/actions/dataSetDimensions.js';\nimport { formLabel } from '../utils/styles/shared.js';\n\nconst createDimensionChangeHandler = (onChange, dimensionId) => element => onChange(dimensionId, element);\n\nconst DimensionDropdown = props => /*#__PURE__*/React.createElement(\"div\", {\n  key: props.dimension.id,\n  className: \"data-set-dimension\"\n}, /*#__PURE__*/React.createElement(\"span\", {\n  className: formLabel.className\n}, props.dimension.displayName), /*#__PURE__*/React.createElement(DropDown, {\n  fullWidth: props.fullWidth,\n  value: props.values[props.dimension.id],\n  onChange: props.onChange,\n  menuItems: props.dimension.items,\n  includeEmpty: true,\n  emptyLabel: i18n.t('Select Option'),\n  hintText: i18n.t('Select Option')\n}), formLabel.styles);\n\nconst Loader = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2280194982\"\n}, /*#__PURE__*/React.createElement(CircularProgress, {\n  size: 24,\n  thickness: 3\n}), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2280194982\"\n}, [\"div.jsx-2280194982{margin-bottom:16px;text-align:center;}\"]));\n\nDimensionDropdown.propTypes = {\n  dimension: PropTypes.object.isRequired,\n  fullWidth: PropTypes.bool.isRequired,\n  values: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nconst DataSetDimensions = ({\n  hide,\n  isLoading,\n  fullWidth,\n  options,\n  selected,\n  onChange\n}) => {\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n\n  if (hide || options.length === 0) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"jsx-3127033929\" + \" \" + \"header\"\n  }, i18n.t('Data set dimensions')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-3127033929\" + \" \" + \"box\"\n  }, options.map(dimension => /*#__PURE__*/React.createElement(DimensionDropdown, {\n    key: dimension.id,\n    dimension: dimension,\n    fullWidth: fullWidth,\n    values: selected,\n    onChange: createDimensionChangeHandler(onChange, dimension.id)\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3127033929\"\n  }, [\"h6.jsx-3127033929{color:#757575;font-size:14px;margin-bottom:5px;margin-top:0;text-align:left;font-weight:normal;}\", \"div.jsx-3127033929{border:1px solid #bcbcbc;padding:4px;margin-bottom:16px;}\"]));\n};\n\nDataSetDimensions.propTypes = {\n  fullWidth: PropTypes.bool.isRequired,\n  hide: PropTypes.bool.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  options: PropTypes.array.isRequired,\n  selected: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired\n};\nDataSetDimensions.defaultProps = {\n  fullWidth: true\n};\n\nconst mapStateToProps = state => ({\n  hide: !state.dataSet.selected.id,\n  isLoading: state.dataSetDimensions.loading,\n  options: state.dataSetDimensions.options,\n  selected: state.dataSetDimensions.selected\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: (id, evt) => dispatch(selectDimensionOption(id, evt.target.value))\n});\n\nconst ConnectedDataSetDimensions = connect(mapStateToProps, mapDispatchToProps)(DataSetDimensions);\nexport { DataSetDimensions as OriginalComponent, ConnectedDataSetDimensions as DataSetDimensions };","import i18n from '@dhis2/d2-i18n';\nimport { DropDown } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { selectDataSet } from '../redux/actions/dataSet.js';\nimport { formLabel } from '../utils/styles/shared.js';\nconst hintTextLoading = i18n.t('Loading options...');\nconst hintTextDefault = i18n.t('Select Data Set');\nexport const DatasetsDropdown = props => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"span\", {\n  className: formLabel.className\n}, props.label), /*#__PURE__*/React.createElement(DropDown, {\n  fullWidth: props.fullWidth,\n  value: props.selected.id,\n  onChange: props.onChange ? props.onChange : props.selectDataSet,\n  menuItems: props.options,\n  hintText: props.loading ? hintTextLoading : hintTextDefault,\n  disabled: props.loading\n}), formLabel.styles);\nDatasetsDropdown.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  options: PropTypes.array.isRequired,\n  selectDataSet: PropTypes.func.isRequired,\n  selected: PropTypes.object.isRequired,\n  fullWidth: PropTypes.bool,\n  label: PropTypes.string,\n  onChange: PropTypes.func\n};\nDatasetsDropdown.defaultProps = {\n  onChange: null,\n  label: i18n.t('Data set'),\n  fullWidth: true,\n  filter: null\n};\n\nconst mapStateToProps = ({\n  dataSet: {\n    loading,\n    selected,\n    options\n  }\n}) => ({\n  loading,\n  selected,\n  options\n});\n\nconst mapDispatchToProps = dispatch => ({\n  selectDataSet: event => dispatch(selectDataSet(event.target.value))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DatasetsDropdown);","import i18n from '@dhis2/d2-i18n';\nimport { getOrgUnitGroupSets } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showErrorSnackBar } from './feedback.js';\nexport const actionTypes = {\n  LOADING_GROUP_SETS_START: 'LOADING_GROUP_SETS_START',\n  LOADING_GROUP_SETS_SUCCESS: 'LOADING_GROUP_SETS_SUCCESS',\n  LOADING_GROUP_SETS_ERROR: 'LOADING_GROUP_SETS_ERROR',\n  SET_GROUP_SET: 'SET_GROUP_SET'\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingGroupSetsStart = () => ({\n  type: actionTypes.LOADING_GROUP_SETS_START\n});\n/**\n * @param {Array} groupSets\n * @returns {Object}\n */\n\nexport const loadingGroupSetsSuccess = groupSets => ({\n  type: actionTypes.LOADING_GROUP_SETS_SUCCESS,\n  payload: groupSets\n});\n/**\n * @param {Error} error\n * @returns {Object}\n */\n\nexport const loadingGroupSetsErrorDefaultMessage = i18n.t('An error occurred while loading the group sets!');\nexport const loadingGroupSetsError = error => dispatch => {\n  const displayMessage = humanReadableErrorMessage(error, loadingGroupSetsErrorDefaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch({\n    type: actionTypes.LOADING_GROUP_SETS_ERROR,\n    payload: displayMessage\n  });\n};\n/**\n * @returns {Function}\n */\n\nexport const loadGroupSetOptions = () => dispatch => {\n  dispatch(loadingGroupSetsStart());\n  return getOrgUnitGroupSets().then(response => dispatch(loadingGroupSetsSuccess(response.toArray()))).catch(error => dispatch(loadingGroupSetsError(error)));\n};\n/**\n * @param {string} groupSetId\n * @return {Object}\n */\n\nexport const setGroupSet = groupSetId => ({\n  type: actionTypes.SET_GROUP_SET,\n  payload: groupSetId\n});","import i18n from '@dhis2/d2-i18n';\nimport { getOrganisationUnits } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showErrorSnackBar } from './feedback.js';\nimport { loadGroupSetOptions } from './orgUnitGroupSets.js';\nexport const actionTypes = {\n  ORGANISATION_UNITS_LOADING_START: 'ORGANISATION_UNITS_LOADING_START',\n  ORGANISATION_UNITS_RECEIVED: 'ORGANISATION_UNITS_RECEIVED',\n  ORGANISATION_UNITS_ERRORED: 'ORGANISATION_UNITS_ERRORED',\n  ORGANISATION_UNIT_SELECTED: 'ORGANISATION_UNIT_SELECTED',\n  ORGANISATION_UNIT_CLEARED: 'ORGANISATION_UNIT_CLEARED',\n  ORGANISATION_UNITS_OPTION_SELECTED: 'ORGANISATION_UNITS_OPTION_SELECTED',\n  TOGGLE_SHOW_OPTIONS: 'TOGGLE_SHOW_OPTIONS'\n};\nexport const fallbackErrorMessage = i18n.t('Could not load organisation units');\n/**\n * @returns {Object}\n */\n\nexport const loadOrganisationUnitsStart = () => ({\n  type: actionTypes.ORGANISATION_UNITS_LOADING_START\n});\n/**\n * @param {Object} periodTypes\n * @returns {Object}\n */\n\nexport const loadOrganisationUnitsSuccess = organisationUnits => ({\n  type: actionTypes.ORGANISATION_UNITS_RECEIVED,\n  payload: organisationUnits\n});\n/**\n * @returns {Object}\n */\n\nexport const loadOrganisationUnitsError = () => ({\n  type: actionTypes.ORGANISATION_UNITS_ERRORED\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadOrganisationUnitsErrorDefaultMessage = i18n.t('An error occurred while loading the organisation units!');\nexport const loadOrganisationUnitsErrorWithFeedback = error => dispatch => {\n  const displayMessage = humanReadableErrorMessage(error, loadOrganisationUnitsErrorDefaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadOrganisationUnitsError());\n};\nexport const loadOrganisationUnits = () => dispatch => {\n  dispatch(loadOrganisationUnitsStart());\n  return getOrganisationUnits().then(organisationUnits => dispatch(loadOrganisationUnitsSuccess(organisationUnits))).catch(error => {\n    console.error(error);\n    dispatch(loadOrganisationUnitsErrorWithFeedback(error));\n  });\n};\nexport const selectOrganisationUnit = (_event, {\n  id,\n  path,\n  displayName,\n  children\n}) => ({\n  type: actionTypes.ORGANISATION_UNIT_SELECTED,\n  payload: {\n    id,\n    path,\n    displayName,\n    children\n  }\n});\nexport const selectOrgUnitOption = (id, value) => ({\n  type: actionTypes.ORGANISATION_UNITS_OPTION_SELECTED,\n  payload: {\n    id,\n    value\n  }\n});\nexport const toggleShowOptions = () => (dispatch, getState) => {\n  const {\n    orgUnitGroupSets\n  } = getState();\n  dispatch({\n    type: actionTypes.TOGGLE_SHOW_OPTIONS\n  });\n\n  if (orgUnitGroupSets.collection.length === 0) {\n    dispatch(loadGroupSetOptions());\n  }\n};\nexport const clearSelectedOrgUnit = () => ({\n  type: actionTypes.ORGANISATION_UNIT_CLEARED\n});","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { OrgUnitTreeMultipleRoots } from '@dhis2/d2-ui-org-unit-tree';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { selectOrganisationUnit } from '../redux/actions/organisationUnits.js';\nexport function AvailableOrganisationUnitsTree({\n  selectOrganisationUnit,\n  loading,\n  collection,\n  selected\n}) {\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Updating Organisation Units Tree...'));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-2532267554\" + \" \" + \"org-unit-tree-wrapper\"\n  }, /*#__PURE__*/React.createElement(OrgUnitTreeMultipleRoots, {\n    hideMemberCount: true,\n    roots: collection,\n    selected: selected ? [selected.path] : [],\n    initiallyExpanded: collection.map(unit => `/${unit.id}`),\n    onSelectClick: selectOrganisationUnit\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2532267554\"\n  }, [\"div.jsx-2532267554{border:1px solid #bcbcbc;overflow:auto;width:100%;box-sizing:border-box;font-weight:300;max-height:400px;padding:10px 5px;}\"]));\n}\nAvailableOrganisationUnitsTree.propTypes = {\n  collection: PropTypes.array.isRequired,\n  loading: PropTypes.bool.isRequired,\n  selectOrganisationUnit: PropTypes.func.isRequired,\n  selected: PropTypes.object\n};\n\nconst mapStateToProps = ({\n  organisationUnits\n}) => ({\n  loading: organisationUnits.loading,\n  collection: organisationUnits.collection,\n  selected: organisationUnits.selected\n});\n\nexport default connect(mapStateToProps, {\n  selectOrganisationUnit\n})(AvailableOrganisationUnitsTree);","import _JSXStyle from \"styled-jsx/style\";\n\n/* React */\n\n/* i18n */\nimport i18n from '@dhis2/d2-i18n';\n/* d2-ui components */\n\nimport { DropDown } from '@dhis2/d2-ui-core';\nimport { CircularProgress } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n/* App context */\n\nimport { connect } from 'react-redux';\nimport { selectOrgUnitOption } from '../redux/actions/organisationUnits.js';\nimport { formLabel } from '../utils/styles/shared.js';\n\nconst createGroupSetOnChange = (groupSetId, onChange) => event => {\n  onChange(groupSetId, event.target.value);\n};\n\nconst labelText = i18n.t('Select Option');\n\nconst OrganisationUnitGroupSetDropdown = ({\n  groupSet,\n  fullWidth,\n  value,\n  onChange\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  key: groupSet.id\n}, /*#__PURE__*/React.createElement(\"span\", {\n  className: formLabel.className\n}, groupSet.displayName), /*#__PURE__*/React.createElement(DropDown, {\n  fullWidth: fullWidth,\n  value: value,\n  onChange: onChange,\n  menuItems: groupSet.organisationUnitGroups,\n  includeEmpty: true,\n  emptyLabel: labelText,\n  hintText: labelText\n}), formLabel.styles);\n\nOrganisationUnitGroupSetDropdown.propTypes = {\n  fullWidth: PropTypes.bool.isRequired,\n  groupSet: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string\n};\nOrganisationUnitGroupSetDropdown.defaultProps = {\n  value: ''\n};\nexport const __OrganisationUnitGroupSets = ({\n  groupSets,\n  isLoading,\n  selectGroupSet,\n  values,\n  fullWidth\n}) => isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3604278703\"\n}, /*#__PURE__*/React.createElement(CircularProgress, {\n  size: 24,\n  thickness: 3\n}), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"3604278703\"\n}, [\"div.jsx-3604278703{padding-top:16px;text-align:center;}\"])) : groupSets.map(groupSet => /*#__PURE__*/React.createElement(OrganisationUnitGroupSetDropdown, {\n  groupSet: groupSet,\n  key: groupSet.id,\n  onChange: createGroupSetOnChange(groupSet.id, selectGroupSet),\n  value: values[groupSet.id],\n  fullWidth: fullWidth\n}));\n__OrganisationUnitGroupSets.propTypes = {\n  groupSets: PropTypes.array.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  selectGroupSet: PropTypes.func.isRequired,\n  values: PropTypes.object.isRequired,\n  fullWidth: PropTypes.bool\n};\n__OrganisationUnitGroupSets.defaultProps = {\n  fullWidth: true\n};\n\nconst mapStateToProps = state => ({\n  isLoading: state.orgUnitGroupSets.loading,\n  groupSets: state.orgUnitGroupSets.collection,\n  values: state.organisationUnits.selectedOptions\n});\n\nexport const OrganisationUnitGroupSets = connect(mapStateToProps, {\n  selectGroupSet: selectOrgUnitOption\n})(__OrganisationUnitGroupSets);","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { toggleShowOptions } from '../redux/actions/organisationUnits.js';\nimport { formLabel } from '../utils/styles/shared.js';\nimport OrganisationUnitsTree from './AvailableOrganisationUnitsTree.js';\nimport { OrganisationUnitGroupSets } from './OrganisationUnitGroupSets.js';\n\nconst getExtraOptionsLabel = showOptions => !showOptions ? i18n.t('Show more options') : i18n.t('Show fewer options');\n\nconst getExtraOptionsClassName = showOptions => showOptions ? 'show-options' : 'hide-options';\n\nexport const __OrgUnitsTreeWithExtraOptions = props => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3942626467\" + \" \" + (formLabel.className || \"\")\n}, i18n.t('Report organisation unit')), /*#__PURE__*/React.createElement(OrganisationUnitsTree, null), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3942626467\"\n}, !props.isLoadingOptions && /*#__PURE__*/React.createElement(\"span\", {\n  id: \"extra-options-action\",\n  role: \"button\",\n  tabIndex: \"0\",\n  onClick: props.toggleShowOptions,\n  className: \"jsx-3942626467\" + \" \" + \"show-more-options-button\"\n}, getExtraOptionsLabel(props.showOptions)), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"extra-options\",\n  className: \"jsx-3942626467\" + \" \" + (getExtraOptionsClassName(props.showOptions) || \"\")\n}, /*#__PURE__*/React.createElement(OrganisationUnitGroupSets, null))), formLabel.styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"3942626467\"\n}, [\".hide-options.jsx-3942626467{display:none;}\", \".show-options.jsx-3942626467{display:block;}\", \".show-more-options-button.jsx-3942626467{display:block;cursor:pointer;color:#004ba0;margin-top:5;margin-bottom:5;outline:none;}\"]));\n__OrgUnitsTreeWithExtraOptions.propTypes = {\n  isLoadingOptions: PropTypes.bool.isRequired,\n  showOptions: PropTypes.bool.isRequired,\n  toggleShowOptions: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  showOptions: state.organisationUnits.showOptions,\n  isLoadingOptions: state.orgUnitGroupSets.loading\n});\n\nexport const OrgUnitsTreeWithExtraOptions = connect(mapStateToProps, {\n  toggleShowOptions\n})(__OrgUnitsTreeWithExtraOptions);","import i18n from '@dhis2/d2-i18n';\nimport { getPeriodTypes } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showErrorSnackBar } from './feedback.js';\nexport const actionTypes = {\n  REPORT_PERIOD_TYPES_LOADING_START: 'REPORT_PERIOD_TYPES_LOADING_START',\n  REPORT_PERIOD_TYPES_RECEIVED: 'REPORT_PERIOD_TYPES_RECEIVED',\n  REPORT_PERIOD_TYPES_ERRORED: 'REPORT_PERIOD_TYPES_ERRORED',\n  REPORT_PERIOD_TYPE_SELECTED: 'REPORT_PERIOD_TYPE_SELECTED',\n  REPORT_PERIOD_SELECTED: 'REPORT_PERIOD_SELECTED',\n  REPORT_PERIOD_CLEAR_ALL: 'REPORT_PERIOD_CLEAR_ALL'\n};\n/**\n * @param {Array} periodTypes\n * @returns {Object}\n */\n\nexport const loadPeriodTypesSuccess = periodTypes => ({\n  type: actionTypes.REPORT_PERIOD_TYPES_RECEIVED,\n  payload: periodTypes\n});\n/**\n * @returns {Object}\n */\n\nexport const loadPeriodTypesError = () => ({\n  type: actionTypes.REPORT_PERIOD_TYPES_ERRORED\n});\n/**\n * @param {Error} error\n * @return {Function}\n */\n\nexport const fallbackErrorMessage = i18n.t('Could not load period types');\nexport const loadPeriodTypesErrorWithFeedback = error => dispatch => {\n  const displayMessage = humanReadableErrorMessage(error, fallbackErrorMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadPeriodTypesError());\n};\nexport const loadPeriodTypes = () => dispatch => getPeriodTypes().then(periodTypes => dispatch(loadPeriodTypesSuccess(periodTypes))).catch(error => {\n  console.error(error);\n  dispatch(loadPeriodTypesErrorWithFeedback(error));\n});\nexport const selectPeriodType = event => ({\n  type: actionTypes.REPORT_PERIOD_TYPE_SELECTED,\n  payload: event.target.value\n});\nexport const selectPeriod = period => ({\n  type: actionTypes.REPORT_PERIOD_SELECTED,\n  payload: period\n});\nexport const clearSelectedReportPeriod = () => ({\n  type: actionTypes.REPORT_PERIOD_CLEAR_ALL\n});","import i18n from '@dhis2/d2-i18n';\nimport parseFixedPeriod from 'd2/period/parser';\n/* do not change property names, those are ids from period types server */\n\nexport const fixedPeriodTranslations = {\n  Daily: i18n.t('Daily'),\n  Weekly: i18n.t('Weekly'),\n  WeeklyWednesday: i18n.t('Weekly Wednesday'),\n  WeeklyThursday: i18n.t('Weekly Thursday'),\n  WeeklySaturday: i18n.t('Weekly Saturday'),\n  WeeklySunday: i18n.t('Weekly Sunday'),\n  BiWeekly: i18n.t('Bi-Weekly'),\n  Monthly: i18n.t('Monthly'),\n  BiMonthly: i18n.t('Bi-Monthly'),\n  Quarterly: i18n.t('Quarterly'),\n  SixMonthly: i18n.t('Six-Monthly'),\n  SixMonthlyApril: i18n.t('Six-Monthly April'),\n  SixMonthlyNov: i18n.t('Six-Monthly November'),\n  Yearly: i18n.t('Yearly'),\n  FinancialApril: i18n.t('Financial-April'),\n  FinancialJuly: i18n.t('Financial-July'),\n  FinancialOct: i18n.t('Financial-Oct')\n};\nexport const relativePeriodsThatAreActuallyFixed = {\n  thisDay: ['Daily'],\n  thisWeek: ['Weekly', 'WeeklyWednesday', 'WeeklyThursday', 'WeeklySaturday', 'WeeklySunday'],\n  thisBiWeek: ['BiWeekly'],\n  thisMonth: ['Monthly'],\n  thisBimonth: ['BiMonthly'],\n  thisQuarter: ['Quarterly'],\n  thisSixMonth: ['SixMonthly', 'SixMonthlyApril', 'SixMonthlyNov'],\n  thisYear: ['Yearly'],\n  thisFinancialYear: ['FinancialApril', 'FinancialJuly', 'FinancialOct', 'FinancialNov']\n};\nexport const isFixedPeriodType = periodType => !!fixedPeriodTranslations[periodType];\nexport const getFixedPeriodStartDate = periodCode => {\n  try {\n    const period = parseFixedPeriod(periodCode);\n    return period.startDate;\n  } catch {\n    return null;\n  }\n};","import i18n from '@dhis2/d2-i18n';\nconst THIS_DAY = 'thisDay';\nconst YESTERDAY = 'yesterday';\nconst LAST_3_DAYS = 'last3Days';\nconst LAST_7_DAYS = 'last7Days';\nconst LAST_14_DAYS = 'last14Days';\nconst THIS_WEEK = 'thisWeek';\nconst LAST_WEEK = 'lastWeek';\nconst LAST_4_WEEKS = 'last4Weeks';\nconst LAST_12_WEEKS = 'last12Weeks';\nconst LAST_52_WEEKS = 'last52Weeks';\nconst WEEKS_THIS_YEAR = 'weeksThisYear';\nconst THIS_MONTH = 'thisMonth';\nconst LAST_MONTH = 'lastMonth';\nconst LAST_3_MONTHS = 'last3Months';\nconst LAST_6_MONTHS = 'last6Months';\nconst LAST_12_MONTHS = 'last12Months';\nconst MONTHS_THIS_YEAR = 'monthsThisYear';\nconst THIS_BIMONTH = 'thisBimonth';\nconst LAST_BIMONTH = 'lastBimonth';\nconst LAST_6_BI_MONTHS = 'last6BiMonths';\nconst BI_MONTHS_THIS_YEAR = 'biMonthsThisYear';\nconst THIS_QUARTER = 'thisQuarter';\nconst LAST_QUARTER = 'lastQuarter';\nconst LAST_4_QUARTERS = 'last4Quarters';\nconst QUARTERS_THIS_YEAR = 'quartersThisYear';\nconst THIS_SIX_MONTH = 'thisSixMonth';\nconst LAST_SIX_MONTH = 'lastSixMonth';\nconst LAST_2_SIX_MONTHS = 'last2SixMonths';\nconst THIS_FINANCIAL_YEAR = 'thisFinancialYear';\nconst LAST_FINANCIAL_YEAR = 'lastFinancialYear';\nconst LAST_5_FINANCIAL_YEARS = 'last5FinancialYears';\nconst THIS_YEAR = 'thisYear';\nconst LAST_YEAR = 'lastYear';\nconst LAST_5_YEARS = 'last5Years';\nexport const RELATIVE_PERIODS = [// Days\n{\n  label: i18n.t('Days'),\n  options: [{\n    value: THIS_DAY,\n    label: i18n.t('Reporting day')\n  }, {\n    value: YESTERDAY,\n    label: i18n.t('Yesterday')\n  }, {\n    value: LAST_3_DAYS,\n    label: i18n.t('Last 3 days')\n  }, {\n    value: LAST_7_DAYS,\n    label: i18n.t('Last 7 days')\n  }, {\n    value: LAST_14_DAYS,\n    label: i18n.t('Last 14 days')\n  }]\n}, // Weeks\n{\n  label: i18n.t('Weeks'),\n  options: [{\n    value: THIS_WEEK,\n    label: i18n.t('Reporting week')\n  }, {\n    value: LAST_WEEK,\n    label: i18n.t('Last Week')\n  }, {\n    value: LAST_4_WEEKS,\n    label: i18n.t('Last 2 weeks')\n  }, {\n    value: LAST_12_WEEKS,\n    label: i18n.t('Last 12 weeks')\n  }, {\n    value: LAST_52_WEEKS,\n    label: i18n.t('Last 52 weeks')\n  }, {\n    value: WEEKS_THIS_YEAR,\n    label: i18n.t('Weeks this year')\n  }]\n}, // Months\n{\n  label: i18n.t('Months'),\n  options: [{\n    value: THIS_MONTH,\n    label: i18n.t('Reporting month')\n  }, {\n    value: LAST_MONTH,\n    label: i18n.t('Last month')\n  }, {\n    value: LAST_3_MONTHS,\n    label: i18n.t('Last 3 months')\n  }, {\n    value: LAST_6_MONTHS,\n    label: i18n.t('Last 6 months')\n  }, {\n    value: LAST_12_MONTHS,\n    label: i18n.t('Last 12 months')\n  }, {\n    value: MONTHS_THIS_YEAR,\n    label: i18n.t('Months this year')\n  }]\n}, // Bi-months\n{\n  label: i18n.t('Bi-months'),\n  options: [{\n    value: THIS_BIMONTH,\n    label: i18n.t('Reporting bi-month')\n  }, {\n    value: LAST_BIMONTH,\n    label: i18n.t('Last bi-month')\n  }, {\n    value: LAST_6_BI_MONTHS,\n    label: i18n.t('Last 6 bi-month')\n  }, {\n    value: BI_MONTHS_THIS_YEAR,\n    label: i18n.t('Bi-months this year')\n  }]\n}, // Quarters\n{\n  label: i18n.t('Quarters'),\n  options: [{\n    value: THIS_QUARTER,\n    label: i18n.t('Reporting quarter')\n  }, {\n    value: LAST_QUARTER,\n    label: i18n.t('Last quarter')\n  }, {\n    value: LAST_4_QUARTERS,\n    label: i18n.t('Last 4 quarters')\n  }, {\n    value: QUARTERS_THIS_YEAR,\n    label: i18n.t('Quarters of reporting year')\n  }]\n}, // Six-Months\n{\n  label: i18n.t('Six-Months'),\n  options: [{\n    value: THIS_SIX_MONTH,\n    label: i18n.t('Reporting six-month')\n  }, {\n    value: LAST_SIX_MONTH,\n    label: i18n.t('Last six-month')\n  }, {\n    value: LAST_2_SIX_MONTHS,\n    label: i18n.t('Last 2 six-months')\n  }]\n}, // Financial years\n{\n  label: i18n.t('Financial Years'),\n  options: [{\n    value: THIS_FINANCIAL_YEAR,\n    label: i18n.t('Reporting financial year')\n  }, {\n    value: LAST_FINANCIAL_YEAR,\n    label: i18n.t('Last financial year')\n  }, {\n    value: LAST_5_FINANCIAL_YEARS,\n    label: i18n.t('Last 5 financial years')\n  }]\n}, // years\n{\n  label: i18n.t('Years'),\n  options: [{\n    value: THIS_YEAR,\n    label: i18n.t('Reporting year')\n  }, {\n    value: LAST_YEAR,\n    label: i18n.t('Last year')\n  }, {\n    value: LAST_5_YEARS,\n    label: i18n.t('Last 5 years')\n  }]\n}];\nexport const flattenedRelativePeriods = RELATIVE_PERIODS.reduce((acc, group) => {\n  group.options.forEach(period => {\n    acc[period.value] = {\n      id: period.value,\n      displayName: period.label\n    };\n  });\n  return acc;\n}, {}); // This helper was \"borrowed\" from\n// https://github.com/dhis2/analytics/blob/master/src/components/PeriodDimension/utils/fixedPeriods.js#L537-L546\n// The plan is to eventually move the getRelativePeriodStartDate code over to the anaytics repo,\n// so we are using the helpers as they are there\n\nconst formatYyyyMmDd = timestamp => {\n  const date = new Date(timestamp);\n  const yyyy = date.getFullYear();\n  const mm = (date.getMonth() + 1).toString().padStart(2, '0');\n  const dd = date.getDate().toString().padStart(2, '0');\n  return `${yyyy}-${mm}-${dd}`;\n}; // We are passing `Date.now()` to the `Date` constructor to make this\n// module easier to unit test. This way we only have to mock `Date.now`,\n// which is a lot easier than to mock the `Date` class\n// See here for more info: https://codewithhugo.com/mocking-the-current-date-in-jest-tests/\n\n\nconst getCurrentDate = () => new Date(Date.now());\n\nconst getPreviousMonday = date => {\n  const day = date.getDay(); // date.getDay() will return 0 for a Sunday and 1 for a Monday\n  // so a week starts on Sunday according to the Date API, but\n  // we want the fist day of the week to be Monday, so we need this:\n  // `day + (day === 0 ? -6 : 1)`\n\n  const mondayTimeStamp = date.getDate() - day + (day === 0 ? -6 : 1);\n  return new Date(date.setDate(mondayTimeStamp));\n};\n\nconst daysAgo = offset => {\n  const now = getCurrentDate();\n  return now.setDate(now.getDate() - offset);\n};\n\nconst weeksAgo = offset => {\n  const previousMonday = getPreviousMonday(getCurrentDate());\n  return previousMonday.setDate(previousMonday.getDate() - offset * 7);\n};\n\nconst weeksThisYear = () => {\n  const year = getCurrentDate().getFullYear(); // Calculate the first date of an EPI year base on ISO standard  ( first week always contains 4th Jan )\n\n  const jan4 = new Date(`${year}-01-04`);\n  const firstMondayOfYear = getPreviousMonday(jan4);\n  return firstMondayOfYear.getTime();\n};\n\nconst startOfYear = () => {\n  const year = getCurrentDate().getFullYear();\n  const jan1 = new Date(`${year}-01-01`);\n  return jan1.getTime();\n};\n\nconst monthUnitsAgo = (unitSize, offset) => {\n  const now = getCurrentDate();\n  const year = now.getFullYear();\n  const monthIndex = now.getMonth(); // Round down to nearest even number so feb(1) will become jan(0)\n\n  const firstMonthIndex = unitSize * Math.floor(monthIndex / unitSize);\n  const firstMonthStr = (firstMonthIndex + 1).toString().padStart(2, '0');\n  const firstMonthStartDate = new Date(`${year}-${firstMonthStr}-01`);\n  return firstMonthStartDate.setMonth(firstMonthStartDate.getMonth() - offset * unitSize);\n};\n\nconst yearsAgo = (offset, isFinancial) => {\n  const currentYear = getCurrentDate().getFullYear();\n  const startYear = currentYear - offset;\n  return new Date(isFinancial ? `${startYear}-10-01` : `${startYear}-01-01`);\n};\n\nconst startDateCalculators = {\n  [THIS_DAY]: () => daysAgo(0),\n  [YESTERDAY]: () => daysAgo(1),\n  [LAST_3_DAYS]: () => daysAgo(3),\n  [LAST_7_DAYS]: () => daysAgo(7),\n  [LAST_14_DAYS]: () => daysAgo(14),\n  [THIS_WEEK]: () => weeksAgo(0),\n  [LAST_WEEK]: () => weeksAgo(1),\n  [LAST_4_WEEKS]: () => weeksAgo(4),\n  [LAST_12_WEEKS]: () => weeksAgo(12),\n  [LAST_52_WEEKS]: () => weeksAgo(52),\n  [WEEKS_THIS_YEAR]: () => weeksThisYear(),\n  [THIS_MONTH]: () => monthUnitsAgo(1, 0),\n  [LAST_MONTH]: () => monthUnitsAgo(1, 1),\n  [LAST_3_MONTHS]: () => monthUnitsAgo(1, 3),\n  [LAST_6_MONTHS]: () => monthUnitsAgo(1, 6),\n  [LAST_12_MONTHS]: () => monthUnitsAgo(1, 12),\n  [MONTHS_THIS_YEAR]: () => startOfYear(),\n  [THIS_BIMONTH]: () => monthUnitsAgo(2, 0),\n  [LAST_BIMONTH]: () => monthUnitsAgo(2, 1),\n  [LAST_6_BI_MONTHS]: () => monthUnitsAgo(2, 6),\n  [BI_MONTHS_THIS_YEAR]: () => startOfYear(),\n  [THIS_QUARTER]: () => monthUnitsAgo(3, 0),\n  [LAST_QUARTER]: () => monthUnitsAgo(3, 1),\n  [LAST_4_QUARTERS]: () => monthUnitsAgo(3, 4),\n  [QUARTERS_THIS_YEAR]: () => startOfYear(),\n  [THIS_SIX_MONTH]: () => monthUnitsAgo(6, 0),\n  [LAST_SIX_MONTH]: () => monthUnitsAgo(6, 1),\n  [LAST_2_SIX_MONTHS]: () => monthUnitsAgo(6, 2),\n  [THIS_FINANCIAL_YEAR]: () => yearsAgo(0, true),\n  [LAST_FINANCIAL_YEAR]: () => yearsAgo(1, true),\n  [LAST_5_FINANCIAL_YEARS]: () => yearsAgo(5, true),\n  [THIS_YEAR]: () => yearsAgo(0),\n  [LAST_YEAR]: () => yearsAgo(1),\n  [LAST_5_YEARS]: () => yearsAgo(5)\n};\nexport const getRelativePeriodStartDate = periodCode => {\n  const startDateCalutator = startDateCalculators[periodCode];\n\n  if (!startDateCalutator) {\n    return null;\n  }\n\n  return formatYyyyMmDd(startDateCalutator());\n};","import i18n from '@dhis2/d2-i18n';\nexport { RELATIVE_PERIODS } from '../../utils/periods/relativePeriods.js';\nexport const REPORTS_ENDPOINT = 'reports';\nexport const REPORT_TEMPLATES_ENDPOINT = 'reportTemplate';\nexport const CONTEXT_MENU_ACTION = {\n  CREATE: 'createReport',\n  EDIT: 'editReport',\n  DELETE: 'delete',\n  SHARING_SETTINGS: 'sharingSettings'\n};\nexport const CONTEXT_MENU_ICONS = {\n  [CONTEXT_MENU_ACTION.CREATE]: 'arrow_right',\n  [CONTEXT_MENU_ACTION.EDIT]: 'edit',\n  [CONTEXT_MENU_ACTION.SHARING_SETTINGS]: 'people',\n  [CONTEXT_MENU_ACTION.DELETE]: 'delete'\n};\nexport const NONE = {\n  id: 'none',\n  name: i18n.t('[ None ]')\n};\nexport const TYPES = {\n  JASPER_REPORT_TABLE: 'JASPER_REPORT_TABLE',\n  JASPER_JDBC: 'JASPER_JDBC',\n  HTML: 'HTML'\n};\nexport const REPORT_MODE = {\n  REPORT: 'report',\n  REPORT_TABLE: 'table'\n};\nexport const GET_REPORT_AS_ENDPOINT = {\n  PDF: 'data.pdf',\n  XLS: 'data.xls',\n  HTML: 'data.html'\n};\nexport const reportTypes = {\n  JASPER_REPORT_TABLE: 'JASPER_REPORT_TABLE',\n  JASPER_JDBC: 'JASPER_JDBC',\n  HTML: 'HTML'\n};\nexport const reportTypeOptions = [{\n  value: reportTypes.JASPER_REPORT_TABLE,\n  label: i18n.t('Jasper report with report table data source')\n}, {\n  value: reportTypes.JASPER_JDBC,\n  label: i18n.t('Jasper report with JDBC data source')\n}, {\n  value: reportTypes.HTML,\n  label: i18n.t('HTML report')\n}];\nexport const REPORT_TYPES = [{\n  id: TYPES.JASPER_REPORT_TABLE,\n  name: i18n.t('Jasper report with report table data source')\n}, {\n  id: TYPES.JASPER_JDBC,\n  name: i18n.t('Jasper report with JDBC data source')\n}, {\n  id: TYPES.HTML,\n  name: i18n.t('HTML report')\n}];\nexport const cacheStrategies = [{\n  value: 'NO_CACHE',\n  label: i18n.t('No cache')\n}, {\n  value: 'RESPECT_SYSTEM_SETTING',\n  label: i18n.t('Respect system setting')\n}, {\n  value: 'CACHE_1_HOUR',\n  label: i18n.t('Cache for one hour')\n}, {\n  value: 'CACHE_6AM_TOMORROW',\n  label: i18n.t('Cache until 6 AM tomorrow')\n}, {\n  value: 'CACHE_TWO_WEEKS',\n  label: i18n.t('Cache for two weeks')\n}];\nexport const CACHE_STRATEGIES = [{\n  id: 'NO_CACHE',\n  name: i18n.t('No cache')\n}, {\n  id: 'RESPECT_SYSTEM_SETTING',\n  name: i18n.t('Respect system setting')\n}, {\n  id: 'CACHE_1_HOUR',\n  name: i18n.t('Cache for one hour')\n}, {\n  id: 'CACHE_6AM_TOMORROW',\n  name: i18n.t('Cache until 6 AM tomorrow')\n}, {\n  id: 'CACHE_TWO_WEEKS',\n  name: i18n.t('Cache for two weeks')\n}];","export const isFalsy = value => !value;","import { getFixedPeriodStartDate } from './fixedPeriods.js';\nimport { getRelativePeriodStartDate } from './relativePeriods.js';\nexport const getPeriodStartDate = periodCode => {\n  return getRelativePeriodStartDate(periodCode) || getFixedPeriodStartDate(periodCode);\n};","import omitBy from 'lodash.omitby';\nimport { reportTypes } from '../../pages/standard-report/standard.report.conf.js';\nimport { getSelectedOrgUnit } from '../../redux/selectors/organisationUnit/getSelectedOrgUnit.js';\nimport { getSelectedReportPeriod } from '../../redux/selectors/reportPeriod/getSelectedReportPeriod.js';\nimport { isFalsy } from '../boolean/isFalsy.js';\nimport { getPeriodStartDate } from '../periods/periodTypes.js';\nexport const extractRequiredReportParams = reportParams => omitBy({\n  period: reportParams.reportingPeriod,\n  organisationUnit: reportParams.organisationUnit || reportParams.parentOrganisationUnit || reportParams.grandParentOrganisationUnit\n}, isFalsy);\nexport const isHtmlReport = report => report.type === reportTypes.HTML;\nexport const isJasperReportTableReport = report => report.type === reportTypes.JASPER_REPORT_TABLE;\nexport const getReportParams = report => report.reportTable && report.reportTable.reportParams || report.reportParams;\nexport const appendOrgUnitsAndReportPeriodToQueryString = (state, baseStr = '') => {\n  const {\n    standardReport,\n    organisationUnits,\n    reportPeriod\n  } = state;\n  const {\n    reportParams\n  } = standardReport;\n\n  if (reportParams.organisationUnit) {\n    baseStr += `&ou=${organisationUnits.selected.id}`;\n  }\n\n  if (reportParams.period) {\n    const startDate = getPeriodStartDate(reportPeriod.selectedPeriod);\n    baseStr += `&pe=${reportPeriod.selectedPeriod}`;\n\n    if (startDate) {\n      baseStr += `&date=${startDate}`;\n    }\n  }\n\n  return baseStr ? `?${baseStr}` : baseStr;\n};\nexport const validateRequiredParams = (state, requiredParams) => {\n  const errors = [];\n\n  if (requiredParams.organisationUnit && !getSelectedOrgUnit(state)) {\n    errors.push('You need to select an organisation unit');\n  }\n\n  if (requiredParams.period && !getSelectedReportPeriod(state)) {\n    errors.push('You need to select a period');\n  }\n\n  return errors;\n};\nexport const processCheckboxValues = (formSelectedKeys, stateValues) => {\n  if (!stateValues) {\n    return {};\n  }\n\n  const selectedKeys = new Set(formSelectedKeys);\n  return Object.keys(stateValues).reduce((acc, key) => {\n    acc[key] = selectedKeys.has(key);\n    return acc;\n  }, {});\n};","import { fixedPeriodTranslations, relativePeriodsThatAreActuallyFixed } from '../../../utils/periods/fixedPeriods.js';\nimport { flattenedRelativePeriods } from '../../../utils/periods/relativePeriods.js';\nimport { isJasperReportTableReport } from '../../../utils/standardReport/index.js';\nexport const getFilteredPeriodTypes = state => {\n  const fixedPeriodTypes = state.reportPeriod.collection.map(periodType => ({\n    id: periodType.name,\n    displayName: fixedPeriodTranslations[periodType.name]\n  }));\n\n  if (!state.standardReport.showReportParams) {\n    return fixedPeriodTypes;\n  } // In report params modal we want to show a mix of fixed period types and relative periods\n\n\n  const report = state.standardReport.selectedReport;\n  const reportConfig = isJasperReportTableReport(report) ? report.reportTable : report;\n  const periods = reportConfig.relativePeriods || {};\n  return Object.keys(periods).reduce((acc, periodKey) => {\n    const isSelected = periods[periodKey];\n\n    if (isSelected) {\n      const fixedPeriodTypes = relativePeriodsThatAreActuallyFixed[periodKey];\n\n      if (fixedPeriodTypes) {\n        fixedPeriodTypes.forEach(periodKey => {\n          acc.push({\n            id: periodKey,\n            displayName: fixedPeriodTranslations[periodKey]\n          });\n        });\n      } else {\n        acc.push({ ...flattenedRelativePeriods[periodKey],\n          isRelative: true\n        });\n      }\n    }\n\n    return acc;\n  }, []);\n};","import i18n from '@dhis2/d2-i18n';\nimport { DropDown, PeriodPicker } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { selectPeriod, selectPeriodType } from '../redux/actions/reportPeriod.js';\nimport { getFilteredPeriodTypes } from '../redux/selectors/reportPeriod/periodTypes.js';\nimport { isFixedPeriodType } from '../utils/periods/fixedPeriods.js';\nimport { formLabel } from '../utils/styles/shared.js';\nconst periodTypeLabelText = i18n.t('Select Period Type');\nexport function PeriodPickerWithPeriodType({\n  selectPeriodType,\n  selectPeriod,\n  label,\n  collection,\n  selectedPeriodType\n}) {\n  const onDropDownChange = event => {\n    selectPeriodType(event); // relative periods can be selected from the first dropdown\n\n    if (!isFixedPeriodType(event.target.value)) {\n      selectPeriod(event.target.value);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"span\", {\n    className: formLabel.className\n  }, label), /*#__PURE__*/React.createElement(DropDown, {\n    fullWidth: true,\n    emptyLabel: periodTypeLabelText,\n    hintText: periodTypeLabelText,\n    menuItems: collection,\n    onChange: onDropDownChange,\n    value: selectedPeriodType\n  }), selectedPeriodType && isFixedPeriodType(selectedPeriodType) && /*#__PURE__*/React.createElement(PeriodPicker, {\n    periodType: selectedPeriodType,\n    onPickPeriod: selectPeriod\n  }), formLabel.styles);\n}\nPeriodPickerWithPeriodType.propTypes = {\n  collection: PropTypes.array.isRequired,\n  label: PropTypes.string.isRequired,\n  selectPeriod: PropTypes.func.isRequired,\n  selectPeriodType: PropTypes.func.isRequired,\n  selectedPeriodType: PropTypes.string\n};\n\nconst mapStateToProps = state => ({ ...state.reportPeriod,\n  collection: getFilteredPeriodTypes(state)\n});\n\nexport default connect(mapStateToProps, {\n  selectPeriodType,\n  selectPeriod\n})(PeriodPickerWithPeriodType);","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { CheckBox, Button } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { DataSetDimensions } from '../../components/DataSetDimensions.js';\nimport DataSets from '../../components/DatasetsDropdown.js';\nimport { OrgUnitsTreeWithExtraOptions } from '../../components/OrgUnitsTreeWithExtraOptions.js';\nimport PeriodPickerComponent from '../../components/PeriodPickerWithPeriodType.js';\n\nconst Form = props => /*#__PURE__*/React.createElement(\"div\", {\n  id: \"data-set-report-form\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"row\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-xs-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(OrgUnitsTreeWithExtraOptions, null)), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-xs-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  id: \"data-set-selection\"\n}, /*#__PURE__*/React.createElement(DataSets, {\n  onChange: props.onDataSetChange\n})), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"data-set-dimensions-container\"\n}, /*#__PURE__*/React.createElement(DataSetDimensions, null)), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"report-period\"\n}, /*#__PURE__*/React.createElement(PeriodPickerComponent, {\n  label: i18n.t('Report period')\n})), /*#__PURE__*/React.createElement(CheckBox, {\n  id: \"selected-unit-only\",\n  onChange: props.onSelectedUnitOnlyChange,\n  value: props.selectedUnitOnly,\n  label: i18n.t('Use data for selected unit only')\n}))), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"main-action-button\",\n  className: \"jsx-1033327044\"\n}, /*#__PURE__*/React.createElement(Button, {\n  id: \"main-action-button\",\n  raised: true,\n  color: \"primary\",\n  onClick: props.onGetReportClick,\n  disabled: props.isGetReportDisabled\n}, i18n.t('Get Report')), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"1033327044\"\n}, [\"div.jsx-1033327044{display:block;margin-top:48px;margin-bottom:16px;}\"])));\n\nForm.propTypes = {\n  isGetReportDisabled: PropTypes.bool.isRequired,\n  selectedUnitOnly: PropTypes.bool.isRequired,\n  onDataSetChange: PropTypes.func.isRequired,\n  onGetReportClick: PropTypes.func.isRequired,\n  onSelectedUnitOnlyChange: PropTypes.func.isRequired\n};\nexport default Form;","import Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Snackbar } from '../components/feedback/Snackbar.js';\nimport { SectionHeadline } from '../components/SectionHeadline.js';\nimport { DATA_SET_REPORT_SECTION_KEY, sections } from '../config/sections.config.js';\nimport { reportContent } from '../utils/react/propTypes.js';\nimport { container } from '../utils/styles/shared.js';\nimport { connectDataSetReport } from './data-set-report/connectDataSetReport.js';\nimport DataSetReportOutput from './data-set-report/DataSetReportOutput.js';\nimport Form from './data-set-report/Form.js';\n\nconst DataSetReport = props => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SectionHeadline, {\n  label: sections[DATA_SET_REPORT_SECTION_KEY].info.label,\n  sectionKey: DATA_SET_REPORT_SECTION_KEY\n}), /*#__PURE__*/React.createElement(Paper, {\n  className: container.className\n}, /*#__PURE__*/React.createElement(\"div\", {\n  id: \"data-set-report-form\"\n}, /*#__PURE__*/React.createElement(Form, {\n  selectedUnitOnly: props.selectedUnitOnly,\n  onDataSetChange: props.selectDataSet,\n  onSelectedUnitOnlyChange: props.toggleSelectedUnitOnly,\n  onGetReportClick: props.loadReportData,\n  isGetReportDisabled: !props.isActionEnabled\n}))), /*#__PURE__*/React.createElement(DataSetReportOutput, {\n  isHtmlReport: props.isHtmlReport,\n  content: props.reportContent,\n  isLoading: props.isReportLoading,\n  fileUrls: props.fileUrls,\n  reportComment: props.reportComment,\n  shareDataSetReportComment: props.shareDataSetReportComment,\n  setDataSetReportComment: props.setDataSetReportComment\n}), container.styles, /*#__PURE__*/React.createElement(Snackbar, null));\n\nDataSetReport.propTypes = {\n  fileUrls: PropTypes.array.isRequired,\n  isActionEnabled: PropTypes.bool.isRequired,\n  isHtmlReport: PropTypes.bool.isRequired,\n  isReportLoading: PropTypes.bool.isRequired,\n  loadReportData: PropTypes.func.isRequired,\n  reportComment: PropTypes.string.isRequired,\n  reportContent: reportContent.isRequired,\n  selectDataSet: PropTypes.func.isRequired,\n  selectedUnitOnly: PropTypes.bool.isRequired,\n  setDataSetReportComment: PropTypes.func.isRequired,\n  shareDataSetReportComment: PropTypes.func.isRequired,\n  toggleSelectedUnitOnly: PropTypes.func.isRequired\n};\nconst ConnectedDataSetReport = connectDataSetReport(DataSetReport);\nexport { ConnectedDataSetReport as DataSetReport };","import _JSXStyle from \"styled-jsx/style\";\nimport Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { card } from '../utils/styles/shared.js';\n\nconst MenuElement = ({\n  entry\n}) => /*#__PURE__*/React.createElement(Paper, {\n  className: card.className\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2223066612\" + \" \" + \"section-title-bar\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2223066612\" + \" \" + \"section-name\"\n}, entry.label), /*#__PURE__*/React.createElement(\"span\", {\n  className: \"jsx-2223066612\" + \" \" + \"material-icons icon section-icon\"\n}, entry.icon)), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2223066612\" + \" \" + \"section-description\"\n}, entry.description), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2223066612\" + \" \" + \"section-action-text\"\n}, entry.actionText), card.styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2223066612\"\n}, [\".section-title-bar.jsx-2223066612{margin-top:28px;min-height:42px;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \".section-name.jsx-2223066612{font-size:24px;text-align:left;color:#000000;}\", \".section-icon.jsx-2223066612{float:right;color:#757575;font-size:50px;}\", \".section-description.jsx-2223066612{font-size:14px;text-align:left;color:#757575;margin-top:38px;margin-bottom:38px;display:block;}\", \".section-action-text.jsx-2223066612{position:absolute;bottom:20px;display:block;font-size:16px;font-weight:600;text-align:left;color:#2196f3;}\"]));\n\nMenuElement.propTypes = {\n  entry: PropTypes.shape({\n    actionText: PropTypes.string,\n    description: PropTypes.string,\n    icon: PropTypes.string,\n    label: PropTypes.string\n  }).isRequired\n};\nexport default MenuElement;","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport MenuElement from '../../components/MenuElement.js';\nimport { sectionOrder, sections } from '../../config/sections.config.js';\n\nconst Home = () => {\n  const menuCards = sectionOrder.map(sectionKey => {\n    const element = sections[sectionKey];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: element.key,\n      className: \"jsx-4277548905\" + \" \" + \"col-sm-12 col-md-6 col-lg-4\"\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: element.path,\n      className: \"menu-card-link\"\n    }, /*#__PURE__*/React.createElement(MenuElement, {\n      entry: element.info\n    })), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"4277548905\"\n    }, [\"div.jsx-4277548905{margin-bottom:8px;}\", \"div.jsx-4277548905 .menu-card-link{-webkit-text-decoration:none !important;text-decoration:none !important;}\"]));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: 'menu-grid-id',\n    className: \"row\"\n  }, menuCards);\n};\n\nexport default Home;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport ReportLoader from './ReportLoader.js';\n\nconst BarChart = ({\n  content,\n  isLoading\n}) => /*#__PURE__*/React.createElement(ReportLoader, {\n  content: content,\n  isLoading: isLoading\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"chart\"\n}, /*#__PURE__*/React.createElement(Bar, {\n  data: content.data,\n  options: content.options\n})));\n\nBarChart.propTypes = {\n  content: PropTypes.object.isRequired,\n  isLoading: PropTypes.bool.isRequired\n};\nexport default BarChart;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport ReportLoader from './ReportLoader.js';\nimport { DownloadOptions } from './TabularReport/DownloadOptions.js';\nimport ReportTable from './TabularReport/ReportTable.js';\n\nconst TabularReport = ({\n  content,\n  isLoading,\n  fileUrls\n}) => /*#__PURE__*/React.createElement(ReportLoader, {\n  content: content,\n  isLoading: isLoading\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"tabular-report\"\n}, /*#__PURE__*/React.createElement(DownloadOptions, {\n  fileUrls: fileUrls\n}), /*#__PURE__*/React.createElement(ReportTable, {\n  content: content\n})));\n\nTabularReport.propTypes = {\n  content: PropTypes.object.isRequired,\n  fileUrls: PropTypes.array.isRequired,\n  isLoading: PropTypes.bool.isRequired\n};\nexport default TabularReport;","import { getOrgUnitDistReport } from '../../utils/api.js';\nimport { loadingReportDataStart, loadingReportDataSuccessWithFeedback, loadingReportDataErrorWithFeedback } from './reportData.js';\nexport const actionTypes = {\n  SET_TABULAR_OUTPUT: 'SET_TABULAR_OUTPUT',\n  SET_CHART_OUTPUT: 'SET_CHART_OUTPUT'\n};\n/**\n * @returns {Object}\n */\n\nexport const setOutputToChart = () => ({\n  type: actionTypes.SET_CHART_OUTPUT\n});\n/**\n * @returns {Object}\n */\n\nexport const setOutputToTabular = () => ({\n  type: actionTypes.SET_TABULAR_OUTPUT\n});\n/**\n * @returns {Function}\n */\n\nexport const loadChart = () => dispatch => {\n  dispatch(setOutputToChart());\n  dispatch(loadReport());\n};\n/**\n * @returns {Function}\n */\n\nexport const loadTable = () => dispatch => {\n  dispatch(setOutputToTabular());\n  dispatch(loadReport());\n};\n/**\n * @returns {Function}\n */\n\nexport const loadReport = () => (dispatch, getState) => {\n  dispatch(loadingReportDataStart());\n  const {\n    organisationUnits,\n    orgUnitGroupSets,\n    orgUnitDistReport: {\n      shouldShowChart\n    }\n  } = getState();\n  const orgUnit = organisationUnits.selected;\n  const groupSetId = orgUnitGroupSets.selected;\n  return getOrgUnitDistReport(orgUnit, groupSetId, shouldShowChart).then(response => dispatch(loadingReportDataSuccessWithFeedback(response, shouldShowChart))).catch(error => dispatch(loadingReportDataErrorWithFeedback(error)));\n};","export const getIsActionEnabled = state => !!(state.organisationUnits.selected && state.orgUnitGroupSets.selected && !state.reportData.loading);","export const FONT_FAMILY = \"'Roboto', sans-serif\";\nexport const BASE_COLOR = '39, 102, 150'; // DHIS2 blue","/**\n * @param {Object} state - app state\n * @returns {String} - table title\n */\nexport function getTitle(state) {\n  return [state.reportData.content.headers[1].column, state.organisationUnits.selected.displayName].join(' - ');\n}","import i18n from '@dhis2/d2-i18n';\nimport isEmpty from 'lodash.isempty';\nimport { FONT_FAMILY, BASE_COLOR } from '../../../config/style.config.js';\nimport createDataTransformCache from '../../../utils/dataTransformCache.js';\nimport { getTitle } from '../../../utils/dataTransformHelpers.js';\nexport const cache = createDataTransformCache();\n/**\n * @param {Object} state - App state\n * @returns {Object} - Transformed table data that can be consumed by BarChart\n */\n\nexport default function getTransformedChartData(state) {\n  const data = state.reportData.content;\n\n  if (isEmpty(data)) {\n    return data;\n  }\n\n  if (cache.hasValidCacheFor(data)) {\n    return cache.getCachedResult();\n  }\n\n  const chartData = getChartData(getLabels(data.headers), getDataPoints(data.rows[0]), getTitle(state));\n  cache.setCachedResult(data, chartData);\n  return chartData;\n}\n\nfunction getLabels(headers) {\n  return headers.reduce((acc, header, index) => {\n    if (index > 0) {\n      acc.push(header.column);\n    }\n\n    return acc;\n  }, []);\n}\n\nfunction getDataPoints(cells) {\n  return cells.reduce((acc, cell, index) => {\n    if (index > 0) {\n      acc.push(parseInt(cell, 10));\n    }\n\n    return acc;\n  }, []);\n}\n\nfunction getChartData(labels, data, title) {\n  return {\n    data: {\n      labels,\n      datasets: [{\n        label: i18n.t('Count'),\n        backgroundColor: `rgba(${BASE_COLOR}, 0.6)`,\n        borderColor: `rgb(${BASE_COLOR})`,\n        borderWidth: 1,\n        hoverBackgroundColor: `rgba(${BASE_COLOR}, 0.8)`,\n        data\n      }]\n    },\n    options: {\n      title: {\n        display: true,\n        text: title,\n        fontSize: '16',\n        fontFamily: FONT_FAMILY\n      },\n      legend: {\n        position: 'bottom',\n        fontFamily: FONT_FAMILY\n      },\n      animation: {\n        duration: 180\n      }\n    }\n  };\n}","import i18n from '@dhis2/d2-i18n';\nimport isEmpty from 'lodash.isempty';\nimport createDataTransformCache from '../../../utils/dataTransformCache.js';\nimport { getTitle } from '../../../utils/dataTransformHelpers.js';\nconst orgUnitColumnDisplayName = i18n.t('Organisation Unit');\nconst totalColumnDisplayName = i18n.t('Total');\nexport const cache = createDataTransformCache();\n/**\n * @param {Object} state - App state\n * @returns {Object} - Transformed table data that can be consumed by TabularReport\n */\n\nexport default function getTransformedTableData(state) {\n  const data = state.reportData.content;\n\n  if (isEmpty(data)) {\n    return data;\n  }\n\n  if (cache.hasValidCacheFor(data)) {\n    return cache.getCachedResult();\n  }\n\n  const tableData = {\n    title: getTitle(state),\n    headers: getHeaders(data.headers),\n    rows: getRows(state)\n  };\n  cache.setCachedResult(data, tableData);\n  return tableData;\n}\n/**\n * @param {Array} headers - The headers array from the response data structure\n * @returns {Array<String>} - table header names\n */\n\nfunction getHeaders(headers) {\n  return [...headers.map(header => header.name === 'ou' ? orgUnitColumnDisplayName : header.column), totalColumnDisplayName];\n}\n/**\n * @param {Object} state - app state\n * @returns {Array} - a nested array containing values for each column\n */\n\n\nfunction getRows(state) {\n  const {\n    rows\n  } = state.reportData.content;\n  const selectedOrgUnitName = state.organisationUnits.selected.displayName;\n  return rows.map(toNumericWithTotal).sort((rowA, rowB) => ascByNameWithParentBelow(rowA, rowB, selectedOrgUnitName));\n}\n\nfunction toNumericWithTotal(cells) {\n  const cellsWithTotals = cells.reduce((acc, cellStr, index) => {\n    if (index === 0) {\n      acc.cells.push(cellStr);\n    } else {\n      const cellVal = cellStr ? parseInt(cellStr, 10) : 0;\n      acc.cells.push(cellVal);\n      acc.total += cellVal;\n    }\n\n    return acc;\n  }, {\n    cells: [],\n    total: 0\n  });\n  return [...cellsWithTotals.cells, cellsWithTotals.total];\n}\n/**\n * This function is used to sort the rows, which needs to be done ASC by name\n * with the exception of the parent orgUnit, which should be the last item\n * @param {Array} a - current row, with org unit name at index 0\n * @param {Array} b - next row\n * @param {String} selectedOrgUnitName - name of the org unit parent\n * @returns {Number} - values 1 || -1 || 0 for sorting\n */\n\n\nfunction ascByNameWithParentBelow(a, b, selectedOrgUnitName) {\n  const nameA = a[0].toUpperCase();\n  const nameB = b[0].toUpperCase();\n  const upperOrgUnitName = selectedOrgUnitName.toUpperCase();\n\n  if (nameB === upperOrgUnitName) {\n    return -1;\n  }\n\n  if (nameA === upperOrgUnitName) {\n    return 1;\n  }\n\n  return nameA.localeCompare(nameB);\n}","import { connect } from 'react-redux';\nimport { loadChart, loadTable } from '../../redux/actions/orgUnitDistReport.js';\nimport { loadGroupSetOptions } from '../../redux/actions/orgUnitGroupSets.js';\nimport { getIsActionEnabled } from '../../redux/selectors/orgUnitDistReport/getIsActionEnabled.js';\nimport getTransformedChartData from '../../redux/selectors/orgUnitDistReport/getTransformedChartData.js';\nimport getTransformedTableData from '../../redux/selectors/orgUnitDistReport/getTransformedTableData.js';\n\nconst mapStateToProps = state => ({\n  shouldShowChart: state.orgUnitDistReport.shouldShowChart,\n  loading: state.reportData.loading,\n  reportContent: state.orgUnitDistReport.shouldShowChart ? getTransformedChartData(state) : getTransformedTableData(state),\n  fileUrls: state.reportData.content.fileUrls || [],\n  isActionEnabled: getIsActionEnabled(state),\n  groupSetsReady: !!state.orgUnitGroupSets.collection.length\n});\n\nconst mapDispatchToProps = {\n  loadChart,\n  loadTable,\n  loadGroupSetOptions\n};\nexport const connectOrganisationUnitDistributionReport = connect(mapStateToProps, mapDispatchToProps);","import i18n from '@dhis2/d2-i18n';\nimport { DropDown } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { setGroupSet } from '../redux/actions/orgUnitGroupSets.js';\nimport { formLabel } from '../utils/styles/shared.js';\nconst label = i18n.t('Group Set');\nconst hintText = i18n.t('Select Group Set');\nexport const GroupSetsDropdown = props => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"span\", {\n  className: formLabel.className\n}, label), /*#__PURE__*/React.createElement(DropDown, {\n  fullWidth: props.fullWidth,\n  value: props.selected,\n  onChange: props.selectGroupSet,\n  menuItems: props.collection,\n  includeEmpty: true,\n  emptyLabel: hintText,\n  hintText: hintText\n}), formLabel.styles);\nGroupSetsDropdown.propTypes = {\n  collection: PropTypes.array.isRequired,\n  selectGroupSet: PropTypes.func.isRequired,\n  selected: PropTypes.string.isRequired,\n  fullWidth: PropTypes.bool\n};\nGroupSetsDropdown.defaultProps = {\n  fullWidth: true\n};\n\nconst mapStateToProps = state => ({\n  collection: state.orgUnitGroupSets.collection,\n  selected: state.orgUnitGroupSets.selected\n});\n\nconst mapDispatchToProps = dispatch => ({\n  selectGroupSet: e => dispatch(setGroupSet(e.target.value))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GroupSetsDropdown);","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport OrganisationUnitsTree from '../../components/AvailableOrganisationUnitsTree.js';\nimport GroupSets from '../../components/GroupSetsDropdown.js';\nimport { formLabel, actionsContainer } from '../../utils/styles/shared.js';\nexport const Form = props => /*#__PURE__*/React.createElement(\"div\", {\n  id: \"org-unit-dist-report-form\",\n  className: \"jsx-3036976882\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3036976882\" + \" \" + \"row\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3036976882\" + \" \" + \"col-xs-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3036976882\" + \" \" + (formLabel.className || \"\")\n}, i18n.t('Report organisation unit')), /*#__PURE__*/React.createElement(OrganisationUnitsTree, null)), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3036976882\" + \" \" + \"col-xs-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  id: \"group-sets-selection\",\n  className: \"jsx-3036976882\"\n}, /*#__PURE__*/React.createElement(GroupSets, null)))), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"actions\",\n  className: \"jsx-3036976882\" + \" \" + (actionsContainer.className || \"\")\n}, /*#__PURE__*/React.createElement(Button, {\n  raised: true,\n  color: \"primary\",\n  onClick: props.onGetReportClick,\n  disabled: !props.isActionEnabled\n}, i18n.t('Get Report')), /*#__PURE__*/React.createElement(Button, {\n  raised: true,\n  color: \"accent\",\n  onClick: props.onGetChartClick,\n  disabled: !props.isActionEnabled\n}, i18n.t('Get Chart'))), formLabel.styles, actionsContainer.styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"3036976882\"\n}, [\"div.jsx-3036976882 #actions.jsx-3036976882 .d2-ui-button:first-child{margin-right:16px;}\"]));\nForm.propTypes = {\n  isActionEnabled: PropTypes.bool.isRequired,\n  onGetChartClick: PropTypes.func.isRequired,\n  onGetReportClick: PropTypes.func.isRequired\n};","import Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport BarChart from '../components/BarChart.js';\nimport { Snackbar } from '../components/feedback/Snackbar.js';\nimport { SectionHeadline } from '../components/SectionHeadline.js';\nimport TabularReport from '../components/TabularReport.js';\nimport { ORG_UNIT_DIST_REPORT_SECTION_KEY, sections } from '../config/sections.config.js';\nimport { reportContent } from '../utils/react/propTypes.js';\nimport { container } from '../utils/styles/shared.js';\nimport { connectOrganisationUnitDistributionReport } from './organisation-unit-distribution-report/connectOrganisationUnitDistributionReport.js';\nimport { Form } from './organisation-unit-distribution-report/Form.js';\n\nclass OrganisationUnitDistributionReport extends React.Component {\n  componentDidMount() {\n    if (!this.props.groupSetsReady) {\n      this.props.loadGroupSetOptions();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SectionHeadline, {\n      label: sections[ORG_UNIT_DIST_REPORT_SECTION_KEY].info.label,\n      sectionKey: ORG_UNIT_DIST_REPORT_SECTION_KEY\n    }), /*#__PURE__*/React.createElement(Paper, {\n      className: container.className\n    }, /*#__PURE__*/React.createElement(Form, {\n      isActionEnabled: this.props.isActionEnabled,\n      onGetReportClick: this.props.loadTable,\n      onGetChartClick: this.props.loadChart\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"report-container\"\n    }, !this.props.shouldShowChart && /*#__PURE__*/React.createElement(TabularReport, {\n      content: this.props.reportContent,\n      isLoading: this.props.loading,\n      fileUrls: this.props.fileUrls\n    }), this.props.shouldShowChart && /*#__PURE__*/React.createElement(BarChart, {\n      content: this.props.reportContent,\n      isLoading: this.props.loading\n    })), /*#__PURE__*/React.createElement(Snackbar, null), container.styles);\n  }\n\n}\n\nOrganisationUnitDistributionReport.propTypes = {\n  fileUrls: PropTypes.array.isRequired,\n  groupSetsReady: PropTypes.bool.isRequired,\n  isActionEnabled: PropTypes.bool.isRequired,\n  loadChart: PropTypes.func.isRequired,\n  loadGroupSetOptions: PropTypes.func.isRequired,\n  loadTable: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  reportContent: reportContent.isRequired,\n  shouldShowChart: PropTypes.bool.isRequired\n};\nconst ConnectedOrganisationUnitDistributionReport = connectOrganisationUnitDistributionReport(OrganisationUnitDistributionReport);\nexport { ConnectedOrganisationUnitDistributionReport as OrganisationUnitDistributionReport };","export const getIsActionEnabled = state => !!(state.organisationUnits.selected && state.reportPeriod.selectedPeriod && state.dataSet.selected.id && !state.reportData.loading);","import i18n from '@dhis2/d2-i18n';\nimport isEmpty from 'lodash.isempty';\nimport createDataTransformCache from '../../../utils/dataTransformCache.js';\nconst cache = createDataTransformCache();\nconst nameColumnDisplayName = i18n.t('Name');\nconst rowIndexesToRead = [1, // Org unit name\n4, // column values\n5, 6, 7, 8];\nexport default function getTransformedTableData(state) {\n  const data = state.reportData.content;\n\n  if (isEmpty(data)) {\n    return data;\n  }\n\n  if (cache.hasValidCacheFor(data)) {\n    return cache.getCachedResult();\n  }\n\n  const tableData = {\n    title: parseTitle(state),\n    headers: parseHeaders(data),\n    rows: parseRows(data.rows)\n  };\n  cache.setCachedResult(data, tableData);\n  return tableData;\n}\nexport function parseTitle(state) {\n  return [state.organisationUnits.selected.displayName, state.dataSet.selected.displayName, state.reportData.content.title].join(' - ');\n}\nexport function parseHeaders(data) {\n  return data.metaData.dimensions.dx.reduce((acc, dimensionCode) => {\n    acc.push(data.metaData.items[dimensionCode].name);\n    return acc;\n  }, [nameColumnDisplayName]);\n}\nexport function parseRows(rowsWithAllFields) {\n  return rowsWithAllFields.map(row => rowIndexesToRead.reduce((acc, rowIndex) => {\n    acc.push(row[rowIndex]);\n    return acc;\n  }, [])).sort((a, b) => parseFloat(b[b.length - 1]) - parseFloat(a[a.length - 1]));\n}","import { connect } from 'react-redux';\nimport { loadReportData } from '../../redux/actions/reportingRateSummary.js';\nimport { getIsActionEnabled } from '../../redux/selectors/reportingRateSummary/getIsActionEnabled.js';\nimport getTransformedTableData from '../../redux/selectors/reportingRateSummary/getTransformedTableData.js';\n\nconst mapStateToProps = state => ({\n  reportContent: getTransformedTableData(state),\n  fileUrls: state.reportData.content.fileUrls || [],\n  isReportLoading: state.reportData.loading,\n  isActionEnabled: getIsActionEnabled(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  loadReportData: () => dispatch(loadReportData())\n});\n\nexport const connectReportingRateSummary = connect(mapStateToProps, mapDispatchToProps);","import { getReportingRateSummaryReport } from '../../utils/api.js';\nimport { loadingReportDataStart, loadingReportDataSuccessWithFeedback, loadingReportDataErrorWithFeedback } from './reportData.js';\n/**\n * @returns {Function} redux thunk\n */\n\nexport const loadReportData = () => (dispatch, getState) => {\n  dispatch(loadingReportDataStart());\n  const {\n    organisationUnits,\n    dataSet,\n    reportPeriod\n  } = getState();\n  return getReportingRateSummaryReport(organisationUnits.selected, dataSet.selected.id, reportPeriod.selectedPeriod, organisationUnits.selectedOptions).then(response => dispatch(loadingReportDataSuccessWithFeedback(response))).catch(error => dispatch(loadingReportDataErrorWithFeedback(error)));\n};","import i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport DataSets from '../../components/DatasetsDropdown.js';\nimport { OrgUnitsTreeWithExtraOptions } from '../../components/OrgUnitsTreeWithExtraOptions.js';\nimport PeriodPickerComponent from '../../components/PeriodPickerWithPeriodType.js';\nimport { actionsContainer } from '../../utils/styles/shared.js';\nexport const Form = props => /*#__PURE__*/React.createElement(\"div\", {\n  id: \"report-rate-summary-form\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"row\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-xs-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(OrgUnitsTreeWithExtraOptions, null)), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-xs-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  id: \"data-set-selection\"\n}, /*#__PURE__*/React.createElement(DataSets, null)), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"report-period\"\n}, /*#__PURE__*/React.createElement(PeriodPickerComponent, {\n  label: i18n.t('Report period')\n})))), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"main-action-button\",\n  className: actionsContainer.className\n}, /*#__PURE__*/React.createElement(Button, {\n  raised: true,\n  color: \"primary\",\n  onClick: props.loadReportData,\n  disabled: !props.isActionEnabled\n}, i18n.t('Get Report'))), actionsContainer.styles);\nForm.propTypes = {\n  isActionEnabled: PropTypes.bool.isRequired,\n  loadReportData: PropTypes.func.isRequired\n};\nForm.defaultProps = {\n  showForm: true\n};","import Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Snackbar } from '../components/feedback/Snackbar.js';\nimport { SectionHeadline } from '../components/SectionHeadline.js';\nimport TabularReport from '../components/TabularReport.js';\nimport { REPORTING_RATE_SUMMARY_SECTION_KEY, sections } from '../config/sections.config.js';\nimport { reportContent } from '../utils/react/propTypes.js';\nimport { container } from '../utils/styles/shared.js';\nimport { connectReportingRateSummary } from './reporting-rate-summary/connectReportingRateSummary.js';\nimport { Form } from './reporting-rate-summary/Form.js';\n\nconst ReportingRateSummary = props => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SectionHeadline, {\n  label: sections[REPORTING_RATE_SUMMARY_SECTION_KEY].info.label,\n  sectionKey: REPORTING_RATE_SUMMARY_SECTION_KEY\n}), /*#__PURE__*/React.createElement(Paper, {\n  className: container.className\n}, /*#__PURE__*/React.createElement(Form, {\n  loadReportData: props.loadReportData,\n  isActionEnabled: props.isActionEnabled\n})), /*#__PURE__*/React.createElement(TabularReport, {\n  content: props.reportContent,\n  isLoading: props.isReportLoading,\n  fileUrls: props.fileUrls\n}), /*#__PURE__*/React.createElement(Snackbar, null), container.styles);\n\nReportingRateSummary.propTypes = {\n  fileUrls: PropTypes.array.isRequired,\n  isActionEnabled: PropTypes.bool.isRequired,\n  isReportLoading: PropTypes.bool.isRequired,\n  loadReportData: PropTypes.func.isRequired,\n  reportContent: reportContent.isRequired\n};\nconst ConnectedReportingRateSummary = connectReportingRateSummary(ReportingRateSummary);\nexport { ConnectedReportingRateSummary as ReportingRateSummary };","export default function getPagerCurrentlyShown(state) {\n  const {\n    pageSize,\n    total,\n    page\n  } = state.pagination;\n  const projectedEnd = page * pageSize;\n  const start = projectedEnd - pageSize + 1;\n  const end = projectedEnd > total ? total : projectedEnd;\n  return `${start} - ${end}`;\n}","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, Pagination, SvgIcon } from '@dhis2/d2-ui-core';\nimport '@dhis2/d2-ui-core/css/Pagination.css';\nimport '@dhis2/d2-ui-core/css/Table.css';\nimport Table from '@dhis2/d2-ui-table';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TextField from '@material-ui/core/TextField';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport getPagerCurrentlyShown from '../redux/selectors/pagination/getPagerCurrentlyShown.js';\nconst searchText = i18n.t('Search');\n\nconst SearchablePagedList = props => {\n  const pagination = /*#__PURE__*/React.createElement(Pagination, {\n    total: props.pagerTotal,\n    hasNextPage: props.pagerHasNextPage,\n    hasPreviousPage: props.pagerHasPreviousPage,\n    currentlyShown: props.pagerCurrentlyShown,\n    onNextPageClick: props.goToNextPage,\n    onPreviousPageClick: props.goToPrevPage\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}`\n  }, pagination, /*#__PURE__*/React.createElement(TextField, {\n    className: \"search-input\",\n    value: props.searchInputValue,\n    type: \"search\",\n    label: searchText,\n    onChange: props.searchInputChangeHandler\n  }), /*#__PURE__*/React.createElement(Table, {\n    rows: props.isLoading ? [] : props.rows,\n    columns: props.columns,\n    contextMenuActions: props.contextMenuActions,\n    primaryAction: props.primaryAction,\n    contextMenuIcons: props.contextMenuIcons,\n    isContextActionAllowed: props.isContextActionAllowed\n  }), props.isLoading && /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"data-table-fake-row\"\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    size: 32,\n    className: \"loader\"\n  })), props.rows.length === 0 && !props.isLoading && /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"data-table-fake-row\"\n  }, i18n.t('No results have been found')), pagination, /*#__PURE__*/React.createElement(Button, {\n    id: 'add-resource-btn-id',\n    fab: true,\n    onClick: props.addButtonClickHandler\n  }, /*#__PURE__*/React.createElement(SvgIcon, {\n    icon: \"Add\"\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\n\nconst styles = [\"div.jsx-559166881>.search-input input.jsx-559166881{-webkit-appearance:textfield;}\", \"div.jsx-559166881>.search-input{width:400px;}\", \"div.jsx-559166881>.data-table-pager{float:right;padding-top:8px;}\", \"div.jsx-559166881>.d2-ui-button{position:fixed;bottom:1.5rem;right:1.5rem;}\", \".data-table-fake-row.jsx-559166881{position:relative;height:50px;line-height:50px;background-color:#ffffff;text-align:center;font-style:italic;color:#757575;box-shadow:0 1px 3px 0 rgba(0,0,0,0.12), 0 1px 2px 0 rgba(0,0,0,0.24);}\", \".data-table-fake-row.jsx-559166881 .loader{margin-top:8px;}\"];\nstyles.__hash = \"559166881\";\nSearchablePagedList.propTypes = {\n  addButtonClickHandler: PropTypes.func.isRequired,\n  columns: PropTypes.arrayOf(PropTypes.string).isRequired,\n  contextMenuActions: PropTypes.object.isRequired,\n  contextMenuIcons: PropTypes.object.isRequired,\n  goToNextPage: PropTypes.func.isRequired,\n  goToPrevPage: PropTypes.func.isRequired,\n  isContextActionAllowed: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  pagerCurrentlyShown: PropTypes.string.isRequired,\n  pagerHasNextPage: PropTypes.func.isRequired,\n  pagerHasPreviousPage: PropTypes.func.isRequired,\n  pagerTotal: PropTypes.number.isRequired,\n  primaryAction: PropTypes.func.isRequired,\n  rows: PropTypes.array.isRequired,\n  searchInputChangeHandler: PropTypes.func.isRequired,\n  searchInputValue: PropTypes.string.isRequired\n};\n\nconst mapStateToProps = state => ({\n  pagerTotal: state.pagination.total,\n  pagerHasNextPage: () => state.pagination.page < state.pagination.pageCount,\n  pagerHasPreviousPage: () => state.pagination.page > 1,\n  pagerCurrentlyShown: getPagerCurrentlyShown(state)\n});\n\nexport default connect(mapStateToProps)(SearchablePagedList);","import i18n from '@dhis2/d2-i18n';\nexport const resourceTypes = {\n  UPLOAD_FILE: 'UPLOAD_FILE',\n  EXTERNAL_URL: 'EXTERNAL_URL'\n};\nexport const resourceTypeOptions = [{\n  value: resourceTypes.EXTERNAL_URL,\n  label: i18n.t('External url')\n}, {\n  value: resourceTypes.UPLOAD_FILE,\n  label: i18n.t('Upload file')\n}];\nexport const resourceActions = {\n  NEW: 'newResource',\n  VIEW: 'viewResource',\n  EDIT: 'editResource',\n  SHARING_SETTINGS: 'sharingSettings',\n  DELETE: 'delete'\n};\nexport const contextMenuIcons = {\n  [resourceActions.VIEW]: 'arrow_right',\n  [resourceActions.EDIT]: 'edit',\n  [resourceActions.SHARING_SETTINGS]: 'people',\n  [resourceActions.DELETE]: 'delete'\n};","export const DEBOUNCE_DELAY = 500;","export const actionTypes = {\n  GO_TO_NEXT_PAGE: 'GO_TO_NEXT_PAGE',\n  GO_TO_PREV_PAGE: 'GO_TO_PREV_PAGE',\n  SET_PAGINATION: 'SET_PAGINATION',\n  RESET_PAGINATION: 'RESET_PAGINATION'\n};\n/**\n * @return {Object}\n */\n\nexport const goToNextPage = () => ({\n  type: actionTypes.GO_TO_NEXT_PAGE\n});\n/**\n * @return {Object}\n */\n\nexport const goToPrevPage = () => ({\n  type: actionTypes.GO_TO_PREV_PAGE\n});\n/**\n * @param {Object} pagination\n * @returns {Object}\n */\n\nexport const setPagination = pagination => ({\n  type: actionTypes.SET_PAGINATION,\n  payload: pagination\n});\n/**\n * returns {Object}\n */\n\nexport const resetPagination = () => ({\n  type: actionTypes.RESET_PAGINATION\n});","import i18n from '@dhis2/d2-i18n';\nimport { push } from 'connected-react-router';\nimport debounce from 'lodash.debounce';\nimport { DEBOUNCE_DELAY } from '../../config/search.config.js';\nimport { RESOURCE_ENDPOINT, getApi, getResources, getResourceById, postResource, putResource, deleteResource as sendDeleteResourceRequest } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showSuccessSnackBar, showErrorSnackBar, showConfirmationSnackBar } from './feedback.js';\nimport { goToNextPage as goToNextPageOrig, goToPrevPage as goToPrevPageOrig, resetPagination, setPagination } from './pagination.js';\nexport const actionTypes = {\n  LOADING_RESOURCES_START: 'LOADING_RESOURCES_START',\n  LOADING_RESOURCES_SUCCESS: 'LOADING_RESOURCES_SUCCESS',\n  LOADING_RESOURCES_ERROR: 'LOADING_RESOURCES_ERROR',\n  SET_RESOURCE_SEARCH: 'SET_RESOURCE_SEARCH',\n  VIEW_RESOURCE: 'VIEW_RESOURCE',\n  SHOW_SHARING_SETTINGS: 'SHOW_SHARING_SETTINGS',\n  SET_RESOURCE: 'SET_RESOURCE',\n  REQUEST_DELETE_RESOURCE: 'REQUEST_DELETE_RESOURCE',\n  DELETE_RESOURCE_START: 'DELETE_RESOURCE_START',\n  DELETE_RESOURCE_SUCCESS: 'DELETE_RESOURCE_SUCCESS',\n  DELETE_RESOURCE_ERROR: 'DELETE_RESOURCE_ERROR',\n  CLEAR_SELECTED_RESOURCE: 'CLEAR_SELECTED_RESOURCE',\n  RESOURCE_ADD_LOADING_START: 'RESOURCE_ADD_LOADING_START',\n  RESOURCE_ADD_LOADING_SUCCESS: 'RESOURCE_ADD_LOADING_SUCCESS',\n  RESOURCE_ADD_LOADING_ERROR: 'RESOURCE_ADD_LOADING_ERROR',\n  RESOURCE_EDIT_LOADING_START: 'RESOURCE_EDIT_LOADING_START',\n  RESOURCE_EDIT_LOADING_SUCCESS: 'RESOURCE_EDIT_LOADING_SUCCESS',\n  RESOURCE_EDIT_LOADING_ERROR: 'RESOURCE_EDIT_LOADING_ERROR'\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingResourcesStart = () => ({\n  type: actionTypes.LOADING_RESOURCES_START\n});\n/**\n * @param {Array} resources\n * @returns {Object}\n */\n\nexport const loadingResourcesSuccess = resources => ({\n  type: actionTypes.LOADING_RESOURCES_SUCCESS,\n  payload: resources\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingResourcesError = () => ({\n  type: actionTypes.LOADING_RESOURCES_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingResourcesErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the resources!');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingResourcesError());\n};\n/**\n * @returns {Function}\n */\n\nexport const loadResources = () => (dispatch, getState) => {\n  dispatch(loadingResourcesStart());\n  const {\n    pagination,\n    resource\n  } = getState();\n  const {\n    page,\n    pageSize\n  } = pagination;\n  const {\n    search\n  } = resource;\n  return getResources(page, pageSize, search).then(response => {\n    dispatch(loadingResourcesSuccess(response.documents));\n    dispatch(setPagination(response.pager));\n  }).catch(error => {\n    dispatch(loadingResourcesErrorWithFeedback(error));\n  });\n};\n/**\n * @param {number} nextPage\n * @return {Function}\n */\n\nexport const goToNextPage = () => dispatch => {\n  dispatch(goToNextPageOrig());\n  dispatch(loadResources());\n};\n/**\n * @param {number} nextPage\n * @return {Function}\n */\n\nexport const goToPrevPage = () => dispatch => {\n  dispatch(goToPrevPageOrig());\n  dispatch(loadResources());\n};\n/**\n * @param {string} searchTerm\n * @returns {Object}\n */\n\nexport const setSearch = searchTerm => ({\n  type: actionTypes.SET_RESOURCE_SEARCH,\n  payload: searchTerm\n});\n/**\n * @param {string} searchTerm\n * @return {Function} Redux thunk\n */\n\nconst debouncedLoadResources = debounce(dispatch => dispatch(loadResources()), DEBOUNCE_DELAY);\nexport const setSearchAndLoadResources = searchTerm => dispatch => {\n  dispatch(setSearch(searchTerm));\n  debouncedLoadResources(dispatch);\n};\n/**\n * @param {Object} resource\n * @param {string} resource.id\n * @returns {Object}\n */\n\nexport const viewResource = resource => {\n  const {\n    id\n  } = resource;\n  const baseUrl = getApi().baseUrl;\n  const resourceUrl = `${baseUrl}/${RESOURCE_ENDPOINT}/${id}/data`;\n  window.open(resourceUrl);\n  return {\n    type: actionTypes.VIEW_RESOURCE,\n    payload: resource\n  };\n};\n/**\n * @param {Object} resource\n * @returns {Object}\n */\n\nexport const showSharingSettings = resource => ({\n  type: actionTypes.SHOW_SHARING_SETTINGS,\n  payload: resource\n});\n/**\n * @returns {Object}\n */\n\nexport const addResource = () => dispatch => {\n  dispatch(toResourceForm());\n};\n/**\n * @param {Object} resource\n * @returns {Object}\n */\n\nexport const editResource = resource => dispatch => {\n  dispatch(setResource(resource));\n  dispatch(toResourceForm(resource.id));\n};\n/**\n * @param {String} id\n * @returns {Object}\n */\n\nexport const toResourceForm = id => {\n  const path = id ? `/resource/edit/${id}` : '/resource/new';\n  return push(path);\n};\n/**\n * @param {String} id\n * @returns {Object}\n */\n\nexport const loadResource = id => async dispatch => {\n  const resource = await getResourceById(id);\n  return dispatch(setResource(resource));\n};\n/**\n * @param {Object} resource\n * @returns {Object}\n */\n\nexport const setResource = resource => ({\n  type: actionTypes.SET_RESOURCE,\n  payload: resource\n});\n/**\n * Used to get a confirmation from the user\n * @return {Object}\n */\n\nconst confirmationMessage = i18n.t('Do you really want to delete this resource?');\nexport const requestDeleteResource = resource => dispatch => {\n  dispatch({\n    type: actionTypes.REQUEST_DELETE_RESOURCE,\n    payload: resource\n  });\n  dispatch(showConfirmationSnackBar(confirmationMessage));\n};\nexport const deleteResourceStart = () => ({\n  type: actionTypes.DELETE_RESOURCE_START\n});\nexport const deleteResourceSuccess = () => ({\n  type: actionTypes.DELETE_RESOURCE_SUCCESS\n});\nexport const deleteResourceError = () => ({\n  type: actionTypes.DELETE_RESOURCE_ERROR\n});\nconst successMessage = i18n.t('The resource has been deleted successfully');\nexport const deleteResourceSuccessWithFeedback = () => dispatch => {\n  dispatch(showSuccessSnackBar(successMessage));\n  dispatch(deleteResourceSuccess());\n};\nconst defaultDeleteResourceErrorMessage = i18n.t('An error occurred when deleting the resource!');\nexport const deleteResourceErrorWithFeedback = error => dispatch => {\n  const message = humanReadableErrorMessage(error, defaultDeleteResourceErrorMessage);\n  dispatch(showErrorSnackBar(message));\n  dispatch(deleteResourceError());\n};\nexport const deleteResource = () => (dispatch, getState) => {\n  dispatch(deleteResourceStart());\n  const {\n    resource: {\n      selectedResource\n    }\n  } = getState();\n  return sendDeleteResourceRequest(selectedResource.id).then(() => {\n    dispatch(deleteResourceSuccessWithFeedback());\n    dispatch(loadResources());\n  }).catch(error => dispatch(deleteResourceErrorWithFeedback(error)));\n};\nexport const clearSelectedResource = () => ({\n  type: actionTypes.CLEAR_SELECTED_RESOURCE\n});\nexport const backToList = () => dispatch => {\n  dispatch(clearSelectedResource());\n  dispatch(push('/resource'));\n};\nexport const closeContextMenu = refreshList => dispatch => {\n  dispatch(clearSelectedResource());\n\n  if (refreshList) {\n    dispatch(resetPagination());\n    dispatch(loadResources());\n  }\n};\n/**\n *\n * Adding a resource\n *\n */\n\n/**\n * @returns {Object}\n */\n\nexport const loadingAddResourceStart = () => ({\n  type: actionTypes.RESOURCE_ADD_LOADING_START\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingAddResourceSuccess = () => ({\n  type: actionTypes.RESOURCE_ADD_LOADING_SUCCESS\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingAddResourceError = () => ({\n  type: actionTypes.RESOURCE_ADD_LOADING_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingAddResourceErrorWithFeedback = error => dispatch => {\n  const defaultAddResourceErrorMessage = i18n.t('An error occurred while adding the resource!');\n  const displayMessage = humanReadableErrorMessage(error, defaultAddResourceErrorMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingAddResourceError());\n};\n/**\n * @param {Object} resource\n * @param {File} [file]\n * @returns {Function}\n */\n\nexport const addNewResource = (resource, file) => dispatch => {\n  dispatch(loadingAddResourceStart());\n  postResource(resource, file).then(() => {\n    dispatch(loadingAddResourceSuccess());\n    dispatch(loadResources());\n  }).catch(error => {\n    dispatch(loadingAddResourceErrorWithFeedback(error));\n  });\n};\n/**\n *\n * Editing a resource\n *\n */\n\n/**\n * @returns {Object}\n */\n\nexport const loadingEditResourceStart = () => ({\n  type: actionTypes.RESOURCE_EDIT_LOADING_START\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingEditResourceSuccess = () => ({\n  type: actionTypes.RESOURCE_EDIT_LOADING_SUCCESS\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingEditResourceError = () => ({\n  type: actionTypes.RESOURCE_EDIT_LOADING_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingEditResourceErrorWithFeedback = error => dispatch => {\n  const defaultAddResourceErrorMessage = i18n.t('An error occurred while saving the modifications!');\n  const displayMessage = humanReadableErrorMessage(error, defaultAddResourceErrorMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingAddResourceError());\n};\n/**\n * @param {Object} resource\n * @param {File} [file]\n * @returns {Function}\n */\n\nexport const updateResource = (resource, file) => (dispatch, getState) => {\n  dispatch(loadingEditResourceStart());\n  const resourceId = getState().resource.selectedResource.id;\n  putResource(resourceId, resource, file).then(() => {\n    dispatch(loadingEditResourceSuccess());\n    dispatch(loadResources());\n  }).catch(error => {\n    dispatch(loadingEditResourceErrorWithFeedback(error));\n  });\n};","import { connect } from 'react-redux';\nimport { addResource, closeContextMenu, requestDeleteResource, deleteResource, editResource, goToNextPage, goToPrevPage, loadResources, setSearchAndLoadResources, showSharingSettings, viewResource } from '../../redux/actions/resource.js';\n\nconst mapStateToProps = state => ({\n  open: state.resource.open,\n  resources: state.resource.collection,\n  selectedAction: state.resource.selectedAction,\n  selectedResource: state.resource.selectedResource,\n  loadingResources: state.resource.loading,\n  search: state.resource.search,\n  pager: state.pagination\n});\n\nconst mapDispatchToProps = {\n  goToNextPage,\n  goToPrevPage,\n  loadResources,\n  requestDeleteResource,\n  deleteResource,\n  setSearch: event => setSearchAndLoadResources(event.target.value),\n  addResource,\n  viewResource,\n  editResource,\n  showSharingSettings,\n  closeContextMenu\n};\nexport const connectResource = connect(mapStateToProps, mapDispatchToProps);","export const isRequired = value => value ? undefined : 'Required';\nexport const isRequiredWhen = when => (value, values) => when(values) ? isRequired(value) : undefined;","import omit from 'lodash.omit';\nimport { isRequiredWhen } from '../../utils/form/validators.js';\nimport { resourceActions, resourceTypes } from '../../utils/resource/constants.js';\nexport const showContextAction = deleteResource => (document, action) => {\n  const access = document && document.access ? document.access : {};\n  const actions = {\n    [resourceActions.VIEW]: access.read,\n    [resourceActions.SHARING_SETTINGS]: access.manage || access.externalize,\n    [resourceActions.DELETE]: deleteResource,\n\n    /**\n     * This is currently not working on the backend for non-external documents\n     * See the docs (docs/sections/resources.md) in this repo for more details\n     */\n    [resourceActions.EDIT]: access.update && document.external\n  };\n  return actions[action] || false;\n};\nexport const extractFileAndFormattedResource = values => {\n  const file = values.type === resourceTypes.UPLOAD_FILE && values.file ? values.file.file : null;\n  const resource = omit(values, 'file');\n  const formattedResource = { ...resource,\n    attachment: values.attachment === 'yes',\n    external: values.type === resourceTypes.EXTERNAL_URL\n  };\n  return {\n    file,\n    resource: formattedResource\n  };\n};\n/**\n *\n * Validation\n *\n */\n\nexport const isTypeExternalUrl = values => values.type === resourceTypes.EXTERNAL_URL;\nexport const isTypeUploadFile = values => values.type === resourceTypes.UPLOAD_FILE;\nexport const isRequriedWhenTypeExternalUrl = isRequiredWhen(isTypeExternalUrl);\nexport const isRequriedWhenTypeUploadFile = isRequiredWhen(isTypeUploadFile);","import SharingDialog from '@dhis2/d2-ui-sharing-dialog';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getD2 } from '../../utils/api.js';\nimport { resourceActions } from '../../utils/resource/constants.js';\n\nconst ResourceActions = props => {\n  const {\n    selectedAction\n  } = props;\n\n  if (!props.selectedAction) {\n    return null;\n  }\n\n  if (selectedAction === resourceActions.SHARING_SETTINGS) {\n    return /*#__PURE__*/React.createElement(SharingDialog, {\n      open: props.open,\n      id: props.selectedResource.id,\n      type: \"document\",\n      onRequestClose: props.handleClose,\n      d2: getD2()\n    });\n  }\n\n  return null;\n};\n\nResourceActions.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  selectedAction: PropTypes.string.isRequired,\n  selectedResource: PropTypes.object.isRequired\n};\nexport default ResourceActions;","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Snackbar } from '../components/feedback/Snackbar.js';\nimport SearchablePagedList from '../components/SearchablePagedList.js';\nimport { SectionHeadline } from '../components/SectionHeadline.js';\nimport { RESOURCE_SECTION_KEY, sections } from '../config/sections.config.js';\nimport { contextMenuIcons, resourceActions } from '../utils/resource/constants.js';\nimport { connectResource } from './resource/connectResource.js';\nimport { showContextAction } from './resource/helper.js';\nimport ResourceActions from './resource/ResourceActions.js';\n\nconst createContextMenuOptions = props => ({\n  [resourceActions.VIEW]: props.viewResource,\n  [resourceActions.EDIT]: props.editResource,\n  [resourceActions.SHARING_SETTINGS]: props.showSharingSettings,\n  [resourceActions.DELETE]: props.requestDeleteResource\n});\n\nclass Resource extends React.Component {\n  constructor(props) {\n    super(props);\n    this.contextMenuOptions = createContextMenuOptions(props);\n  }\n\n  componentDidMount() {\n    if (this.props.resources.length === 0) {\n      this.props.loadResources();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SectionHeadline, {\n      label: sections[RESOURCE_SECTION_KEY].info.label,\n      sectionKey: RESOURCE_SECTION_KEY\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"resource-content\"\n    }, /*#__PURE__*/React.createElement(SearchablePagedList, {\n      columns: ['displayName'],\n      rows: this.props.resources,\n      isLoading: this.props.loadingResources,\n      contextMenuActions: this.contextMenuOptions,\n      primaryAction: this.contextMenuOptions[resourceActions.VIEW],\n      contextMenuIcons: contextMenuIcons,\n      isContextActionAllowed: showContextAction(this.props.deleteResource),\n      searchInputValue: this.props.search,\n      searchInputChangeHandler: this.props.setSearch,\n      addButtonClickHandler: this.props.addResource,\n      goToNextPage: this.props.goToNextPage,\n      goToPrevPage: this.props.goToPrevPage\n    }), /*#__PURE__*/React.createElement(ResourceActions, {\n      open: this.props.open,\n      selectedAction: this.props.selectedAction,\n      selectedResource: this.props.selectedResource,\n      handleClose: this.props.closeContextMenu\n    }), /*#__PURE__*/React.createElement(Snackbar, {\n      action: i18n.t('CONFIRM'),\n      onActionClick: this.props.deleteResource\n    })));\n  }\n\n}\n\nResource.propTypes = {\n  addResource: PropTypes.func.isRequired,\n  closeContextMenu: PropTypes.func.isRequired,\n  deleteResource: PropTypes.func.isRequired,\n  goToNextPage: PropTypes.func.isRequired,\n  goToPrevPage: PropTypes.func.isRequired,\n  loadResources: PropTypes.func.isRequired,\n  loadingResources: PropTypes.bool.isRequired,\n  open: PropTypes.bool.isRequired,\n  resources: PropTypes.array.isRequired,\n  search: PropTypes.string.isRequired,\n  selectedAction: PropTypes.string.isRequired,\n  selectedResource: PropTypes.object.isRequired,\n  setSearch: PropTypes.func.isRequired\n};\nconst ConnectedResource = connectResource(Resource);\nexport { ConnectedResource as Resource };","import _JSXStyle from \"styled-jsx/style\";\nimport { Button as D2UIButton } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Button = props => /*#__PURE__*/React.createElement(\"span\", {\n  className: \"jsx-3902943628\"\n}, /*#__PURE__*/React.createElement(D2UIButton, {\n  raised: true,\n  type: props.type,\n  onClick: props.onClick,\n  color: props.isPrimary ? 'primary' : 'default',\n  disabled: props.disabled\n}, props.label), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"3902943628\"\n}, [\"span.jsx-3902943628{display:inline-block;margin-right:10px;}\"]));\nButton.propTypes = {\n  label: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  isPrimary: PropTypes.bool,\n  type: PropTypes.string\n};\nButton.defaultProps = {\n  isPrimary: false,\n  type: 'submit'\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { children } from '../../utils/react/propTypes.js';\nexport const FormSection = ({\n  show,\n  render,\n  children\n}) => {\n  if (!show) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"jsx-232685539\"\n  }, children || render(), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"232685539\"\n  }, [\"section.jsx-232685539{margin:0 0 10px;padding:0 2px;overflow:hidden;}\"]));\n};\nFormSection.propTypes = {\n  children,\n  render: PropTypes.func,\n  show: PropTypes.bool\n};\nFormSection.defaultProps = {\n  children: null,\n  render: () => null,\n  show: true\n};","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport { children } from '../../utils/react/propTypes.js';\nexport const FormRow = props => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-1762692579\"\n}, props.children), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"1762692579\"\n}, [\"div.jsx-1762692579{margin-bottom:20px;}\"]));\nFormRow.propTypes = {\n  children: children.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { formInput } from '../../utils/react/propTypes.js';\nexport const RadioButton = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2817873616\" + \" \" + \"form-checkbox\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2817873616\" + \" \" + \"input-container\"\n}, /*#__PURE__*/React.createElement(\"input\", _extends({\n  id: props.input.name + props.input.value\n}, props.input, {\n  type: \"radio\",\n  className: \"jsx-2817873616\" + \" \" + (props.input && props.input.className != null && props.input.className || \"\")\n}))), /*#__PURE__*/React.createElement(\"label\", {\n  htmlFor: props.input.name + props.input.value,\n  className: \"jsx-2817873616\" + \" \" + \"label-container\"\n}, props.label), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2817873616\"\n}, [\".form-checkbox.jsx-2817873616{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:30px;width:100%;}\", \".input-container.jsx-2817873616{width:20px;}\", \"input.jsx-2817873616{display:block;margin:0;}\", \"label.jsx-2817873616{display:block;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\"]));\nRadioButton.propTypes = {\n  input: formInput.isRequired,\n  label: PropTypes.string.isRequired\n};","import FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { RadioButton } from './RadioButton.js';\nconst styles = {\n  container: {\n    margin: '0'\n  },\n  label: {\n    margin: '0 0 10px',\n    fontSize: '1rem',\n    color: 'black'\n  }\n};\nexport const RadioButtons = withStyles(styles)(props => /*#__PURE__*/React.createElement(FormControl, {\n  className: props.classes.container\n}, props.label && /*#__PURE__*/React.createElement(FormHelperText, {\n  className: props.classes.label\n}, props.label), props.showError && /*#__PURE__*/React.createElement(Field, {\n  name: props.name,\n  type: \"checkbox\"\n}, ({\n  meta\n}) => meta.error && meta.touched ? meta.error : ''), props.options.map(option => /*#__PURE__*/React.createElement(\"div\", {\n  key: option.label\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"radio\",\n  value: option.value,\n  label: option.label,\n  component: RadioButton,\n  name: props.name\n})))));\nRadioButtons.propTypes = {\n  name: PropTypes.string.isRequired,\n  options: PropTypes.arrayOf(PropTypes.object).isRequired,\n  label: PropTypes.string,\n  showError: PropTypes.bool\n};\nRadioButtons.defaultProps = {\n  label: '',\n  showError: true\n};","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { FormRow } from '../../../../components/form/FormRow.js';\nimport { RadioButtons } from '../../../../components/form/RadioButtons.js';\nexport const Attachment = () => /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(\"p\", {\n  className: \"jsx-245692591\"\n}, i18n.t('Do you want to use this file as an attachment?')), /*#__PURE__*/React.createElement(RadioButtons, {\n  name: \"attachment\",\n  options: [{\n    value: 'yes',\n    label: i18n.t('Yes')\n  }, {\n    value: 'no',\n    label: i18n.t('No')\n  }],\n  showError: false\n}), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"245692591\"\n}, [\"p.jsx-245692591{margin-top:0;}\"]));","import _JSXStyle from \"styled-jsx/style\";\nimport red from '@material-ui/core/colors/red';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst errorTextColor = red[500];\nexport const ErrorText = props => {\n  if (!props.showErrorText) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(FormHelperText, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: _JSXStyle.dynamic([[\"769049044\", [errorTextColor]]])\n  }, props.error && props.touched ? props.error : ''), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"769049044\",\n    dynamic: [errorTextColor]\n  }, [`span.__jsx-style-dynamic-selector{color:${errorTextColor};}`]));\n};\nErrorText.propTypes = {\n  error: PropTypes.string.isRequired,\n  touched: PropTypes.bool.isRequired,\n  showErrorText: PropTypes.bool\n};\nErrorText.defaultProps = {\n  showErrorText: true\n};","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport i18n from '@dhis2/d2-i18n';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { ErrorText } from './buildingBlocks/ErrorText.js';\n\nconst useFileBlobAsValue = input => event => {\n  event.persist();\n  input.onChange({\n    file: event.target.files[0],\n    value: event.target.value\n  });\n};\n\nconst formatBlobToString = data => data ? data.value : '';\n\nexport const File = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-1568741591\"\n}, /*#__PURE__*/React.createElement(Field, _extends({\n  name: props.name,\n  type: \"file\",\n  placeholder: props.placeholder,\n  format: formatBlobToString\n}, props.fieldProps), ({\n  input,\n  meta,\n  placeholder\n}) => /*#__PURE__*/React.createElement(FormControl, null, /*#__PURE__*/React.createElement(ErrorText, {\n  error: meta.error || '',\n  touched: meta.touched\n}), /*#__PURE__*/React.createElement(FormHelperText, null, placeholder), /*#__PURE__*/React.createElement(FormHelperText, null, /*#__PURE__*/React.createElement(\"label\", {\n  htmlFor: input.name,\n  className: \"jsx-1568741591\"\n}, /*#__PURE__*/React.createElement(Button, {\n  variant: \"contained\",\n  component: \"span\"\n}, i18n.t('Select file')))), /*#__PURE__*/React.createElement(\"input\", {\n  name: input.name,\n  value: input.value,\n  onChange: useFileBlobAsValue(input),\n  id: input.name,\n  type: \"file\",\n  className: \"jsx-1568741591\"\n}), /*#__PURE__*/React.createElement(FormHelperText, null, input.value.replace('C:\\\\fakepath\\\\', '') || i18n.t('No file chosen')))), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"1568741591\"\n}, [\"input.jsx-1568741591{display:none;}\"]));\nFile.propTypes = {\n  name: PropTypes.string.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  fieldProps: PropTypes.object\n};\nFile.defaultProps = {\n  fieldProps: {}\n};","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { File as FileInput } from '../../../../components/form/File.js';\nimport { FormRow } from '../../../../components/form/FormRow.js';\nimport { isRequired } from '../../../../utils/form/validators.js';\nexport const File = props => /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FileInput, {\n  name: \"file\",\n  placeholder: i18n.t('File'),\n  fieldProps: props.isRequired ? {\n    validate: isRequired\n  } : {}\n}));\nFile.propTypes = {\n  isRequired: PropTypes.bool.isRequired\n};","import blue from '@material-ui/core/colors/blue';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const HelpText = ({\n  children\n}) => /*#__PURE__*/React.createElement(FormHelperText, {\n  style: {\n    color: blue[800]\n  }\n}, children);\nHelpText.propTypes = {\n  children: PropTypes.node.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\n// eslint-disable-next-line no-unused-vars\nimport React from 'react';\nexport const section = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3980597411\"\n  }, [\".jsx-3980597411{margin:0 0 10px;}\"]),\n  className: \"jsx-3980597411\"\n};\nexport const sectionTitle = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"254529828\"\n  }, [\".jsx-254529828{color:black;font-weight:bold;font-size:1.3em;line-height:2;margin:0 0 10px;}\"]),\n  className: \"jsx-254529828\"\n};\nexport const container = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2649160175\"\n  }, [\".jsx-2649160175{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:20px;}\"]),\n  className: \"jsx-2649160175\"\n};\nexport const inputWrapper = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"516171561\"\n  }, [\".jsx-516171561{margin:0;width:100%;}\"]),\n  className: \"jsx-516171561\"\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport FormControl from '@material-ui/core/FormControl';\nimport MUIInput from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { formInput, formInputMeta } from '../../utils/react/propTypes.js';\nimport { ErrorText } from './buildingBlocks/ErrorText.js';\nimport { HelpText } from './buildingBlocks/HelpText.js';\nimport { inputWrapper } from './styles.js';\nexport const Input = props => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormControl, {\n  className: inputWrapper.className\n}, /*#__PURE__*/React.createElement(InputLabel, {\n  htmlFor: props.input.name\n}, props.placeholder), /*#__PURE__*/React.createElement(MUIInput, _extends({}, props.input, {\n  label: props.placeholder\n})), props.helpText && /*#__PURE__*/React.createElement(HelpText, null, props.helpText), /*#__PURE__*/React.createElement(ErrorText, {\n  error: props.meta.error || '',\n  touched: props.meta.touched\n})), inputWrapper.styles);\nInput.propTypes = {\n  input: formInput.isRequired,\n  meta: formInputMeta.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  helpText: PropTypes.string\n};","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { FormRow } from '../../../../components/form/FormRow.js';\nimport { Input } from '../../../../components/form/Input.js';\nimport { isRequired } from '../../../../utils/form/validators.js';\nexport const Name = () => /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n  name: \"name\",\n  placeholder: i18n.t('Name*'),\n  component: Input,\n  validate: isRequired\n}));","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport { children } from '../../utils/react/propTypes.js';\nexport const FormSectionTitle = ({\n  children\n}) => /*#__PURE__*/React.createElement(\"h2\", {\n  className: \"jsx-4079111950\"\n}, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"4079111950\"\n}, [\"h2.jsx-4079111950{color:black;font-weight:bold;font-size:1.3em;line-height:2;margin:0 0 10px;}\"]));\nFormSectionTitle.propTypes = {\n  children: children.isRequired\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { FormSectionTitle } from '../../../../components/form/FormSectionTitle.js';\nexport const Title = props => /*#__PURE__*/React.createElement(FormSectionTitle, null, props.label);\nTitle.propTypes = {\n  label: PropTypes.string.isRequired\n};","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { Title } from './Title.js';\nexport const TitleDetails = () => /*#__PURE__*/React.createElement(Title, {\n  label: i18n.t('Details')\n});","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { Title } from './Title.js';\nexport const TitleResource = () => /*#__PURE__*/React.createElement(Title, {\n  label: i18n.t('Resource')\n});","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MUISelect from '@material-ui/core/Select';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { formInput, formInputMeta, formOptions } from '../../utils/react/propTypes.js';\nimport { ErrorText } from './buildingBlocks/ErrorText.js';\nimport { inputWrapper } from './styles.js';\nexport const SelectField = props => /*#__PURE__*/React.createElement(MUISelect, _extends({}, props.input, {\n  disabled: props.disabled\n}), props.showEmptyOption && /*#__PURE__*/React.createElement(MenuItem, {\n  value: \"\"\n}), props.options.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n  key: option.value,\n  value: option.value\n}, option.label)));\nSelectField.propTypes = {\n  disabled: PropTypes.bool.isRequired,\n  input: formInput.isRequired,\n  options: formOptions.isRequired,\n  showEmptyOption: PropTypes.bool.isRequired\n};\nconst {\n  className,\n  styles\n} = inputWrapper;\nexport const Select = props => /*#__PURE__*/React.createElement(FormControl, {\n  className: className\n}, /*#__PURE__*/React.createElement(InputLabel, {\n  htmlFor: props.input.name\n}, props.placeholder), /*#__PURE__*/React.createElement(SelectField, {\n  input: props.input,\n  showEmptyOption: props.showEmptyOption,\n  options: props.options,\n  disabled: props.disabled\n}), /*#__PURE__*/React.createElement(ErrorText, {\n  showErrorText: props.showErrorText,\n  error: props.meta.error || '',\n  touched: props.meta.touched\n}), styles);\nSelect.propTypes = {\n  input: formInput.isRequired,\n  meta: formInputMeta.isRequired,\n  options: formOptions.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  showEmptyOption: PropTypes.bool,\n  showErrorText: PropTypes.bool\n};\nSelect.defaultProps = {\n  showEmptyOption: false,\n  showErrorText: false,\n  disabled: false\n};","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { FormRow } from '../../../../components/form/FormRow.js';\nimport { Select } from '../../../../components/form/Select.js';\nimport { resourceTypeOptions } from '../../../../utils/resource/constants.js';\nexport const Type = props => /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n  name: \"type\",\n  placeholder: i18n.t('Resource Type'),\n  options: resourceTypeOptions,\n  showErrorText: false,\n  component: Select,\n  disabled: props.disabled\n}));\nType.propTypes = {\n  disabled: PropTypes.bool\n};\nType.defaultProps = {\n  disabled: false\n};","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { FormRow } from '../../../../components/form/FormRow.js';\nimport { Input } from '../../../../components/form/Input.js';\nimport { isRequired } from '../../../../utils/form/validators.js';\nexport const Url = () => /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n  name: \"url\",\n  placeholder: i18n.t('Url*'),\n  component: Input,\n  validate: isRequired\n}));","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React, { Fragment } from 'react';\nimport { Form } from 'react-final-form';\nimport { Button } from '../../../components/form/Button.js';\nimport { FormSection } from '../../../components/form/FormSection.js';\nimport { resourceTypes } from '../../../utils/resource/constants.js';\nimport { Attachment } from './ResourceForm/Attachment.js';\nimport { File } from './ResourceForm/File.js';\nimport { Name } from './ResourceForm/Name.js';\nimport { TitleDetails } from './ResourceForm/TitleDetails.js';\nimport { TitleResource } from './ResourceForm/TitleResource.js';\nimport { Type } from './ResourceForm/Type.js';\nimport { Url } from './ResourceForm/Url.js';\nexport const ResourceForm = props => /*#__PURE__*/React.createElement(Form, {\n  onSubmit: props.onSubmit,\n  initialValues: props.initialValues\n}, ({\n  handleSubmit,\n  values,\n  valid\n}) => /*#__PURE__*/React.createElement(\"form\", {\n  onSubmit: handleSubmit,\n  className: \"jsx-612925129\"\n}, props.isEditingFileResource && /*#__PURE__*/React.createElement(\"p\", {\n  className: \"jsx-612925129\" + \" \" + \"edit-unavailable\"\n}, i18n.t('File resources can not be edited, only created')), /*#__PURE__*/React.createElement(\"fieldset\", {\n  disabled: props.isEditingFileResource,\n  className: \"jsx-612925129\"\n}, /*#__PURE__*/React.createElement(FormSection, null, /*#__PURE__*/React.createElement(TitleDetails, null), /*#__PURE__*/React.createElement(Name, null), /*#__PURE__*/React.createElement(Type, null)), /*#__PURE__*/React.createElement(FormSection, {\n  show: values.type === resourceTypes.EXTERNAL_URL,\n  render: () => /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(TitleResource, null), /*#__PURE__*/React.createElement(Url, null))\n}), /*#__PURE__*/React.createElement(FormSection, {\n  show: values.type === resourceTypes.UPLOAD_FILE,\n  render: () => /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(TitleResource, null), /*#__PURE__*/React.createElement(Attachment, null), /*#__PURE__*/React.createElement(File, {\n    isRequired: props.isFileRequired\n  }))\n})), /*#__PURE__*/React.createElement(Button, {\n  label: props.onSubmitLabel,\n  isPrimary: true,\n  onClick: handleSubmit,\n  disabled: !valid || props.isEditingFileResource\n}), /*#__PURE__*/React.createElement(Button, {\n  label: i18n.t('Cancel'),\n  onClick: props.onCancel\n}), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"612925129\"\n}, [\"fieldset.jsx-612925129{position:relative;border:none;margin:0;padding:0;}\", \"fieldset.jsx-612925129:disabled.jsx-612925129::after{content:' ';display:block;position:absolute;top:0;left:0;height:100%;width:100%;background-color:rgba(255,255,255,0.5);pointer-events:none;}\", \"p.edit-unavailable.jsx-612925129{color:red;}\"])));\nResourceForm.propTypes = {\n  initialValues: PropTypes.object.isRequired,\n  isEditingFileResource: PropTypes.bool.isRequired,\n  isFileRequired: PropTypes.bool.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onSubmitLabel: PropTypes.string.isRequired\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { Card, CircularProgress } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { SectionHeadline } from '../../components/SectionHeadline.js';\nimport { RESOURCE_SECTION_KEY } from '../../config/sections.config.js';\nimport { loadResource, addNewResource, updateResource, backToList } from '../../redux/actions/resource.js';\nimport { resourceTypeOptions } from '../../utils/resource/constants.js';\nimport { formCard, formLoader } from '../../utils/styles/shared.js';\nimport { ResourceForm } from './add-edit-resource/ResourceForm.js';\nimport { extractFileAndFormattedResource } from './helper.js';\n\nclass AddEditResource extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"onSubmit\", values => {\n      const {\n        file,\n        resource\n      } = extractFileAndFormattedResource(values);\n      const submitHandler = this.isEdit() ? this.props.updateResource : this.props.addNewResource;\n      submitHandler(resource, file);\n      this.props.backToList();\n    });\n  }\n\n  componentDidMount() {\n    if (!this.isResourceLoaded()) {\n      this.props.loadResource(this.getResourceIdFromUrl());\n    }\n  }\n\n  getInitialValues() {\n    const {\n      resource\n    } = this.props;\n    return this.isEdit() ? {\n      name: resource.displayName,\n      type: resourceTypeOptions[resource.external ? 0 : 1].value,\n      attachment: resource.attachment ? 'yes' : 'no',\n      url: resource.url\n    } : {\n      name: '',\n      type: resourceTypeOptions[1].value,\n      attachment: 'no'\n    };\n  }\n\n  isEdit() {\n    return this.props.match.params.mode === 'edit';\n  }\n\n  isResourceLoaded() {\n    return !(this.isEdit() && !this.props.resource.id);\n  }\n\n  isEditingFileResource() {\n    return this.isEdit() && !this.props.resource.external;\n  }\n\n  getResourceIdFromUrl() {\n    return this.props.match.params.id;\n  }\n\n  getFormTexts(isEdit) {\n    const editTitle = i18n.t('Edit resource');\n    const editSubmitLabel = i18n.t('Save resource');\n    const addText = i18n.t('Add resource');\n    return {\n      title: isEdit ? editTitle : addText,\n      submitLabel: isEdit ? editSubmitLabel : addText\n    };\n  }\n\n  render() {\n    const isEdit = this.isEdit();\n    const {\n      title,\n      submitLabel\n    } = this.getFormTexts(isEdit);\n    return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(SectionHeadline, {\n      label: title,\n      showBackButton: true,\n      onBackClick: this.props.backToList,\n      sectionKey: RESOURCE_SECTION_KEY\n    }), /*#__PURE__*/React.createElement(Card, {\n      className: formCard.className\n    }, this.isResourceLoaded() ? /*#__PURE__*/React.createElement(ResourceForm, {\n      open: true,\n      title: title,\n      isFileRequired: !isEdit,\n      onSubmitLabel: submitLabel,\n      initialValues: this.getInitialValues(),\n      onSubmit: this.onSubmit,\n      onCancel: this.props.backToList,\n      isEditingFileResource: this.isEditingFileResource()\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: formLoader.className\n    }, /*#__PURE__*/React.createElement(CircularProgress, null))), formCard.styles, formLoader.styles);\n  }\n\n}\n\nAddEditResource.propTypes = {\n  addNewResource: PropTypes.func.isRequired,\n  backToList: PropTypes.func.isRequired,\n  loadResource: PropTypes.func.isRequired,\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      mode: PropTypes.oneOf(['new', 'edit']).isRequired,\n      id: PropTypes.string\n    }).isRequired\n  }).isRequired,\n  resource: PropTypes.object.isRequired,\n  updateResource: PropTypes.func.isRequired\n};\nconst ConnectedAddEditResource = connect(state => ({\n  resource: state.resource.selectedResource\n}), {\n  loadResource,\n  updateResource,\n  addNewResource,\n  backToList\n})(AddEditResource);\nexport { ConnectedAddEditResource as AddEditResource, AddEditResource as AddEditResourceComponent };","export const fileToText = blob => new Promise((resolve, reject) => {\n  const fileReader = new FileReader();\n  fileReader.readAsText(blob);\n\n  fileReader.onload = event => {\n    if (event.target.readyState !== 2) {\n      return;\n    }\n\n    if (event.target.error) {\n      reject('File could not be read');\n    }\n\n    resolve(event.target.result);\n  };\n});","import i18n from '@dhis2/d2-i18n';\nimport { push } from 'connected-react-router';\nimport debounce from 'lodash.debounce';\nimport omit from 'lodash.omit';\nimport size from 'lodash.size';\nimport { DEBOUNCE_DELAY } from '../../config/search.config.js';\nimport { STANDARD_REPORT_SECTION_KEY } from '../../config/sections.config.js';\nimport { reportTypes } from '../../pages/standard-report/standard.report.conf.js';\nimport { deleteStandardReport as deleteStandardReportRequest, getApi, getFilteredStandardReports, getStandardReportDetails, getStandardReportHtmlReport, postStandardReport, updateStandardReport } from '../../utils/api.js';\nimport { formatStandardReportPayloadBySystemVersion } from '../../utils/backwardCompatability.js';\nimport { fileToText } from '../../utils/fileToText.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { getPeriodStartDate } from '../../utils/periods/periodTypes.js';\nimport { appendOrgUnitsAndReportPeriodToQueryString, extractRequiredReportParams, getReportParams, isHtmlReport, validateRequiredParams, processCheckboxValues, isJasperReportTableReport } from '../../utils/standardReport/index.js';\nimport { clearFeedback, showConfirmationSnackBar, showErrorSnackBar, showSuccessSnackBar } from './feedback.js';\nimport { clearSelectedOrgUnit } from './organisationUnits.js';\nimport { goToNextPage as goToNextPageOrig, goToPrevPage as goToPrevPageOrig, setPagination } from './pagination.js';\nimport { loadingReportDataError, loadingReportDataStart, loadingReportDataSuccess } from './reportData.js';\nimport { clearSelectedReportPeriod } from './reportPeriod.js';\nexport const actionTypes = {\n  SET_SELECTED_REPORT: 'SET_SELECTED_REPORT',\n  CLEAR_SELECTED_REPORT: 'CLEAR_SELECTED_REPORT',\n  LOAD_STANDARD_REPORTS: 'LOAD_STANDARD_REPORTS',\n  LOADING_STANDARD_REPORTS_START: 'LOADING_STANDARD_REPORTS_START',\n  LOADING_STANDARD_REPORTS_SUCCESS: 'LOADING_STANDARD_REPORTS_SUCCESS',\n  LOADING_STANDARD_REPORTS_ERROR: 'LOADING_STANDARD_REPORTS_ERROR',\n  LOADING_STANDARD_REPORTS_DETAILS_START: 'LOADING_STANDARD_REPORTS_DETAILS_START',\n  LOADING_STANDARD_REPORTS_DETAILS_SUCCESS: 'LOADING_STANDARD_REPORTS_DETAILS_SUCCESS',\n  LOADING_STANDARD_REPORTS_DETAILS_ERROR: 'LOADING_STANDARD_REPORTS_DETAILS_ERROR',\n  SET_SEARCH: 'SET_SEARCH',\n  ADD_REPORT_FORM_SHOW: 'ADD_REPORT_FORM_SHOW',\n  ADD_REPORT_FORM_HIDE: 'ADD_REPORT_FORM_HIDE',\n  EDIT_REPORT_FORM_SHOW: 'EDIT_REPORT_FORM_SHOW',\n  EDIT_REPORT_FORM_HIDE: 'EDIT_REPORT_FORM_HIDE',\n  CREATE_REPORT_SHOW: 'CREATE_REPORT_SHOW',\n  CREATE_REPORT_HIDE: 'CREATE_REPORT_HIDE',\n  SHARING_SETTINGS_SHOW: 'SHARING_SETTINGS_SHOW',\n  SHARING_SETTINGS_HIDE: 'SHARING_SETTINGS_HIDE',\n  REQUEST_DELETE_STANDARD_REPORT: 'REQUEST_DELETE_STANDARD_REPORT',\n  DELETE_STANDARD_REPORT_START: 'DELETE_STANDARD_REPORT_START',\n  DELETE_STANDARD_REPORT_SUCCESS: 'DELETE_STANDARD_REPORT_SUCCESS',\n  DELETE_STANDARD_REPORT_ERROR: 'DELETE_STANDARD_REPORT_ERROR',\n  HTML_REPORT_SHOW: 'HTML_REPORT_SHOW',\n  HTML_REPORT_HIDE: 'HTML_REPORT_HIDE',\n  CLOSE_CONTEXT_MENU: 'CLOSE_CONTEXT_MENU',\n  STANDARD_REPORT_SEND_START: 'STANDARD_REPORT_SEND_START',\n  STANDARD_REPORT_SEND_SUCCESS: 'STANDARD_REPORT_SEND_SUCCESS',\n  STANDARD_REPORT_SEND_ERROR: 'STANDARD_REPORT_SEND_ERROR',\n  DEFINE_REQUIRED_PARAMS: 'DEFINE_REQUIRED_PARAMS',\n  REQUIRED_PARAMS_ERROR: 'REQUIRED_PARAMS_ERROR',\n  GENERATE_PDF_REPORT: 'GENERATE_PDF_REPORT',\n  CANCEL_GENERATING_PDF_REPORT: 'CANCEL_GENERATING_PDF_REPORT'\n};\n/**\n * @returns {Object}\n */\n\nexport const setSelectedReport = report => ({\n  type: actionTypes.SET_SELECTED_REPORT,\n  payload: report\n});\nexport const clearSelectedReport = () => ({\n  type: actionTypes.CLEAR_SELECTED_REPORT\n});\n/**\n * @returns {Object}\n */\n\nexport const startLoadingStandardReports = () => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_START\n});\n/**\n * @param {Array} reports\n * @returns {Object}\n */\n\nexport const loadingStandardReportsSuccess = reports => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_SUCCESS,\n  payload: reports\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingStandardReportsError = () => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingStandardReportsErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the standard reports');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingStandardReportsError());\n};\n/**\n * @param {string} searchTerm\n * @return {Function} Redux thunk\n */\n\nconst debouncedLoadStandardReports = debounce(dispatch => dispatch(loadStandardReports()), DEBOUNCE_DELAY);\nexport const setSearch = searchTerm => dispatch => {\n  dispatch({\n    type: actionTypes.SET_SEARCH,\n    payload: searchTerm\n  });\n  debouncedLoadStandardReports(dispatch);\n};\n/**\n * @param {number} nextPage\n * @return {Function}\n */\n\nexport const goToNextPage = () => dispatch => {\n  dispatch(goToNextPageOrig());\n  dispatch(loadStandardReports());\n};\n/**\n * @param {number} nextPage\n * @return {Function}\n */\n\nexport const goToPrevPage = () => dispatch => {\n  dispatch(goToPrevPageOrig());\n  dispatch(loadStandardReports());\n};\n/**\n * @param {Object} report A d2 report model\n * @return {Object}\n */\n\nexport const addReportFormShow = () => push(`${STANDARD_REPORT_SECTION_KEY}/new`);\n/**\n * @param {Object} report A d2 report model\n * @return {Object}\n */\n\nexport const editReportFormShow = report => push(`${STANDARD_REPORT_SECTION_KEY}/edit/${report.id}`);\n/**\n * @param {Object} report A d2 report model\n * @return {Object}\n */\n\nexport const sharingSettingsShow = report => ({\n  type: actionTypes.SHARING_SETTINGS_SHOW,\n  payload: report\n});\n/**\n * Used to get a confirmation from the user\n * @return {Object}\n */\n\nexport const requestDeleteStandardReport = report => dispatch => {\n  dispatch({\n    type: actionTypes.REQUEST_DELETE_STANDARD_REPORT,\n    payload: report\n  });\n  dispatch(showConfirmationSnackBar('Do you really want to delete this report?'));\n};\n/**\n * @return {Object}\n */\n\nexport const deleteStandardReportStart = () => ({\n  type: actionTypes.DELETE_STANDARD_REPORT_START\n});\n/**\n * @return {Object}\n */\n\nexport const deleteStandardReportSuccess = () => ({\n  type: actionTypes.DELETE_STANDARD_REPORT_SUCCESS\n});\n/**\n * @returns {Object}\n */\n\nexport const deleteStandardReportError = () => ({\n  type: actionTypes.DELETE_STANDARD_REPORT_ERROR\n});\n/**\n * @return {Object}\n */\n\nexport const deleteStandardReportSuccessWithFeedback = () => dispatch => {\n  dispatch(deleteStandardReportSuccess());\n  dispatch(loadStandardReports());\n  dispatch(clearFeedback());\n};\n/**\n * @param {Error} error\n * @return {Object}\n */\n\nexport const deleteStandardReportErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while trying to delete the standard report');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(deleteStandardReportError());\n};\n/**\n * @returns {Object}\n */\n\nexport const closeContextMenu = refreshList => dispatch => {\n  dispatch({\n    type: actionTypes.CLOSE_CONTEXT_MENU\n  });\n\n  if (refreshList) {\n    dispatch(loadStandardReports());\n  }\n};\n/**\n * @param {string} reportData\n * @returns {Object}\n */\n\nexport const showReportData = reportData => dispatch => {\n  dispatch(loadingReportDataSuccess(reportData));\n  dispatch(closeContextMenu());\n};\n/**\n * @returns {Object}\n */\n\nexport const hideReportData = () => ({\n  type: actionTypes.HTML_REPORT_HIDE\n});\n/**\n * @return {Function} Redux thunk\n */\n\nexport const loadStandardReports = () => (dispatch, getState) => {\n  const {\n    standardReport,\n    pagination\n  } = getState();\n  const {\n    page,\n    pageSize\n  } = pagination;\n  const {\n    search\n  } = standardReport;\n  dispatch(startLoadingStandardReports());\n  return getFilteredStandardReports(page, pageSize, search).then(response => {\n    dispatch(loadingStandardReportsSuccess(response.reports));\n    dispatch(setPagination(response.pager));\n  }).catch(error => dispatch(loadingStandardReportsErrorWithFeedback(error)));\n};\n/**\n * @param {Object} report\n * @return {Function} A redux thunk\n */\n\nexport const deleteStandardReport = () => (dispatch, getState) => {\n  const {\n    selectedReport\n  } = getState().standardReport;\n  dispatch(deleteStandardReportStart());\n  return deleteStandardReportRequest(selectedReport.id).then(() => dispatch(deleteStandardReportSuccessWithFeedback())).catch(error => dispatch(deleteStandardReportErrorWithFeedback(error)));\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingStandardReportsDetailsStart = () => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_DETAILS_START\n});\n/**\n * @param {Array} reports\n * @returns {Object}\n */\n\nexport const loadingStandardReportsDetailsSuccess = reports => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_DETAILS_SUCCESS,\n  payload: reports\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingStandardReportsDetailsError = () => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_DETAILS_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingStandardReportsDetailsErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the standard report details');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingStandardReportsDetailsError());\n};\n/**\n * @param {string} id\n * @returns {Function}\n */\n\nexport const loadStandardReportDetails = id => dispatch => {\n  dispatch(loadingStandardReportsDetailsStart());\n  getStandardReportDetails(id).then(report => dispatch(loadingStandardReportsDetailsSuccess(report))).catch(error => dispatch(loadingStandardReportsDetailsError(error)));\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingSendStandardReportStart = () => ({\n  type: actionTypes.STANDARD_REPORT_SEND_START\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingSendStandardReportSuccess = () => ({\n  type: actionTypes.STANDARD_REPORT_SEND_SUCCESS\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingSendStandardReportError = () => ({\n  type: actionTypes.STANDARD_REPORT_SEND_ERROR\n});\n/**\n * @param {Object} report\n * @param {bool} isEdit - When false, add new report\n * @returns {Promise}\n */\n\nexport const sendStandardReport = (report, isEdit) => (dispatch, getState) => {\n  dispatch(loadingSendStandardReportStart());\n  const {\n    standardReport: {\n      selectedReport\n    }\n  } = getState();\n  const formattedReport = { ...report,\n    relativePeriods: processCheckboxValues(report.relativePeriods, selectedReport.relativePeriods),\n    reportParams: processCheckboxValues(report.reportParams, selectedReport.reportParams),\n    reportTable: report.reportTable ? {\n      id: report.reportTable\n    } : ''\n  };\n  const cleanedFormattedReportReport = isJasperReportTableReport(report) ? formattedReport : omit(formattedReport, ['reportTable']);\n  const dhis2CoreVersionFormattedReport = formatStandardReportPayloadBySystemVersion(cleanedFormattedReportReport);\n  const doRequest = isEdit ? report => updateStandardReport(report) : report => postStandardReport(report);\n  const successMessage = isEdit ? i18n.t('The report has been updated successfully') : i18n.t('The report has been added successfully');\n  const errorMessage = isEdit ? i18n.t('An error occurred while updating the report!') : i18n.t('An error occurred while adding the report!');\n  const request = !dhis2CoreVersionFormattedReport.designContent ? doRequest({ ...selectedReport,\n    ...dhis2CoreVersionFormattedReport\n  }) : fileToText(dhis2CoreVersionFormattedReport.designContent.file).then(file => ({ ...selectedReport,\n    ...dhis2CoreVersionFormattedReport,\n    designContent: file\n  })).then(doRequest);\n  return request.then(() => {\n    dispatch(showSuccessSnackBar(successMessage));\n    dispatch(loadingSendStandardReportSuccess());\n    dispatch(loadStandardReports());\n    dispatch(navigateToList());\n  }).catch(error => {\n    const displayMessage = humanReadableErrorMessage(error, errorMessage);\n    dispatch(showErrorSnackBar(displayMessage));\n    dispatch(loadingSendStandardReportError());\n  });\n};\nexport const navigateToList = () => dispatch => {\n  dispatch(clearSelectedReport());\n  dispatch(push(`/${STANDARD_REPORT_SECTION_KEY}`));\n};\n/**\n * =============================================\n * Generate report\n * =============================================\n */\n\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const generatingHtmlReportErrorWithFeedback = error => dispatch => {\n  const generatingHtmlReportErrorDefaultMessage = i18n.t('An error occurred while generating the html report');\n  const displayMessage = humanReadableErrorMessage(error, generatingHtmlReportErrorDefaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingReportDataError());\n};\n/**\n * @param {string} id\n * @returns {Function}\n */\n\nexport const generateHtmlReport = ({\n  id,\n  orgUnitId,\n  reportPeriod\n}) => dispatch => {\n  dispatch(loadingReportDataStart());\n  const reportRequestBody = {};\n\n  if (orgUnitId) {\n    reportRequestBody.ou = orgUnitId;\n  }\n\n  if (reportPeriod) {\n    const startDate = getPeriodStartDate(reportPeriod);\n    reportRequestBody.pe = reportPeriod;\n\n    if (startDate) {\n      reportRequestBody.date = startDate;\n    }\n  }\n\n  return getStandardReportHtmlReport(id, reportRequestBody).then(report => dispatch(loadingReportDataSuccess(report))).catch(error => dispatch(generatingHtmlReportErrorWithFeedback(error)));\n};\nexport const defineRequiredReportParams = requiredParams => ({\n  type: actionTypes.DEFINE_REQUIRED_PARAMS,\n  payload: requiredParams\n});\nexport const requiredReportParamsError = errors => ({\n  type: actionTypes.REQUIRED_PARAMS_ERROR,\n  payload: errors\n});\nexport const cancelGeneratingPdfReport = () => dispatch => {\n  dispatch(clearSelectedReportPeriod());\n  dispatch(clearSelectedOrgUnit());\n  dispatch({\n    type: actionTypes.CANCEL_GENERATING_PDF_REPORT\n  });\n};\nexport const submitRequiredReportParams = () => (dispatch, getState) => {\n  const state = getState();\n  const {\n    standardReport\n  } = state;\n  const {\n    selectedReport,\n    reportParams\n  } = standardReport;\n  const errors = validateRequiredParams(state, reportParams);\n\n  if (size(errors)) {\n    dispatch(requiredReportParamsError(errors));\n  } else {\n    if (selectedReport.type === reportTypes.HTML) {\n      dispatch(navigateToHtmlReportView());\n    } else {\n      dispatch(generatePdfReport());\n    }\n  }\n};\n/**\n * @param {string} reportId\n * @returns {Function}\n */\n\nexport const showReportParams = report => dispatch => {\n  dispatch(setSelectedReport(report));\n  const reportParams = getReportParams(report);\n  const requiredParams = extractRequiredReportParams(reportParams);\n\n  if (!size(requiredParams)) {\n    if (isHtmlReport(report)) {\n      dispatch(navigateToHtmlReportView());\n    } else {\n      dispatch(generatePdfReport());\n    }\n  } else {\n    dispatch(defineRequiredReportParams(requiredParams));\n  }\n};\nexport const navigateToHtmlReportView = () => (dispatch, getState) => {\n  const state = getState();\n  const reportId = state.standardReport.selectedReport.id;\n  const reportQueryString = appendOrgUnitsAndReportPeriodToQueryString(state);\n  dispatch(push(`${STANDARD_REPORT_SECTION_KEY}/view/${reportId}${reportQueryString}`));\n};\nexport const generatePdfReport = () => (dispatch, getState) => {\n  const api = getApi();\n  const state = getState();\n  const {\n    id\n  } = state.standardReport.selectedReport;\n  const reportPath = `reports/${id}/data.pdf`;\n  const reportQueryString = appendOrgUnitsAndReportPeriodToQueryString(state, `t=${new Date().getTime()}`);\n  dispatch({\n    type: actionTypes.GENERATE_PDF_REPORT\n  });\n  dispatch(clearSelectedReportPeriod());\n  dispatch(clearSelectedOrgUnit());\n  window.open(`${api.baseUrl}/${reportPath}${reportQueryString}`);\n};","export const identity = input => input;","import { matchPath } from 'react-router-dom';\nimport { createSelector } from 'reselect';\nimport { reportTypes, cacheStrategies } from '../../../pages/standard-report/standard.report.conf.js';\nimport { identity } from '../../../utils/boolean/identity.js';\nexport const getSelectedStandardReport = state => state.standardReport.selectedReport;\nexport const getIsEdit = state => {\n  const match = matchPath(state.router.location.pathname, {\n    path: '/standard-report/:mode'\n  });\n  return !!(match && match.params.mode === 'edit');\n};\nexport const getEditFormInitialValues = createSelector([getSelectedStandardReport, getIsEdit], (selectedReport, isEdit) => {\n  if (isEdit) {\n    if (selectedReport.id) {\n      return {\n        id: selectedReport.id,\n        name: selectedReport.name,\n        type: selectedReport.type,\n        reportTable: selectedReport.reportTable && selectedReport.reportTable.id ? selectedReport.reportTable.id : '',\n        relativePeriods: Object.keys(selectedReport.relativePeriods).reduce((acc, cur) => selectedReport.relativePeriods[cur] ? [...acc, cur] : acc, []),\n        reportParams: [selectedReport.reportParams.reportingPeriod ? 'reportingPeriod' : '', selectedReport.reportParams.organisationUnit ? 'organisationUnit' : ''].filter(identity),\n        cacheStrategy: selectedReport.cacheStrategy\n      };\n    } else {\n      // edit mode, but report hasn't loaded yet\n      return {};\n    }\n  } // create mode\n\n\n  return {\n    type: reportTypes.JASPER_REPORT_TABLE,\n    cacheStrategy: cacheStrategies[1].value,\n    reportTable: ''\n  };\n});","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport Checkbox from '@material-ui/core/Checkbox';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { formInput } from '../../utils/react/propTypes.js';\nconst checkboxStyle = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3225532101\"\n  }, [\"span.jsx-3225532101{width:20px;height:20px;padding:0;}\"]),\n  className: \"jsx-3225532101\"\n};\nexport const CheckBox = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3779354103\" + \" \" + \"form-checkbox\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3779354103\" + \" \" + \"input-container\"\n}, /*#__PURE__*/React.createElement(Checkbox, _extends({\n  id: props.input.name + props.input.value\n}, props.input, {\n  type: \"checkbox\",\n  className: checkboxStyle.className\n}))), /*#__PURE__*/React.createElement(\"label\", {\n  htmlFor: props.input.name + props.input.value,\n  className: \"jsx-3779354103\" + \" \" + \"label-container\"\n}, props.label), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"3779354103\"\n}, [\".form-checkbox.jsx-3779354103{-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:30px;width:100%;}\", \".input-container.jsx-3779354103{width:25px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}\", \"input.jsx-3779354103{display:block;margin:0;}\", \"label.jsx-3779354103{display:block;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;padding:2px 0 5px;}\"]), checkboxStyle.styles);\nCheckBox.propTypes = {\n  input: formInput.isRequired,\n  label: PropTypes.string.isRequired\n};","import FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { CheckBox } from './CheckBox.js';\nconst styles = {\n  container: {\n    margin: '0 0 20px'\n  },\n  label: {\n    margin: '0 0 10px',\n    fontSize: '1rem',\n    color: 'black'\n  }\n};\nexport const CheckBoxes = withStyles(styles)(props => /*#__PURE__*/React.createElement(FormControl, {\n  className: props.classes.container\n}, props.label && /*#__PURE__*/React.createElement(FormHelperText, {\n  className: props.classes.label\n}, props.label), props.showError && /*#__PURE__*/React.createElement(Field, {\n  name: props.name,\n  type: \"checkbox\"\n}, ({\n  meta\n}) => meta.error && meta.touched ? meta.error : ''), props.options.map(option => /*#__PURE__*/React.createElement(\"div\", {\n  key: option.label\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"checkbox\",\n  value: option.value,\n  label: option.label,\n  component: CheckBox,\n  name: props.name\n})))));\nCheckBoxes.propTypes = {\n  name: PropTypes.string.isRequired,\n  options: PropTypes.arrayOf(PropTypes.object).isRequired,\n  label: PropTypes.string,\n  showError: PropTypes.bool\n};\nCheckBoxes.defaultProps = {\n  label: '',\n  showError: true\n};","import FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { CheckBoxes } from './CheckBoxes.js';\nexport const CheckBoxGroups = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"row\"\n}, props.displayError && /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-xs-12\"\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"checkbox\",\n  name: props.name\n}, ({\n  meta\n}) => /*#__PURE__*/React.createElement(FormHelperText, null, meta.error && meta.touched ? meta.error : ''))), props.groups.map(group => /*#__PURE__*/React.createElement(\"div\", {\n  key: group.label,\n  className: \"col-xs-12 col-sm-6 col-md-4 col-lg-3\"\n}, /*#__PURE__*/React.createElement(CheckBoxes, {\n  name: props.name,\n  label: group.label,\n  options: group.options,\n  showError: false\n}))));\nCheckBoxGroups.propTypes = {\n  groups: PropTypes.array.isRequired,\n  name: PropTypes.string.isRequired,\n  displayError: PropTypes.bool\n};\nCheckBoxGroups.defaultProps = {\n  displayError: true\n};","import i18n from '@dhis2/d2-i18n';\nimport debounce from 'lodash.debounce';\nimport { DEBOUNCE_DELAY } from '../../config/search.config.js';\nimport { getStandardReportTables } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showErrorSnackBar } from './feedback.js';\nexport const MIN_CHAR_LENGTH = 3;\nexport const actionTypes = {\n  STANDARD_REPORT_TABLES_SET_SEARCH_TERM: 'STANDARD_REPORT_TABLES_SET_SEARCH_TERM',\n  STANDARD_REPORT_TABLES_CLEAR_SEARCH_TERM: 'STANDARD_REPORT_TABLES_CLEAR_SEARCH_TERM',\n  STANDARD_REPORT_TABLES_LOADING_START: 'STANDARD_REPORT_TABLES_LOADING_START',\n  STANDARD_REPORT_TABLES_LOADING_SUCCESS: 'STANDARD_REPORT_TABLES_LOADING_SUCCESS',\n  STANDARD_REPORT_TABLES_LOADING_ERROR: 'STANDARD_REPORT_TABLES_LOADING_ERROR'\n};\n/**\n * @returns {Function}\n */\n\nexport const loadFilteredStandardReportTables = searchTerm => dispatch => {\n  dispatch(setSearch(searchTerm));\n\n  if (searchTerm.length >= MIN_CHAR_LENGTH) {\n    debouncedLoadStandardReportTables(dispatch);\n  }\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingStandardReportTablesStart = () => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_LOADING_START\n});\n/**\n * @returns {Object}\n */\n\nexport const setSearch = searchTerm => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_SET_SEARCH_TERM,\n  payload: searchTerm\n});\nexport const clearSearch = () => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_CLEAR_SEARCH_TERM\n});\n/**\n * @param {Array} tables\n * @returns {Object}\n */\n\nexport const loadingStandardReportTablesSuccess = tables => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_LOADING_SUCCESS,\n  payload: tables\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingStandardReportTablesError = () => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_LOADING_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingStandardReportTablesErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the report table options');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingStandardReportTablesError());\n};\n/**\n * @returns {Function}\n */\n\nexport const loadStandardReportTables = () => (dispatch, getState) => {\n  const {\n    standardReportTables\n  } = getState();\n  dispatch(loadingStandardReportTablesStart());\n  return getStandardReportTables(standardReportTables.searchTerm).then(reportTables => {\n    const formattedReportTables = reportTables.map(({\n      id,\n      displayName\n    }) => ({\n      value: id,\n      label: displayName\n    }));\n    dispatch(loadingStandardReportTablesSuccess(formattedReportTables));\n  }).catch(error => {\n    dispatch(loadingStandardReportTablesErrorWithFeedback(error));\n  });\n};\nconst debouncedLoadStandardReportTables = debounce(dispatch => dispatch(loadStandardReportTables()), DEBOUNCE_DELAY);","import i18n from '@dhis2/d2-i18n';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport red from '@material-ui/core/colors/red';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport PropTypes from 'prop-types';\nimport React, { useState, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport { loadFilteredStandardReportTables, clearSearch, MIN_CHAR_LENGTH } from '../../redux/actions/standardReportTables.js';\nimport { formInput, formInputMeta } from '../../utils/react/propTypes.js';\nimport { Input } from './Input.js';\nconst centeredStyle = {\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  paddingTop: 16,\n  paddingBottom: 16\n};\nconst errorStyle = { ...centeredStyle,\n  color: red[500]\n};\nconst infoStyle = { ...centeredStyle,\n  color: '#494949,',\n  fontStyle: 'italic'\n};\n\nconst getListContent = ({\n  onClick,\n  loading,\n  error,\n  collection,\n  noMatches\n}) => {\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: centeredStyle\n    }, /*#__PURE__*/React.createElement(CircularProgress, null));\n  } else if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: errorStyle\n    }, error);\n  } else if (noMatches) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: infoStyle\n    }, i18n.t('No matches found'));\n  } else if (collection.length > 0) {\n    return collection.map(item => {\n      return /*#__PURE__*/React.createElement(MenuItem, {\n        key: item.value // use onMouseDown instead of onClick because this fires\n        // before the search-input's onBlur\n        ,\n        onMouseDown: () => onClick(item.value, item.label)\n      }, item.label);\n    });\n  } else {\n    return null;\n  }\n};\n\nexport const ReportTableSearchInputUI = props => {\n  var _inputRef$current;\n\n  const inputRef = useRef();\n  const [isSearchMode, setSearchMode] = useState(false);\n  const [reportTableName, setReportTableName] = useState('');\n  const showResults = isSearchMode && props.searchTerm.length >= MIN_CHAR_LENGTH;\n  const showHint = isSearchMode && props.searchTerm.length < MIN_CHAR_LENGTH;\n\n  const onFocus = () => {\n    if (!isSearchMode) {\n      setSearchMode(true);\n    }\n\n    props.input.onFocus && props.input.onFocus();\n  };\n\n  const onBlur = () => {\n    if (isSearchMode) {\n      setSearchMode(false);\n    }\n\n    props.input.onBlur && props.input.onBlur();\n  };\n\n  const onSearch = event => {\n    props.loadFilteredStandardReportTables(event.target.value);\n  };\n\n  const usedValue = isSearchMode ? props.searchTerm : reportTableName || props.persistedReportTableName;\n  const inputProps = { ...props,\n    helpText: showHint ? i18n.t('Please enter at least {{count}} characters', {\n      count: MIN_CHAR_LENGTH\n    }) : undefined,\n    input: { ...props.input,\n      value: usedValue,\n      onFocus: onFocus,\n      onChange: isSearchMode ? onSearch : props.input.onChange,\n      onBlur: isSearchMode ? onBlur : props.input.onBlur,\n      placeholder: i18n.t('Type to search a report table'),\n      inputRef,\n      autoComplete: 'off'\n    }\n  };\n\n  const onChange = (value, label) => {\n    setSearchMode(false);\n    setReportTableName(label);\n    props.clearSearch();\n    props.input.onChange(value);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Input, inputProps), /*#__PURE__*/React.createElement(Popper, {\n    open: showResults,\n    anchorEl: inputRef.current,\n    style: {\n      width: (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.offsetWidth\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    style: {\n      maxHeight: 400,\n      overflow: 'auto'\n    }\n  }, getListContent({\n    onClick: onChange,\n    loading: props.loading,\n    error: props.error,\n    collection: props.collection,\n    noMatches: props.noMatches\n  }))));\n};\nReportTableSearchInputUI.propTypes = {\n  clearSearch: PropTypes.func.isRequired,\n  input: formInput.isRequired,\n  loadFilteredStandardReportTables: PropTypes.func.isRequired,\n  meta: formInputMeta.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  collection: PropTypes.array,\n  error: PropTypes.string,\n  loading: PropTypes.bool,\n  noMatches: PropTypes.bool,\n  persistedReportTableName: PropTypes.string,\n  searchTerm: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  searchTerm: state.standardReportTables.searchTerm,\n  collection: state.standardReportTables.collection,\n  loading: state.standardReportTables.loading,\n  error: state.standardReportTables.error,\n  noMatches: state.standardReportTables.noMatches,\n  persistedReportTableName: state.standardReport.selectedReport.reportTable && state.standardReport.selectedReport.reportTable.displayName || ''\n});\n\nexport const ReportTableSearchInput = connect(mapStateToProps, {\n  loadFilteredStandardReportTables,\n  clearSearch\n})(ReportTableSearchInputUI);","import i18n from '../locales/index.js';\nexport const reportParameterOptions = [{\n  value: 'reportingPeriod',\n  label: i18n.t('Reporting Period')\n}, {\n  value: 'organisationUnit',\n  label: i18n.t('Organisation Unit')\n}];","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport Button from '@material-ui/core/Button';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getApi } from '../../../utils/api.js';\nimport { reportTypes, REPORTS_ENDPOINT, REPORT_TEMPLATES_ENDPOINT } from '../standard.report.conf.js';\nexport const DesignFileDownloadButton = ({\n  isEditing,\n  reportType,\n  reportId\n}) => {\n  let url;\n  let label;\n  const api = getApi();\n  const type = reportType === reportTypes.HTML ? 'html' : 'xml';\n\n  if (isEditing) {\n    label = i18n.t('Get current design');\n    url = `${api.baseUrl}/${REPORTS_ENDPOINT}/${reportId}/design`;\n  } else {\n    label = reportType === reportTypes.HTML ? i18n.t('Get HTML Report Template') : i18n.t('Get Jasper Report Template');\n    url = `${api.baseUrl}/${REPORT_TEMPLATES_ENDPOINT}.${type}`;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-690866626\"\n  }, /*#__PURE__*/React.createElement(FormHelperText, null, label), /*#__PURE__*/React.createElement(FormHelperText, null, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    component: \"span\"\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: url,\n    target: \"_blank\",\n    download: type !== 'html',\n    className: \"jsx-690866626\"\n  }, i18n.t('Download')))), /*#__PURE__*/React.createElement(FormHelperText, null), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"690866626\"\n  }, [\"a.jsx-690866626{color:inherit;-webkit-text-decoration:none;text-decoration:none;}\"]));\n};\nDesignFileDownloadButton.propTypes = {\n  isEditing: PropTypes.bool.isRequired,\n  reportId: PropTypes.string.isRequired,\n  reportType: PropTypes.string.isRequired\n};","import { reportTypes } from '../standard.report.conf.js';\nexport const validateNewReport = values => {\n  const errors = {};\n  validateName(errors, values);\n  validateReportTable(errors, values);\n  validateDesignContent(errors, values);\n  validateCacheStrategy(errors, values);\n  return errors;\n};\nexport const validateReportUpdate = values => {\n  const errors = {};\n  validateName(errors, values);\n  validateReportTable(errors, values);\n  validateCacheStrategy(errors, values);\n  return errors;\n};\n\nconst validateName = (errors, values) => {\n  if (!values.name) {\n    errors.name = 'Required';\n  }\n};\n\nconst validateReportTable = (errors, values) => {\n  if (values.type === reportTypes.JASPER_REPORT_TABLE && !values.reportTable) {\n    errors.reportTable = 'Required';\n  }\n};\n\nconst validateDesignContent = (errors, values) => {\n  if (!values.designContent) {\n    errors.designContent = 'Required';\n  }\n};\n\nconst validateCacheStrategy = (errors, values) => {\n  if (!values.cacheStrategy) {\n    errors.cacheStrategy = 'Required';\n  }\n};","import i18n from '@dhis2/d2-i18n';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Field, Form } from 'react-final-form';\nimport { Button } from '../../../components/form/Button.js';\nimport { CheckBoxes } from '../../../components/form/CheckBoxes.js';\nimport { CheckBoxGroups } from '../../../components/form/CheckBoxGroups.js';\nimport { File } from '../../../components/form/File.js';\nimport { FormRow } from '../../../components/form/FormRow.js';\nimport { FormSection } from '../../../components/form/FormSection.js';\nimport { FormSectionTitle } from '../../../components/form/FormSectionTitle.js';\nimport { Input } from '../../../components/form/Input.js';\nimport { ReportTableSearchInput } from '../../../components/form/ReportTableSearchInput.js';\nimport { Select } from '../../../components/form/Select.js';\nimport { reportParameterOptions } from '../../../config/standardReport.js';\nimport { RELATIVE_PERIODS } from '../../../utils/periods/relativePeriods.js';\nimport { cacheStrategies, reportTypeOptions, reportTypes } from '../standard.report.conf.js';\nimport { DesignFileDownloadButton } from './DesignFileDownloadButton.js';\nimport { validateNewReport, validateReportUpdate } from './validate.js';\n\nconst ReportForm = props => /*#__PURE__*/React.createElement(Form, {\n  onSubmit: props.onSubmit,\n  validate: props.edit ? validateReportUpdate : validateNewReport,\n  initialValues: props.report,\n  subscription: {\n    values: true,\n    initialValues: false\n  }\n}, ({\n  handleSubmit,\n  values\n}) => {\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/React.createElement(FormSection, null, /*#__PURE__*/React.createElement(FormSectionTitle, null, i18n.t('Details')), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n    name: \"name\",\n    placeholder: i18n.t('Name*'),\n    component: Input\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n    name: \"type\",\n    placeholder: i18n.t('Report Type*'),\n    options: reportTypeOptions,\n    showErrorText: false,\n    component: Select\n  })), values.type === reportTypes.JASPER_REPORT_TABLE && /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n    name: \"reportTable\",\n    placeholder: i18n.t('Report Table*'),\n    component: ReportTableSearchInput\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-6\"\n  }, /*#__PURE__*/React.createElement(File, {\n    name: \"designContent\",\n    placeholder: props.edit ? i18n.t('Design File') : i18n.t('Design File*')\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-6\"\n  }, /*#__PURE__*/React.createElement(FormHelperText, null), /*#__PURE__*/React.createElement(DesignFileDownloadButton, {\n    isEditing: props.edit,\n    reportType: values.type,\n    reportId: props.edit ? props.report.id : ''\n  })))), /*#__PURE__*/React.createElement(FormSection, {\n    show: values.type !== reportTypes.JASPER_REPORT_TABLE,\n    render: () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormSectionTitle, null, i18n.t('Relative periods')), /*#__PURE__*/React.createElement(CheckBoxGroups, {\n      name: \"relativePeriods\",\n      groups: RELATIVE_PERIODS,\n      displayError: false\n    }))\n  }), /*#__PURE__*/React.createElement(FormSection, {\n    show: values.type !== reportTypes.JASPER_REPORT_TABLE,\n    render: () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormSectionTitle, null, i18n.t('Report parameters')), /*#__PURE__*/React.createElement(CheckBoxes, {\n      name: \"reportParams\",\n      options: reportParameterOptions\n    }))\n  }), /*#__PURE__*/React.createElement(FormSection, null, /*#__PURE__*/React.createElement(FormSectionTitle, null, i18n.t('Settings')), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n    name: \"cacheStrategy\",\n    placeholder: i18n.t('Cache Strategy*'),\n    options: cacheStrategies,\n    component: Select\n  }))), /*#__PURE__*/React.createElement(Button, {\n    label: i18n.t('Submit'),\n    isPrimary: true,\n    onClick: handleSubmit\n  }), /*#__PURE__*/React.createElement(Button, {\n    label: i18n.t('Cancel'),\n    onClick: props.backToList\n  }));\n});\n\nReportForm.propTypes = {\n  backToList: PropTypes.func.isRequired,\n  edit: PropTypes.bool.isRequired,\n  report: PropTypes.object.isRequired,\n  onSubmit: PropTypes.func.isRequired\n};\nexport { ReportForm };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { Card, CircularProgress } from '@material-ui/core';\nimport isEmpty from 'lodash.isempty';\nimport PropTypes from 'prop-types';\nimport React, { Fragment, PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { SectionHeadline } from '../../components/SectionHeadline.js';\nimport { STANDARD_REPORT_SECTION_KEY } from '../../config/sections.config.js';\nimport { loadStandardReportDetails, navigateToList, sendStandardReport } from '../../redux/actions/standardReport.js';\nimport { getEditFormInitialValues, getIsEdit } from '../../redux/selectors/standardReport/getEditFormInitialValues.js';\nimport { formCard, formLoader } from '../../utils/styles/shared.js';\nimport { ReportForm } from './add-edit-report/ReportForm.js';\nexport class AddEditStandardReport extends PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"onSubmit\", values => {\n      const {\n        sendStandardReport,\n        edit\n      } = this.props;\n      sendStandardReport(values, edit);\n    });\n  }\n\n  componentDidMount() {\n    const {\n      edit,\n      loadStandardReportDetails,\n      match\n    } = this.props;\n\n    if (edit) {\n      loadStandardReportDetails(match.params.id);\n    }\n  }\n\n  render() {\n    const isLoading = isEmpty(this.props.report);\n    const headlineText = this.props.edit ? i18n.t('Edit standard report') : i18n.t('Create standard report');\n    return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(SectionHeadline, {\n      label: headlineText,\n      showBackButton: true,\n      onBackClick: this.props.navigateToList,\n      sectionKey: STANDARD_REPORT_SECTION_KEY\n    }), /*#__PURE__*/React.createElement(Card, {\n      className: formCard.className\n    }, isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n      className: formLoader.className\n    }, /*#__PURE__*/React.createElement(CircularProgress, null)) : /*#__PURE__*/React.createElement(ReportForm, _extends({}, this.props, {\n      backToList: this.props.navigateToList,\n      onSubmit: this.onSubmit\n    }))), formCard.styles, formLoader.styles);\n  }\n\n}\nAddEditStandardReport.propTypes = {\n  loadStandardReportDetails: PropTypes.func.isRequired,\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string,\n      mode: PropTypes.oneOf(['new', 'edit'])\n    })\n  }).isRequired,\n  navigateToList: PropTypes.func.isRequired,\n  sendStandardReport: PropTypes.func.isRequired,\n  edit: ReportForm.propTypes.edit,\n  report: ReportForm.propTypes.report\n};\n\nconst mapStateToProps = state => {\n  return {\n    report: getEditFormInitialValues(state),\n    edit: getIsEdit(state)\n  };\n};\n\nconst ConnectedComponent = connect(mapStateToProps, {\n  loadStandardReportDetails,\n  sendStandardReport,\n  navigateToList\n})(AddEditStandardReport);\nexport { ConnectedComponent as ConnectedAddEditStdReport };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { sections, STANDARD_REPORT_SECTION_KEY } from '../../config/sections.config.js';\nimport { generateHtmlReport } from '../../redux/actions/standardReport.js';\nimport HtmlReport from './HtmlReport.js';\nconst reportCard = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1439671591\"\n  }, [\".jsx-1439671591{margin-top:16px;padding:16px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}\"]),\n  className: \"jsx-1439671591\"\n};\nconst LinkToListWithRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(Link, _extends({\n  innerRef: ref,\n  to: sections[STANDARD_REPORT_SECTION_KEY].path\n}, props)));\nLinkToListWithRef.displayName = 'LinkToListWithRef';\n\nclass StyledHtmlReport extends React.Component {\n  componentDidMount() {\n    const {\n      match: {\n        params: {\n          id\n        }\n      },\n      location: {\n        search\n      },\n      generateHtmlReport\n    } = this.props;\n    const searchParams = new URLSearchParams(search);\n    const orgUnitId = searchParams.get('ou');\n    const reportPeriod = searchParams.get('pe');\n    generateHtmlReport({\n      id,\n      orgUnitId,\n      reportPeriod\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jsx-1249471346\" + \" \" + \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jsx-1249471346\" + \" \" + \"button-row\"\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      component: LinkToListWithRef\n    }, i18n.t('Back to standard reports list'))), /*#__PURE__*/React.createElement(Card, {\n      className: reportCard.className\n    }, /*#__PURE__*/React.createElement(HtmlReport, {\n      html: this.props.reportData\n    })), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"1249471346\"\n    }, [\".container.jsx-1249471346{min-height:calc(100vh - 84px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}\"]), reportCard.styles);\n  }\n\n}\n\nStyledHtmlReport.propTypes = {\n  generateHtmlReport: PropTypes.func.isRequired,\n  reportData: PropTypes.string.isRequired,\n  location: PropTypes.shape({\n    search: PropTypes.string\n  }),\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string\n    })\n  })\n};\nexport default connect(({\n  reportData\n}) => ({\n  reportData: typeof reportData.content === 'string' ? reportData.content : ''\n}), {\n  generateHtmlReport\n})(StyledHtmlReport);","import isEmpty from 'lodash.isempty';\nimport { connect } from 'react-redux';\nimport { addReportFormShow, closeContextMenu, deleteStandardReport, editReportFormShow, goToNextPage, goToPrevPage, hideReportData, loadStandardReports, requestDeleteStandardReport, sendStandardReport, setSearch, sharingSettingsShow, showReportData, showReportParams } from '../../redux/actions/standardReport.js'; // import { unsetReportData } from '../../redux/actions/reportData.js'\n\nconst mapStateToProps = state => ({ ...state.standardReport,\n  reportData: isEmpty(state.reportData.content) ? '' : state.reportData.content,\n  pager: state.pagination\n});\n\nconst mapDispatchToProps = dispatch => ({\n  addReportFormShow: report => dispatch(addReportFormShow(report)),\n  addStandardReport: report => dispatch(sendStandardReport(report, false)),\n  closeContextMenu: refreshList => dispatch(closeContextMenu(refreshList)),\n  createReport: report => dispatch(showReportParams(report)),\n  deleteStandardReport: report => dispatch(deleteStandardReport(report)),\n  editReport: report => dispatch(editReportFormShow(report)),\n  goToNextPage: () => dispatch(goToNextPage()),\n  goToPrevPage: () => dispatch(goToPrevPage()),\n  hideReportData: reportData => dispatch(hideReportData(reportData)),\n  loadStandardReports: () => dispatch(loadStandardReports()),\n  requestDeleteStandardReport: report => dispatch(requestDeleteStandardReport(report)),\n  setSearch: event => dispatch(setSearch(event.target.value)),\n  sharingSettings: report => dispatch(sharingSettingsShow(report)),\n  showReportData: reportData => dispatch(showReportData(reportData)),\n  updateStandardReport: report => dispatch(sendStandardReport(report, true))\n});\n\nconst connectStandardReport = connect(mapStateToProps, mapDispatchToProps);\nexport default connectStandardReport;","import { CONTEXT_MENU_ACTION } from './standard.report.conf.js';\n/* Context Menu */\n\nconst displayNoResults = (reports, loading) => reports.length > 0 || loading ? {\n  display: 'none'\n} : '';\n\nconst showContextAction = (report, action) => {\n  const access = report && report.access ? report.access : {};\n  const actions = {\n    [CONTEXT_MENU_ACTION.CREATE]: access.read,\n    [CONTEXT_MENU_ACTION.EDIT]: access.update,\n    [CONTEXT_MENU_ACTION.SHARING_SETTINGS]: access.manage || access.externalize,\n    [CONTEXT_MENU_ACTION.DELETE]: access.delete\n  };\n  return actions[action] || false;\n};\n\nexport { displayNoResults, showContextAction };","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport theme from '@dhis2/d2-ui-core/theme/theme';\nimport Button from '@material-ui/core/Button';\nimport red from '@material-ui/core/colors/red';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport OrganisationUnitTree from '../../components/AvailableOrganisationUnitsTree.js';\nimport PeriodPicker from '../../components/PeriodPickerWithPeriodType.js';\nimport { cancelGeneratingPdfReport, submitRequiredReportParams } from '../../redux/actions/standardReport.js';\nconst labelCancel = i18n.t('Cancel');\nconst labelSubmit = i18n.t('Generate report');\nconst title = i18n.t('Report parameters');\nconst colorError = red[500];\nconst buttonStyles = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2079549993\"\n  }, [\".jsx-2079549993{width:100%;}\"]),\n  className: \"jsx-2079549993\"\n};\nconst primaryButtonStyle = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3451007021\"\n  }, [`button.jsx-3451007021{color:white;background-color:${theme.palette.primary2Color};}`, `button.jsx-3451007021:hover{background-color:${theme.palette.primary1Color};}`]),\n  className: \"jsx-3451007021\"\n};\nexport const ReportParams = props => /*#__PURE__*/React.createElement(Dialog, {\n  open: props.showReportParams,\n  onClose: props.cancelGeneratingPdfReport,\n  fullWidth: true,\n  maxWidth: \"md\"\n}, /*#__PURE__*/React.createElement(DialogTitle, null, title), /*#__PURE__*/React.createElement(DialogContent, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]]) + \" \" + \"inputs\"\n}, props.reportParams.organisationUnit && /*#__PURE__*/React.createElement(OrganisationUnitTree, null), props.reportParams.period && /*#__PURE__*/React.createElement(PeriodPicker, {\n  label: \"\"\n})), !!props.reportParamsErrors.length && /*#__PURE__*/React.createElement(\"div\", {\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]]) + \" \" + \"errors\"\n}, /*#__PURE__*/React.createElement(\"p\", {\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]])\n}, i18n.t('There are some errors you have to fix first!')), /*#__PURE__*/React.createElement(\"ul\", {\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]])\n}, props.reportParamsErrors.map(error => /*#__PURE__*/React.createElement(\"li\", {\n  key: error,\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]]) + \" \" + \"error\"\n}, error)))), /*#__PURE__*/React.createElement(\"div\", {\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]]) + \" \" + \"primary-action\"\n}, /*#__PURE__*/React.createElement(Button, {\n  onClick: props.submitRequiredReportParams,\n  variant: \"contained\",\n  className: buttonStyles.className + ' ' + primaryButtonStyle.className\n}, labelSubmit)), /*#__PURE__*/React.createElement(\"div\", {\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]])\n}, /*#__PURE__*/React.createElement(Button, {\n  onClick: props.cancelGeneratingPdfReport,\n  variant: \"contained\",\n  className: buttonStyles.className\n}, labelCancel)), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2045032263\",\n  dynamic: [colorError]\n}, [\".inputs.__jsx-style-dynamic-selector{margin-bottom:30px;}\", \".errors.__jsx-style-dynamic-selector{margin-bottom:10px;}\", `.error.__jsx-style-dynamic-selector{color:${colorError};}`, \".primary-action.__jsx-style-dynamic-selector{margin-bottom:10px;}\"]), buttonStyles.styles, primaryButtonStyle.styles));\nReportParams.propTypes = {\n  cancelGeneratingPdfReport: PropTypes.func.isRequired,\n  reportParams: PropTypes.object.isRequired,\n  reportParamsErrors: PropTypes.arrayOf(PropTypes.string).isRequired,\n  showReportParams: PropTypes.bool.isRequired,\n  submitRequiredReportParams: PropTypes.func.isRequired\n};\nexport const ConnectedReportParams = connect(state => ({\n  reportParams: state.standardReport.reportParams,\n  reportParamsErrors: state.standardReport.reportParamsErrors,\n  showReportParams: state.standardReport.showReportParams\n}), {\n  cancelGeneratingPdfReport,\n  submitRequiredReportParams\n})(ReportParams);","export const getSelectedOrgUnit = state => state.organisationUnits.selected;","export const getSelectedReportPeriod = state => state.reportPeriod.selectedPeriod;","import SharingDialog from '@dhis2/d2-ui-sharing-dialog';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getD2 } from '../../utils/api.js';\nimport { CONTEXT_MENU_ACTION } from './standard.report.conf.js'; // import { ConnectedAddEditStdReport } from './AddEditStdReport.js'\n\nconst StandardReportActions = ({\n  open,\n  selectedAction,\n  selectedReport,\n  handleClose\n}) => {\n  if (selectedAction === CONTEXT_MENU_ACTION.SHARING_SETTINGS) {\n    return /*#__PURE__*/React.createElement(SharingDialog, {\n      id: selectedReport.id,\n      d2: getD2(),\n      open: open,\n      type: \"report\",\n      onRequestClose: handleClose\n    });\n  }\n\n  return null;\n};\n\nStandardReportActions.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  selectedAction: PropTypes.string.isRequired,\n  selectedReport: PropTypes.object.isRequired\n};\nexport default StandardReportActions;","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Snackbar } from '../components/feedback/Snackbar.js';\nimport SearchablePagedList from '../components/SearchablePagedList.js';\nimport { SectionHeadline } from '../components/SectionHeadline.js';\nimport { STANDARD_REPORT_SECTION_KEY, sections } from '../config/sections.config.js';\nimport connectStandardReport from './standard-report/connectStandardReport.js';\nimport { showContextAction } from './standard-report/helper.js';\nimport { ConnectedReportParams } from './standard-report/ReportParams.js';\nimport { CONTEXT_MENU_ACTION, CONTEXT_MENU_ICONS } from './standard-report/standard.report.conf.js';\nimport StandardReportActions from './standard-report/StandardReportActions.js';\n\nconst createContextMenuOptions = props => ({\n  [CONTEXT_MENU_ACTION.CREATE]: props.createReport,\n  [CONTEXT_MENU_ACTION.EDIT]: props.editReport,\n  [CONTEXT_MENU_ACTION.SHARING_SETTINGS]: props.sharingSettings,\n  [CONTEXT_MENU_ACTION.DELETE]: props.requestDeleteStandardReport\n});\n\nclass StandardReport extends React.Component {\n  constructor(props) {\n    super(props);\n    this.contextMenuOptions = createContextMenuOptions(props);\n  }\n\n  componentDidMount() {\n    if (this.props.reports.length === 0) {\n      this.props.loadStandardReports();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SectionHeadline, {\n      label: sections[STANDARD_REPORT_SECTION_KEY].info.label,\n      showBackButton: !!this.props.reportData,\n      onBackClick: this.props.hideReportData,\n      sectionKey: STANDARD_REPORT_SECTION_KEY\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"std-report-content\"\n    }, /*#__PURE__*/React.createElement(SearchablePagedList, {\n      columns: ['displayName'],\n      rows: this.props.reports,\n      isLoading: this.props.loading,\n      contextMenuActions: this.contextMenuOptions,\n      primaryAction: this.contextMenuOptions[[CONTEXT_MENU_ACTION.CREATE]],\n      contextMenuIcons: CONTEXT_MENU_ICONS,\n      isContextActionAllowed: showContextAction,\n      searchInputValue: this.props.search,\n      searchInputChangeHandler: this.props.setSearch,\n      addButtonClickHandler: this.props.addReportFormShow,\n      goToNextPage: this.props.goToNextPage,\n      goToPrevPage: this.props.goToPrevPage\n    }), /*#__PURE__*/React.createElement(StandardReportActions, {\n      open: this.props.open,\n      selectedAction: this.props.selectedAction,\n      selectedReport: this.props.selectedReport,\n      handleClose: this.props.closeContextMenu,\n      handleDisplayReportData: this.props.showReportData\n    })), /*#__PURE__*/React.createElement(ConnectedReportParams, null), /*#__PURE__*/React.createElement(Snackbar, {\n      action: i18n.t('CONFIRM'),\n      onActionClick: this.props.deleteStandardReport\n    }));\n  }\n\n}\n\nStandardReport.propTypes = {\n  addReportFormShow: PropTypes.func.isRequired,\n  closeContextMenu: PropTypes.func.isRequired,\n  deleteStandardReport: PropTypes.func.isRequired,\n  goToNextPage: PropTypes.func.isRequired,\n  goToPrevPage: PropTypes.func.isRequired,\n  hideReportData: PropTypes.func.isRequired,\n  loadStandardReports: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  open: PropTypes.bool.isRequired,\n  reportData: PropTypes.string.isRequired,\n  reports: PropTypes.array.isRequired,\n  search: PropTypes.string.isRequired,\n  selectedAction: PropTypes.string.isRequired,\n  selectedReport: PropTypes.object.isRequired,\n  setSearch: PropTypes.func.isRequired,\n  showReportData: PropTypes.func.isRequired\n};\nconst ConnectedStandardReport = connectStandardReport(StandardReport);\nexport { ConnectedStandardReport as StandardReport };","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst NoMatch = props => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h3\", null, \"No match for \", /*#__PURE__*/React.createElement(\"code\", null, props.location.pathname)));\n\nNoMatch.propTypes = {\n  location: PropTypes.object.isRequired\n};\nexport default NoMatch;","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { sections, DATA_SET_REPORT_SECTION_KEY, ORG_UNIT_DIST_REPORT_SECTION_KEY, REPORTING_RATE_SUMMARY_SECTION_KEY, RESOURCE_SECTION_KEY, STANDARD_REPORT_SECTION_KEY } from '../config/sections.config.js';\nimport { DataSetReport } from '../pages/DataSetReport.js';\nimport Home from '../pages/home/Home.js';\nimport { OrganisationUnitDistributionReport } from '../pages/OrganisationUnitDistributionReport.js';\nimport { ReportingRateSummary } from '../pages/ReportingRateSummary.js';\nimport { Resource } from '../pages/Resource.js';\nimport { AddEditResource } from '../pages/resource/AddEditResource.js';\nimport { ConnectedAddEditStdReport } from '../pages/standard-report/AddEditStdReport.js';\nimport StyledHtmlReport from '../pages/standard-report/StyledHtmlReport.js';\nimport { StandardReport } from '../pages/StandardReport.js';\nimport NoMatch from './NoMatch.js';\nconst standardReportPath = sections[STANDARD_REPORT_SECTION_KEY].path;\nconst resourcePath = sections[RESOURCE_SECTION_KEY].path;\n\nconst AppRouter = () => /*#__PURE__*/React.createElement(\"main\", null, /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(Route, {\n  key: \"home\",\n  exact: true,\n  path: \"/\",\n  component: Home\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: STANDARD_REPORT_SECTION_KEY,\n  path: standardReportPath,\n  component: StandardReport\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: `${STANDARD_REPORT_SECTION_KEY}-viewHTMLReport`,\n  path: `${standardReportPath}/view/:id`,\n  component: StyledHtmlReport\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: `${STANDARD_REPORT_SECTION_KEY}-addEdit` // /edit/id or /new\n  ,\n  path: `${standardReportPath}/:mode/:id?`,\n  component: ConnectedAddEditStdReport\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: DATA_SET_REPORT_SECTION_KEY,\n  path: sections[DATA_SET_REPORT_SECTION_KEY].path,\n  component: DataSetReport\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: REPORTING_RATE_SUMMARY_SECTION_KEY,\n  path: sections[REPORTING_RATE_SUMMARY_SECTION_KEY].path,\n  component: ReportingRateSummary\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: RESOURCE_SECTION_KEY,\n  path: resourcePath,\n  component: Resource\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: `${RESOURCE_SECTION_KEY}-addEdit` // /edit/id or /new\n  ,\n  path: `${resourcePath}/:mode/:id?`,\n  component: AddEditResource\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: ORG_UNIT_DIST_REPORT_SECTION_KEY,\n  path: sections[ORG_UNIT_DIST_REPORT_SECTION_KEY].path,\n  component: OrganisationUnitDistributionReport\n}), /*#__PURE__*/React.createElement(Route, {\n  key: \"no-match-route\",\n  component: NoMatch\n})));\n\nexport default AppRouter;","import { sections, ORG_UNIT_DIST_REPORT_SECTION_KEY } from '../../config/sections.config.js';\nexport const getIsUiBlocked = state => state.organisationUnits.loading || state.reportPeriod.loading || state.dataSet.loading || state.standardReport.loadingSendReport || state.resource.addEditLoading || atOrgUnitDistReportSection(state) && state.orgUnitGroupSets.loading;\n\nconst atOrgUnitDistReportSection = ({\n  router\n}) => router.location.pathname === sections[ORG_UNIT_DIST_REPORT_SECTION_KEY].path;","import { getIsUiBlocked } from '../getIsUiBlocked.js';\nexport const getShowLoading = state => state.feedback.showLoader || getIsUiBlocked(state);","import _JSXStyle from \"styled-jsx/style\";\nimport { CircularProgress } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { getShowLoading } from '../../redux/selectors/feedback/getShowLoading.js';\n\nconst Loader = props => props.show ? /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3072581291\" + \" \" + \"loading-container\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3072581291\" + \" \" + \"progress-wrap\"\n}, /*#__PURE__*/React.createElement(CircularProgress, null)), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"3072581291\"\n}, [\".loading-container.jsx-3072581291{position:fixed;top:0;left:0;height:100%;width:100%;background:rgba(0,0,0,0.4);z-index:3000;}\", \".progress-wrap.jsx-3072581291{position:absolute;top:50%;left:50%;-webkit-transform:'translate(-50%, -50%)';-ms-transform:'translate(-50%, -50%)';transform:'translate(-50%, -50%)';}\"])) : null;\n\nLoader.propTypes = {\n  show: PropTypes.bool.isRequired\n};\n\nconst mapStateToProps = state => ({\n  show: getShowLoading(state)\n});\n\nconst connectedLoader = connect(mapStateToProps)(Loader);\nexport { connectedLoader as Loader, Loader as LoaderOriginal };","import { sections } from '../../../config/sections.config.js';\nexport const getCurrentSection = state => state.router.location.pathname.substring(1);\nexport const getShowSidebar = state => !!sections[getCurrentSection(state)];","import _JSXStyle from \"styled-jsx/style\";\nimport { Sidebar } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport AppRouter from './components/AppRouter.js';\nimport { Loader } from './components/feedback/Loader.js';\nimport { sectionOrder, sections } from './config/sections.config.js';\nimport { loadDataSetOptions } from './redux/actions/dataSet.js';\nimport { loadOrganisationUnits } from './redux/actions/organisationUnits.js';\nimport { loadPeriodTypes } from './redux/actions/reportPeriod.js';\nimport { getCurrentSection, getShowSidebar } from './redux/selectors/sidebar/index.js'; // is not \"marked\" as required but it's used by Sidebar\n\nconst nonOnChangeSection = () => null;\n\nconst sidebarSections = sectionOrder.map(sectionKey => {\n  const section = sections[sectionKey];\n  return { ...section,\n    icon: section.info.icon,\n    label: section.info.label,\n    containerElement: /*#__PURE__*/React.createElement(Link, {\n      to: section.path\n    })\n  };\n});\n\nclass App extends PureComponent {\n  getChildContext() {\n    return {\n      d2: this.props.d2\n    };\n  }\n\n  componentDidMount() {\n    this.props.loadOrganisationUnits();\n    this.props.loadPeriodTypes();\n    this.props.loadDataSetOptions();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, this.props.showSidebar && /*#__PURE__*/React.createElement(Sidebar, {\n      sections: sidebarSections,\n      onChangeSection: nonOnChangeSection,\n      currentSection: this.props.currentSection\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jsx-2459228718 \" + _JSXStyle.dynamic([[\"3655102473\", [this.props.showSidebar ? '295px' : '0']]]) + \" \" + \"content-wrapper\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jsx-2459228718 \" + _JSXStyle.dynamic([[\"3655102473\", [this.props.showSidebar ? '295px' : '0']]]) + \" \" + \"content-area\"\n    }, /*#__PURE__*/React.createElement(AppRouter, null)), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"3655102473\",\n      dynamic: [this.props.showSidebar ? '295px' : '0']\n    }, [`.content-wrapper.__jsx-style-dynamic-selector{margin-left:${this.props.showSidebar ? '295px' : '0'};}`, \".content-area.__jsx-style-dynamic-selector{padding:1rem 20px 20px;}\"]), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"2459228718\"\n    }, [\"body{margin:0;padding:0;}\", \"html{background:#f3f3f3;font-family:'Roboto',sans-serif;}\", \"h1{font-size:24px;font-weight:300;-webkit-letter-spacing:1.2px;-moz-letter-spacing:1.2px;-ms-letter-spacing:1.2px;letter-spacing:1.2px;color:rgba(0,0,0,0.87);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:48px;}\", \".left-bar{width:295px;position:fixed;bottom:0;top:0;left:0;margin-top:3rem;}\", \".d2-ui-table{margin-bottom:0 !important;margin-top:0 !important;}\", \".d2-ui-table__rows__row{font-size:14px;}\", \".data-table-pager--page-info{padding:0 !important;}\", \".data-table-pager--buttons{margin-top:10px !important;margin-bottom:10px !important;}\", \".data-table-pager--buttons .material-icons{margin:0 !important;padding:0 !important;}\", \"#report-container table{width:100% !important;}\"])), /*#__PURE__*/React.createElement(Loader, null));\n  }\n\n}\n\nApp.propTypes = {\n  currentSection: PropTypes.string.isRequired,\n  d2: PropTypes.object.isRequired,\n  loadDataSetOptions: PropTypes.func.isRequired,\n  loadOrganisationUnits: PropTypes.func.isRequired,\n  loadPeriodTypes: PropTypes.func.isRequired,\n  showSidebar: PropTypes.bool.isRequired\n};\nApp.childContextTypes = {\n  d2: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  currentSection: getCurrentSection(state),\n  showSidebar: getShowSidebar(state)\n});\n\nexport default connect(mapStateToProps, {\n  loadOrganisationUnits,\n  loadPeriodTypes,\n  loadDataSetOptions\n})(App);","import { createHashHistory } from 'history';\nconst history = createHashHistory();\nexport default history;","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/dataSet.js';\nexport const defaultSelected = {\n  id: '',\n  displayName: ''\n};\nexport const defaultState = {\n  loading: false,\n  selected: defaultSelected,\n  options: []\n};\nexport const dataSet = (state = defaultState, {\n  type,\n  payload\n} = {}) => {\n  switch (type) {\n    case actionTypes.SELECT_DATA_SET:\n      return { ...state,\n        selected: state.options.reduce((curSelected, cur) => cur.id === payload ? cur : curSelected, {\n          id: '',\n          displayName: ''\n        })\n      };\n\n    case actionTypes.LOADING_DATA_SET_OPTIONS_START:\n      return { ...state,\n        loading: true,\n        loadingError: '',\n        options: []\n      };\n\n    case actionTypes.LOADING_DATA_SET_OPTIONS_SUCCESS:\n      return { ...state,\n        loading: false,\n        options: payload\n      };\n\n    case actionTypes.LOADING_DATA_SET_OPTIONS_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case LOCATION_CHANGE:\n      return { ...state,\n        selected: defaultSelected\n      };\n\n    default:\n      return state;\n  }\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/dataSetDimensions.js';\nexport const defaultState = {\n  loading: false,\n  options: [],\n  selected: {}\n};\nexport const dataSetDimensions = (state = defaultState, {\n  type,\n  payload\n} = {}) => {\n  switch (type) {\n    case actionTypes.LOADING_DIMENSIONS_START:\n      return { ...state,\n        loading: true,\n        options: []\n      };\n\n    case actionTypes.LOADING_DIMENSIONS_SUCCESS:\n      return { ...state,\n        loading: false,\n        options: payload\n      };\n\n    case actionTypes.LOADING_DIMENSIONS_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case actionTypes.SELECT_DIMENSION_OPTION:\n      return { ...state,\n        selected: { ...state.selected,\n          [payload.dimension]: payload.value\n        }\n      };\n\n    case LOCATION_CHANGE:\n      return { ...defaultState\n      };\n\n    default:\n      return state;\n  }\n};","import { actionTypes } from '../actions/dataSetReport.js';\nexport const defaultState = {\n  selectedUnitOnly: false\n};\nexport const dataSetReport = (state = defaultState, {\n  type,\n  payload\n} = {}) => {\n  switch (type) {\n    case actionTypes.TOGGLE_SELECTED_UNIT_ONLY:\n      return { ...state,\n        selectedUnitOnly: payload\n      };\n\n    default:\n      return state;\n  }\n};","import { actionTypes as types } from '../actions/feedback.js';\nexport const defaultState = {\n  showSnackbar: false,\n  showLoader: false,\n  message: '',\n  type: ''\n};\nexport const feedback = (state = defaultState, {\n  type,\n  payload\n}) => {\n  switch (type) {\n    case types.FEEDBACK_CLEAR:\n      return defaultState;\n\n    case types.FEEDBACK_SHOW_LOADER:\n      return { ...state,\n        showLoader: true\n      };\n\n    case types.FEEDBACK_SHOW_SNACKBAR:\n      return { ...state,\n        ...payload,\n        showSnackbar: true,\n        showLoader: false\n      };\n\n    default:\n      return state;\n  }\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/organisationUnits.js';\nexport const ACTIONS = {\n  LOCATION_CHANGE,\n  ...actionTypes\n};\nexport const defaultState = {\n  loading: true,\n  collection: [],\n  selected: null,\n  selectedOptions: {},\n  showOptions: false\n};\nexport function organisationUnits(state = defaultState, {\n  type,\n  payload\n}) {\n  switch (type) {\n    case ACTIONS.ORGANISATION_UNITS_RECEIVED:\n      return { ...state,\n        loading: false,\n        collection: payload\n      };\n\n    case ACTIONS.ORGANISATION_UNITS_ERRORED:\n      return { ...state,\n        loading: false\n      };\n\n    case ACTIONS.ORGANISATION_UNIT_SELECTED:\n      return { ...state,\n        selected: payload\n      };\n\n    case ACTIONS.ORGANISATION_UNITS_OPTION_SELECTED:\n      return { ...state,\n        selectedOptions: { ...state.selectedOptions,\n          [payload.id]: payload.value\n        }\n      };\n\n    case ACTIONS.TOGGLE_SHOW_OPTIONS:\n      return { ...state,\n        showOptions: !state.showOptions\n      };\n\n    case ACTIONS.ORGANISATION_UNIT_CLEARED:\n    case ACTIONS.LOCATION_CHANGE:\n      return { ...defaultState,\n        loading: false,\n        collection: state.collection\n      };\n\n    default:\n      return state;\n  }\n}","import { actionTypes } from '../actions/orgUnitDistReport.js';\nexport const defaultState = {\n  shouldShowChart: false\n};\nexport const orgUnitDistReport = (state = defaultState, {\n  type\n} = {}) => {\n  switch (type) {\n    case actionTypes.SET_TABULAR_OUTPUT:\n      return {\n        shouldShowChart: false\n      };\n\n    case actionTypes.SET_CHART_OUTPUT:\n      return {\n        shouldShowChart: true\n      };\n\n    default:\n      return state;\n  }\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/orgUnitGroupSets.js';\nexport const defaultState = {\n  loading: false,\n  collection: [],\n  selected: ''\n};\nexport function orgUnitGroupSets(state = defaultState, {\n  type,\n  payload\n} = {}) {\n  switch (type) {\n    case actionTypes.LOADING_GROUP_SETS_START:\n      return { ...state,\n        loading: true,\n        collection: []\n      };\n\n    case actionTypes.LOADING_GROUP_SETS_SUCCESS:\n      return { ...state,\n        loading: false,\n        collection: payload\n      };\n\n    case actionTypes.LOADING_GROUP_SETS_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case actionTypes.SET_GROUP_SET:\n      return { ...state,\n        selected: payload\n      };\n\n    case LOCATION_CHANGE:\n      return { ...defaultState,\n        collection: state.collection\n      };\n\n    default:\n      return state;\n  }\n}","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/pagination.js';\nconst allActionTypes = { ...actionTypes,\n  LOCATION_CHANGE\n};\nexport const DEFAULT_PAGE_SIZE = 50;\nexport const defaultState = {\n  pageSize: DEFAULT_PAGE_SIZE,\n  page: 1,\n  total: 0,\n  pageCount: 1,\n  nextPage: '',\n  prevPage: ''\n};\nexport const pagination = (state = defaultState, {\n  type,\n  payload\n} = {}) => {\n  switch (type) {\n    case allActionTypes.GO_TO_NEXT_PAGE:\n      return { ...state,\n        page: state.page + 1\n      };\n\n    case allActionTypes.GO_TO_PREV_PAGE:\n      return { ...state,\n        page: state.page - 1\n      };\n\n    case allActionTypes.SET_PAGINATION:\n      return payload;\n\n    case actionTypes.RESET_PAGINATION:\n    case allActionTypes.LOCATION_CHANGE:\n      return defaultState;\n\n    default:\n      return state;\n  }\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/reportData.js';\nexport const defaultState = {\n  loading: false,\n  content: {},\n  comment: ''\n};\nexport const reportData = (state = defaultState, {\n  type,\n  payload\n} = {}) => {\n  switch (type) {\n    case actionTypes.LOADING_REPORT_DATA_START:\n      return { ...state,\n        loading: true,\n        content: {}\n      };\n\n    case actionTypes.LOADING_REPORT_DATA_SUCCESS:\n      return { ...state,\n        loading: false,\n        content: payload\n      };\n\n    case actionTypes.LOADING_REPORT_DATA_ERROR:\n      return { ...state,\n        loading: false\n      };\n    // @TODO: not sure this is needed.\n    // Not required for reporting-rate-summary\n\n    case actionTypes.UNSET_REPORT_DATA:\n      return { ...state,\n        content: {}\n      };\n\n    case actionTypes.SET_DATA_SET_REPORT_COMMENT:\n      return { ...state,\n        comment: payload\n      };\n\n    case LOCATION_CHANGE:\n      return defaultState;\n\n    default:\n      return state;\n  }\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/reportPeriod.js';\nexport const ACTIONS = {\n  LOCATION_CHANGE,\n  ...actionTypes\n};\nexport const defaultState = {\n  loading: true,\n  collection: [],\n  selectedPeriodType: '',\n  selectedPeriod: ''\n};\nexport function reportPeriod(state = defaultState, {\n  type,\n  payload\n}) {\n  switch (type) {\n    case ACTIONS.REPORT_PERIOD_TYPES_RECEIVED:\n      return { ...state,\n        loading: false,\n        collection: payload\n      };\n\n    case ACTIONS.REPORT_PERIOD_TYPES_ERRORED:\n      return { ...state,\n        loading: false\n      };\n\n    case ACTIONS.REPORT_PERIOD_TYPE_SELECTED:\n      return { ...state,\n        selectedPeriodType: payload,\n        selectedPeriod: ''\n      };\n\n    case ACTIONS.REPORT_PERIOD_SELECTED:\n      return { ...state,\n        selectedPeriod: payload\n      };\n\n    case ACTIONS.REPORT_PERIOD_CLEAR_ALL:\n    case ACTIONS.LOCATION_CHANGE:\n      return { ...defaultState,\n        loading: state.loading,\n        collection: state.collection\n      };\n\n    default:\n      return state;\n  }\n}","import { resourceActions } from '../../utils/resource/constants.js';\nimport { actionTypes } from '../actions/resource.js';\nexport const defaultSelectedResource = {\n  id: '',\n  displayName: ''\n};\nexport const defaultState = {\n  open: false,\n  loading: false,\n  addEditLoading: false,\n  search: '',\n  collection: [],\n  selectedAction: '',\n  selectedResource: defaultSelectedResource\n};\nexport const resource = (state = defaultState, {\n  type,\n  payload\n} = {}) => {\n  switch (type) {\n    case actionTypes.REQUEST_DELETE_RESOURCE:\n      return { ...state,\n        selectedResource: payload\n      };\n\n    case actionTypes.LOADING_RESOURCES_START:\n      return { ...state,\n        loading: true\n      };\n\n    case actionTypes.LOADING_RESOURCES_SUCCESS:\n      return { ...state,\n        loading: false,\n        collection: payload\n      };\n\n    case actionTypes.LOADING_RESOURCES_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case actionTypes.SET_RESOURCE_SEARCH:\n      return { ...state,\n        search: payload\n      };\n\n    case actionTypes.SET_RESOURCE:\n      return { ...state,\n        open: true,\n        selectedResource: payload\n      };\n\n    case actionTypes.SHOW_SHARING_SETTINGS:\n      return { ...state,\n        open: true,\n        selectedResource: payload,\n        selectedAction: resourceActions.SHARING_SETTINGS\n      };\n\n    case actionTypes.DELETE_RESOURCE_START:\n      return { ...state,\n        loading: true\n      };\n\n    case actionTypes.DELETE_RESOURCE_SUCCESS:\n    case actionTypes.DELETE_RESOURCE_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case actionTypes.CLEAR_SELECTED_RESOURCE:\n      return { ...state,\n        open: false,\n        selectedAction: '',\n        selectedResource: defaultSelectedResource\n      };\n\n    case actionTypes.RESOURCE_ADD_LOADING_START:\n    case actionTypes.RESOURCE_EDIT_LOADING_START:\n      return { ...state,\n        addEditLoading: true\n      };\n\n    case actionTypes.RESOURCE_ADD_LOADING_SUCCESS:\n    case actionTypes.RESOURCE_EDIT_LOADING_SUCCESS:\n      return { ...state,\n        addEditLoading: false,\n        open: false,\n        selectedAction: '',\n        selectedResource: defaultSelectedResource\n      };\n\n    case actionTypes.RESOURCE_ADD_LOADING_ERROR:\n    case actionTypes.RESOURCE_EDIT_LOADING_ERROR:\n      return { ...state,\n        addEditLoading: false\n      };\n\n    default:\n      return state;\n  }\n};","import { CONTEXT_MENU_ACTION } from '../../pages/standard-report/standard.report.conf.js';\nimport { actionTypes as reportDataActionTypes } from '../actions/reportData.js';\nimport { actionTypes } from '../actions/standardReport.js';\nexport const defaultState = {\n  reports: [],\n  selectedReport: {},\n  selectedAction: '',\n  search: '',\n  open: false,\n  reportData: '',\n  loading: false,\n  loadingError: '',\n  requestDelete: false,\n  loadingDetails: false,\n  loadingSendReport: false,\n  reportParams: {},\n  reportParamsErrors: [],\n  showReportParams: false\n};\nexport const standardReport = (state = defaultState, action = {}) => {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case actionTypes.SET_SELECTED_REPORT:\n      return { ...state,\n        selectedReport: payload\n      };\n\n    case actionTypes.CLEAR_SELECTED_REPORT:\n      return { ...state,\n        selectedReport: {}\n      };\n\n    case actionTypes.LOADING_STANDARD_REPORTS_START:\n      return { ...state,\n        loading: true\n      };\n\n    case actionTypes.LOADING_STANDARD_REPORTS_SUCCESS:\n      return { ...state,\n        reports: payload,\n        loading: false\n      };\n\n    case actionTypes.LOADING_STANDARD_REPORTS_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case actionTypes.SET_SEARCH:\n      return { ...state,\n        search: payload\n      };\n\n    case actionTypes.SHARING_SETTINGS_SHOW:\n      return { ...state,\n        open: true,\n        selectedReport: payload,\n        selectedAction: CONTEXT_MENU_ACTION.SHARING_SETTINGS\n      };\n\n    case actionTypes.CLOSE_CONTEXT_MENU:\n      return { ...state,\n        open: false,\n        selectedReport: {},\n        selectedAction: ''\n      };\n\n    case actionTypes.REQUEST_DELETE_STANDARD_REPORT:\n      return { ...state,\n        requestDelete: true,\n        selectedReport: payload,\n        selectedAction: CONTEXT_MENU_ACTION.DELETE\n      };\n\n    case actionTypes.DELETE_STANDARD_REPORT_START:\n      return { ...state,\n        requestDelete: false,\n        loading: true\n      };\n\n    case actionTypes.DELETE_STANDARD_REPORT_SUCCESS:\n      return { ...state,\n        selectedReport: {},\n        selectedAction: '',\n        loading: false\n      };\n\n    case actionTypes.DELETE_STANDARD_REPORT_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case actionTypes.LOADING_STANDARD_REPORTS_DETAILS_START:\n      return { ...state,\n        loadingDetails: true\n      };\n\n    case actionTypes.LOADING_STANDARD_REPORTS_DETAILS_SUCCESS:\n      return { ...state,\n        open: true,\n        loadingDetails: false,\n        selectedReport: payload\n      };\n\n    case actionTypes.LOADING_STANDARD_REPORTS_DETAILS_ERROR:\n      return { ...state,\n        loadingDetails: false\n      };\n\n    case actionTypes.STANDARD_REPORT_SEND_START:\n      return { ...state,\n        loadingSendReport: true\n      };\n\n    case actionTypes.STANDARD_REPORT_SEND_SUCCESS:\n    case actionTypes.STANDARD_REPORT_SEND_ERROR:\n      return { ...state,\n        open: false,\n        loadingSendReport: false\n      };\n\n    case actionTypes.DEFINE_REQUIRED_PARAMS:\n      return { ...state,\n        reportParams: payload,\n        showReportParams: true\n      };\n\n    case actionTypes.REQUIRED_PARAMS_ERROR:\n      return { ...state,\n        reportParamsErrors: payload\n      };\n\n    case actionTypes.GENERATE_PDF_REPORT:\n    case actionTypes.CANCEL_GENERATING_PDF_REPORT:\n    case reportDataActionTypes.LOADING_REPORT_DATA_SUCCESS:\n      return { ...state,\n        reportParams: {},\n        reportParamsErrors: [],\n        showReportParams: false\n      };\n\n    default:\n      return state;\n  }\n};","import { actionTypes } from '../actions/standardReportTables.js';\nexport const defaultState = {\n  loading: false,\n  error: '',\n  collection: [],\n  noMatches: false,\n  searchTerm: ''\n};\nexport const standardReportTables = (state = defaultState, {\n  type,\n  payload\n} = {}) => {\n  switch (type) {\n    case actionTypes.STANDARD_REPORT_TABLES_SET_SEARCH_TERM:\n      return { ...state,\n        searchTerm: payload,\n        noMatches: false\n      };\n\n    case actionTypes.STANDARD_REPORT_TABLES_CLEAR_SEARCH_TERM:\n      return { ...state,\n        searchTerm: '',\n        collection: [],\n        noMatches: false\n      };\n\n    case actionTypes.STANDARD_REPORT_TABLES_LOADING_START:\n      return { ...state,\n        error: '',\n        loading: true\n      };\n\n    case actionTypes.STANDARD_REPORT_TABLES_LOADING_SUCCESS:\n      return { ...state,\n        loading: false,\n        error: '',\n        collection: payload,\n        noMatches: payload.length === 0\n      };\n\n    case actionTypes.STANDARD_REPORT_TABLES_LOADING_ERROR:\n      return { ...state,\n        loading: false,\n        noMatches: false\n      };\n\n    default:\n      return state;\n  }\n};","import { connectRouter } from 'connected-react-router';\nimport { combineReducers } from 'redux';\nimport history from '../utils/history.js';\nimport { dataSet } from './reducers/dataSet.js';\nimport { dataSetDimensions } from './reducers/dataSetDimensions.js';\nimport { dataSetReport } from './reducers/dataSetReport.js';\nimport { feedback } from './reducers/feedback.js';\nimport { organisationUnits } from './reducers/organisationUnits.js';\nimport { orgUnitDistReport } from './reducers/orgUnitDistReport.js';\nimport { orgUnitGroupSets } from './reducers/orgUnitGroupSets.js';\nimport { pagination } from './reducers/pagination.js';\nimport { reportData } from './reducers/reportData.js';\nimport { reportPeriod } from './reducers/reportPeriod.js';\nimport { resource } from './reducers/resource.js';\nimport { standardReport } from './reducers/standardReport.js';\nimport { standardReportTables } from './reducers/standardReportTables.js';\nexport default combineReducers({\n  router: connectRouter(history),\n  feedback,\n  standardReport,\n  standardReportTables,\n  dataSetReport,\n  reportPeriod,\n  organisationUnits,\n  orgUnitGroupSets,\n  dataSet,\n  dataSetDimensions,\n  reportData,\n  pagination,\n  orgUnitDistReport,\n  resource\n});","import { routerMiddleware } from 'connected-react-router';\nimport { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport reduxThunk from 'redux-thunk';\nimport history from '../utils/history.js';\nimport rootReducer from './rootReducer.js';\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(routerMiddleware(history), reduxThunk)));\nexport default store;","import i18n from '../locales/index.js';\nconst d2UiTranslations = {\n  settings: i18n.t('Settings'),\n  app_search_placeholder: i18n.t('Search apps'),\n  profile: i18n.t('Profile'),\n  account: i18n.t('Account'),\n  help: i18n.t('Help'),\n  log_out: i18n.t('Log out'),\n  about_dhis2: i18n.t('About DHIS 2'),\n  manage_my_apps: i18n.t('Manage my apps'),\n  no_results_found: i18n.t('No results found'),\n  interpretations: i18n.t('Interpretations'),\n  messages: i18n.t('Messages'),\n  display_name: i18n.t('Name'),\n  report_table: i18n.t('Report Table'),\n  id: i18n.t('ID'),\n  createReport: i18n.t('Create'),\n  editReport: i18n.t('Edit'),\n  actions: i18n.t('Actions'),\n  delete: i18n.t('Delete'),\n  sharingSettings: i18n.t('Sharing settings'),\n  viewResource: i18n.t('View Resource'),\n  editResource: i18n.t('Edit Resource'),\n  add_users_and_user_groups: i18n.t('Add users and user groups'),\n  enter_names: i18n.t('Enter names'),\n  share: i18n.t('Sharing settings'),\n  metadata: i18n.t('Permissions'),\n  created_by: i18n.t('Created By'),\n  who_has_access: i18n.t('Who has access'),\n  external_access: i18n.t('External access (without login)'),\n  can_edit_and_view: i18n.t('Can edit and view'),\n  can_view: i18n.t('Can view'),\n  can_view_only: i18n.t('Can view only'),\n  no_access: i18n.t('No access'),\n  public_access: i18n.t('Public access (with login)'),\n  public_can_edit: i18n.t('Public can edit'),\n  public_can_view: i18n.t('Public can view'),\n  anyone_can_find_view_and_edit: i18n.t('Public can find, view and edit'),\n  anyone_can_find_and_view: i18n.t('Public can find and view'),\n  close: i18n.t('Close'),\n  week: i18n.t('week'),\n  month: i18n.t('month'),\n  year: i18n.t('year'),\n  biMonth: i18n.t('bi monthly'),\n  day: i18n.t('day'),\n  jan: i18n.t('January'),\n  feb: i18n.t('February'),\n  mar: i18n.t('March'),\n  apr: i18n.t('April'),\n  may: i18n.t('May'),\n  jun: i18n.t('June'),\n  jul: i18n.t('July'),\n  aug: i18n.t('August'),\n  sep: i18n.t('September'),\n  oct: i18n.t('October'),\n  nov: i18n.t('November'),\n  dec: i18n.t('December'),\n  'jan-feb': i18n.t('January-February'),\n  'mar-apr': i18n.t('March-April'),\n  'may-jun': i18n.t('May-June'),\n  'jul-aug': i18n.t('July-August'),\n  'sep-oct': i18n.t('September-October'),\n  'nov-dec': i18n.t('November-December'),\n  'nov-apr': i18n.t('November-April'),\n  'may-oct': i18n.t('May-October'),\n  quarter: i18n.t('quarter'),\n  Q1: i18n.t('January-March'),\n  Q2: i18n.t('April-June'),\n  Q3: i18n.t('July-September'),\n  Q4: i18n.t('October-December'),\n  sixMonth: i18n.t('six monthly'),\n  'jan-jun': i18n.t('January-June'),\n  'jul-dec': i18n.t('July-December'),\n  'apr-sep': i18n.t('April-September'),\n  'oct-mar': i18n.t('October-March'),\n  biWeek: i18n.t('Bi-Week'),\n  bi_week: i18n.t('Bi-Week')\n};\n\nconst injectTranslationsToD2 = d2 => {\n  if (d2) {\n    Object.assign(d2.i18n.translations, d2UiTranslations);\n  }\n};\n\nexport default injectTranslationsToD2;","import 'material-design-icons-iconfont/dist/material-design-icons.css';\nimport 'flexboxgrid/css/flexboxgrid.css';\nimport './locales/index.js';\nimport { useConfig } from '@dhis2/app-runtime';\nimport { useD2 } from '@dhis2/app-runtime-adapter-d2';\nimport D2UIApp from '@dhis2/d2-ui-app';\nimport { mui3theme } from '@dhis2/d2-ui-core';\nimport { MuiThemeProvider as Mui3ThemeProvider, createMuiTheme as createMui3Theme } from '@material-ui/core/styles';\nimport { ConnectedRouter } from 'connected-react-router';\nimport React from 'react';\nimport { Provider } from 'react-redux';\nimport App from './App.js';\nimport store from './redux/store.js';\nimport { initApi } from './utils/api.js';\nimport history from './utils/history.js';\nimport injectTranslationsToD2 from './utils/injectTranslationsToD2.js';\nconst MUI3Theme = createMui3Theme(mui3theme);\n\nconst AppWrapper = () => {\n  const {\n    baseUrl\n  } = useConfig();\n  const {\n    d2\n  } = useD2({\n    d2Config: {\n      baseUrl: baseUrl + '/api',\n      schemas: ['dataApprovalLevel', 'dataSet', 'organisationUnit', 'organisationUnitGroupSet', 'report']\n    },\n    onInitialized: d2 => {\n      initApi(d2);\n      injectTranslationsToD2(d2);\n    }\n  });\n\n  if (!d2) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(D2UIApp, null, /*#__PURE__*/React.createElement(Mui3ThemeProvider, {\n    theme: MUI3Theme\n  }, /*#__PURE__*/React.createElement(Provider, {\n    store: store\n  }, /*#__PURE__*/React.createElement(ConnectedRouter, {\n    history: history\n  }, /*#__PURE__*/React.createElement(App, {\n    d2: d2\n  })))));\n};\n\nexport default AppWrapper;"],"sourceRoot":""}