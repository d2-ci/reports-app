{"version":3,"sources":["D2App/locales/index.js","D2App/utils/env/isDevelopment.js","D2App/utils/backwardCompatability.js","D2App/utils/api/helpers.js","D2App/utils/api/constants.js","D2App/utils/dataSetReport/isCustomFormType.js","D2App/utils/api.js","D2App/utils/history.js","D2App/utils/injectTranslationsToD2.js","D2App/utils/feedbackTypes.js","D2App/redux/actions/feedback.js","D2App/redux/reducers/feedback.js","D2App/config/search.config.js","D2App/config/sections.config.js","D2App/utils/periods/relativePeriods.js","D2App/pages/standard-report/standard.report.conf.js","D2App/utils/humanReadableErrorMessage.js","D2App/utils/boolean/isFalsy.js","D2App/utils/periods/fixedPeriods.js","D2App/utils/periods/periodTypes.js","D2App/utils/standardReport/index.js","D2App/redux/actions/orgUnitGroupSets.js","D2App/redux/actions/organisationUnits.js","D2App/redux/actions/pagination.js","D2App/redux/actions/reportData.js","D2App/redux/actions/reportPeriod.js","D2App/redux/actions/standardReport.js","D2App/utils/fileToText.js","D2App/redux/reducers/standardReport.js","D2App/redux/actions/standardReportTables.js","D2App/redux/reducers/standardReportTables.js","D2App/redux/reducers/reportPeriod.js","D2App/redux/reducers/organisationUnits.js","D2App/redux/reducers/orgUnitGroupSets.js","D2App/redux/actions/dataSet.js","D2App/redux/reducers/dataSet.js","D2App/redux/actions/dataSetDimensions.js","D2App/redux/reducers/dataSetDimensions.js","D2App/redux/actions/dataSetReport.js","D2App/redux/reducers/dataSetReport.js","D2App/redux/reducers/reportData.js","D2App/redux/reducers/pagination.js","D2App/redux/actions/orgUnitDistReport.js","D2App/redux/reducers/orgUnitDistReport.js","D2App/redux/actions/resource.js","D2App/utils/resource/constants.js","D2App/redux/reducers/resource.js","D2App/redux/rootReducer.js","D2App/redux/store.js","D2App/redux/selectors/getIsUiBlocked.js","D2App/redux/selectors/feedback/getShowLoading.js","D2App/components/feedback/Loader.js","D2App/utils/getDocsUrl.js","D2App/components/PageHelper.js","D2App/components/SectionHeadline.js","D2App/components/feedback/Snackbar.js","D2App/redux/selectors/dataSetReport/getIsActionEnabled.js","D2App/utils/dataTransformCache.js","D2App/utils/dataSetReport/isHtmlReport.js","D2App/redux/selectors/dataSetReport/getTransformedTableData.js","D2App/pages/data-set-report/connectDataSetReport.js","D2App/utils/styles/shared.js","D2App/utils/react/propTypes.js","D2App/components/TabularReport/DownloadOptions.js","D2App/components/TabularReport/ReportTable.js","D2App/components/TabularReport/ReportComment.js","D2App/components/ReportLoader.js","D2App/pages/standard-report/HtmlReportAssets.js","D2App/pages/standard-report/HtmlReport.js","D2App/pages/data-set-report/DataSetReportOutput.js","D2App/components/DatasetsDropdown.js","D2App/components/DataSetDimensions.js","D2App/redux/selectors/reportPeriod/periodTypes.js","D2App/components/PeriodPickerWithPeriodType.js","D2App/components/AvailableOrganisationUnitsTree.js","D2App/components/OrganisationUnitGroupSets.js","D2App/components/OrgUnitsTreeWithExtraOptions.js","D2App/pages/data-set-report/Form.js","D2App/pages/DataSetReport.js","D2App/components/GroupSetsDropdown.js","D2App/pages/organisation-unit-distribution-report/Form.js","D2App/redux/selectors/orgUnitDistReport/getIsActionEnabled.js","D2App/utils/dataTransformHelpers.js","D2App/redux/selectors/orgUnitDistReport/getTransformedTableData.js","D2App/config/style.config.js","D2App/redux/selectors/orgUnitDistReport/getTransformedChartData.js","D2App/pages/organisation-unit-distribution-report/connectOrganisationUnitDistributionReport.js","D2App/components/BarChart.js","D2App/components/TabularReport.js","D2App/pages/OrganisationUnitDistributionReport.js","D2App/pages/reporting-rate-summary/Form.js","D2App/redux/actions/reportingRateSummary.js","D2App/redux/selectors/reportingRateSummary/getIsActionEnabled.js","D2App/redux/selectors/reportingRateSummary/getTransformedTableData.js","D2App/pages/reporting-rate-summary/connectReportingRateSummary.js","D2App/pages/ReportingRateSummary.js","D2App/pages/resource/connectResource.js","D2App/utils/form/validators.js","D2App/pages/resource/helper.js","D2App/pages/resource/ResourceActions.js","D2App/redux/selectors/pagination/getPagerCurrentlyShown.js","D2App/components/SearchablePagedList.js","D2App/pages/Resource.js","D2App/pages/standard-report/ReportParams.js","D2App/redux/selectors/organisationUnit/getSelectedOrgUnit.js","D2App/redux/selectors/reportPeriod/getSelectedReportPeriod.js","D2App/pages/standard-report/helper.js","D2App/pages/standard-report/StandardReportActions.js","D2App/pages/standard-report/connectStandardReport.js","D2App/pages/StandardReport.js","D2App/pages/standard-report/StyledHtmlReport.js","D2App/components/MenuElement.js","D2App/pages/home/Home.js","D2App/components/NoMatch.js","D2App/utils/boolean/identity.js","D2App/redux/selectors/standardReport/getEditFormInitialValues.js","D2App/components/form/Button.js","D2App/components/form/CheckBox.js","D2App/components/form/CheckBoxes.js","D2App/components/form/CheckBoxGroups.js","D2App/components/form/buildingBlocks/ErrorText.js","D2App/components/form/File.js","D2App/components/form/FormRow.js","D2App/components/form/FormSection.js","D2App/components/form/FormSectionTitle.js","D2App/components/form/styles.js","D2App/components/form/buildingBlocks/HelpText.js","D2App/components/form/Input.js","D2App/components/form/Select.js","D2App/config/standardReport.js","D2App/pages/standard-report/add-edit-report/DesignFileDownloadButton.js","D2App/pages/standard-report/add-edit-report/validate.js","D2App/components/form/ReportTableSearchInput.js","D2App/pages/standard-report/add-edit-report/ReportForm.js","D2App/pages/standard-report/AddEditStdReport.js","D2App/components/form/RadioButton.js","D2App/components/form/RadioButtons.js","D2App/pages/resource/add-edit-resource/ResourceForm/Attachment.js","D2App/pages/resource/add-edit-resource/ResourceForm/File.js","D2App/pages/resource/add-edit-resource/ResourceForm/Name.js","D2App/pages/resource/add-edit-resource/ResourceForm/Title.js","D2App/pages/resource/add-edit-resource/ResourceForm/TitleDetails.js","D2App/pages/resource/add-edit-resource/ResourceForm/TitleResource.js","D2App/pages/resource/add-edit-resource/ResourceForm/Type.js","D2App/pages/resource/add-edit-resource/ResourceForm/Url.js","D2App/pages/resource/add-edit-resource/ResourceForm.js","D2App/pages/resource/AddEditResource.js","D2App/components/AppRouter.js","D2App/redux/selectors/sidebar/index.js","D2App/App.js","D2App/AppWrapper.js"],"names":["i18n","addResources","arTranslations","ar_EGTranslations","ar_IQTranslations","bnTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","frTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","ruTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uzTranslations","uz_CyrlTranslations","uz_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","isBelowVersion34","getSystemMinorVersion","isAtLeastVersion34","getReportTableNameBySystemVersion","getReportParamsFieldName","getStandardReportsFieldsBySystemVersion","reportTableFieldName","reportParamsFieldName","getReportParamsPropertiesBySystemVersion","reportParams","reportingPeriod","paramReportingPeriod","grandParentOrganisationUnit","paramGrandParentOrganisationUnit","organisationUnit","paramOrganisationUnit","parentOrganisationUnit","paramParentOrganisationUnit","formatStandardReportResponseBySystemVersion","reportModel","reportJson","toJSON","reportTable","reportTableReportParams","formatStandardReportsResponse","reportsCollection","reports","toArray","map","pager","pageSize","query","page","pageCount","total","mapCollectionToDimensionQueryString","collections","reduce","dimensionQueryString","collection","Object","keys","key","uploadFile","api","file","formData","FormData","append","post","addFileResourceUrlToResource","resource","url","id","getFileUrls","endPoint","queryString","extensions","extension","getApi","baseUrl","buildQueryString","o","acc","value","Array","isArray","join","push","isCustomFormType","formType","DATA_DIMENSION_SUFFIXES","d2","getD2","getContextPath","system","systemInfo","contextPath","version","minor","getDataSetReport","options","dataSet","data","ds","pe","period","ou","orgUnit","selectedUnitOnly","filter","dataSetDimensions","orgUnitGroupsOptions","requestOptions","headers","Accept","fileUrls","resourceUrl","mergedFilters","baseQueryStr","filterQueryStr","fullQueryStr","getDataSetReportFileUrls","get","then","response","getReportingRateSummaryReport","async","dataSetId","orgUnitOptions","orgUnitIds","getOrgUnitAndChildrenIds","dataDimensions","suffix","req","analytics","request","addDataDimension","addOrgUnitDimension","addPeriodFilter","withColumns","withRows","withTableLayout","withHideEmptyRows","withDisplayProperty","withIncludeNumDen","addFilter","buildQuery","jsonUrl","buildUrl","replace","getAnalyticsFileUrls","children","size","Promise","resolve","models","organisationUnits","fields","model","getStandardReportTables","searchTerm","resourceName","getReportTablesFilterBySystemVersion","paging","postDocument","putDocument","resourceId","update","history","createHashHistory","d2UiTranslations","settings","t","app_search_placeholder","profile","account","help","log_out","about_dhis2","manage_my_apps","no_results_found","interpretations","messages","display_name","report_table","createReport","editReport","actions","delete","sharingSettings","viewResource","editResource","add_users_and_user_groups","enter_names","share","metadata","created_by","who_has_access","external_access","can_edit_and_view","can_view","can_view_only","no_access","public_access","public_can_edit","public_can_view","anyone_can_find_view_and_edit","anyone_can_find_and_view","close","week","month","year","biMonth","day","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","quarter","Q1","Q2","Q3","Q4","sixMonth","biWeek","bi_week","injectTranslationsToD2","assign","translations","actionTypes","clearFeedback","type","showSnackbar","message","payload","showSuccessSnackBar","showErrorSnackBar","showConfirmationSnackBar","defaultState","showLoader","sectionOrder","sections","path","info","label","icon","description","actionText","docs","RELATIVE_PERIODS","flattenedRelativePeriods","group","forEach","displayName","getCurrentDate","Date","now","getPreviousMonday","date","getDay","mondayTimeStamp","getDate","setDate","daysAgo","offset","weeksAgo","previousMonday","startOfYear","getFullYear","getTime","monthUnitsAgo","unitSize","monthIndex","getMonth","firstMonthStr","Math","floor","toString","padStart","firstMonthStartDate","setMonth","yearsAgo","isFinancial","startYear","startDateCalculators","jan4","weeksThisYear","getRelativePeriodStartDate","periodCode","startDateCalutator","timestamp","yyyy","mm","dd","formatYyyyMmDd","CONTEXT_MENU_ACTION","CONTEXT_MENU_ICONS","TYPES","reportTypes","reportTypeOptions","cacheStrategies","fallBackDefault","humanReadableErrorMessage","errorInstance","fallbackMsg","httpStatusCode","useMessage","length","isFalsy","fixedPeriodTranslations","Daily","Weekly","WeeklyWednesday","WeeklyThursday","WeeklySaturday","WeeklySunday","BiWeekly","Monthly","BiMonthly","Quarterly","SixMonthly","SixMonthlyApril","SixMonthlyNov","Yearly","FinancialApril","FinancialJuly","FinancialOct","relativePeriodsThatAreActuallyFixed","thisDay","thisWeek","thisBiWeek","thisMonth","thisBimonth","thisQuarter","thisSixMonth","thisYear","thisFinancialYear","isFixedPeriodType","periodType","getPeriodStartDate","parseFixedPeriod","startDate","getFixedPeriodStartDate","isJasperReportTableReport","report","appendOrgUnitsAndReportPeriodToQueryString","state","baseStr","standardReport","reportPeriod","selected","selectedPeriod","processCheckboxValues","formSelectedKeys","stateValues","selectedKeys","Set","has","loadingGroupSetsErrorDefaultMessage","loadGroupSetOptions","dispatch","organisationUnitGroupSet","list","groupSets","catch","error","displayMessage","loadingGroupSetsError","ORGANISATION_UNITS_LOADING_START","ORGANISATION_UNITS_RECEIVED","ORGANISATION_UNITS_ERRORED","ORGANISATION_UNIT_SELECTED","ORGANISATION_UNIT_CLEARED","ORGANISATION_UNITS_OPTION_SELECTED","TOGGLE_SHOW_OPTIONS","loadOrganisationUnitsErrorDefaultMessage","loadOrganisationUnitsErrorWithFeedback","clearSelectedOrgUnit","GO_TO_NEXT_PAGE","GO_TO_PREV_PAGE","SET_PAGINATION","RESET_PAGINATION","goToNextPage","goToPrevPage","setPagination","pagination","loadingReportDataStart","loadingReportDataSuccess","reportData","loadingReportDataError","loadingReportDataSuccessWithFeedback","shouldShowChart","successMsg","outputType","loadingReportDataErrorWithFeedback","defaultMessage","sharingReportCommentStartWithFeedback","sharingReportCommentSuccessWithFeedback","sharingReportCommentErrorWithFeedback","defaultMessge","REPORT_PERIOD_TYPES_LOADING_START","REPORT_PERIOD_TYPES_RECEIVED","REPORT_PERIOD_TYPES_ERRORED","REPORT_PERIOD_TYPE_SELECTED","REPORT_PERIOD_SELECTED","REPORT_PERIOD_CLEAR_ALL","fallbackErrorMessage","loadPeriodTypesErrorWithFeedback","clearSelectedReportPeriod","loadingStandardReportsErrorWithFeedback","debouncedLoadStandardReports","debounce","loadStandardReports","deleteStandardReportSuccessWithFeedback","deleteStandardReportErrorWithFeedback","closeContextMenu","refreshList","getState","search","nameFilter","addFilterForName","name","on","ilike","getFilteredStandardReports","deleteStandardReport","selectedReport","loadingStandardReportsDetailsError","sendStandardReport","isEdit","formattedReport","relativePeriods","dhis2CoreVersionFormattedReport","visualization","rp","formatStandardReportPayloadBySystemVersion","omit","doRequest","updateStandardReport","postStandardReport","successMessage","errorMessage","blob","designContent","reject","fileReader","FileReader","readAsText","onload","event","target","readyState","result","navigateToList","showReportParams","setSelectedReport","requiredParams","omitBy","extractRequiredReportParams","getReportParams","defineRequiredReportParams","isHtmlReport","navigateToHtmlReportView","generatePdfReport","reportId","reportQueryString","reportPath","window","open","selectedAction","loading","loadingError","requestDelete","loadingDetails","loadingSendReport","reportParamsErrors","setSearch","loadingStandardReportTablesErrorWithFeedback","loadStandardReportTables","standardReportTables","reportTables","formattedReportTables","debouncedLoadStandardReportTables","noMatches","ACTIONS","LOCATION_CHANGE","selectedPeriodType","selectedOptions","showOptions","selectDataSet","loadingDataSetOptionsErrorWithFeedback","defaultSelected","loadingDimensionsErrorWithFeedback","loadDimensions","order","dimensions","loadingDimensionsSuccess","shareDataSetReportComment","comment","orgUnitId","endpointUrl","postDataSetReportCommentUrl","postDataSetReportComment","content","allActionTypes","nextPage","prevPage","loadReport","orgUnitGroupSets","orgUnitDistReport","groupSetId","ougs","columns","relativeUrl","getOrgUnitDistReport","loadingResourcesErrorWithFeedback","loadResources","requestData","getResources","resources","documents","debouncedLoadResources","setSearchAndLoadResources","toResourceForm","setResource","confirmationMessage","deleteResourceSuccessWithFeedback","defaultDeleteResourceErrorMessage","deleteResourceErrorWithFeedback","clearSelectedResource","loadingAddResourceError","resourceTypes","resourceTypeOptions","resourceActions","contextMenuIcons","defaultSelectedResource","addEditLoading","selectedResource","combineReducers","router","connectRouter","feedback","types","action","reportDataActionTypes","dataSetReport","curSelected","cur","dimension","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","routerMiddleware","reduxThunk","atOrgUnitDistReportSection","location","pathname","getShowLoading","getIsUiBlocked","connectedLoader","connect","show","props","className","getDocsVersion","major","snapshot","getDocsUrl","sectionKey","lng","PageHelper","href","rel","SectionHeadline","showBackButton","role","tabIndex","onClick","onBackClick","defaultProps","Snackbar","onActionClick","onClose","conf","mapDispatchToProps","connectedSnackbar","getIsActionEnabled","createDataTransformCache","inputData","transformedData","hasValidCacheFor","getCachedResult","setCachedResult","input","transformed","cache","getTransformedTableData","isEmpty","tables","transformTableData","title","h","column","rows","cells","x","connectDataSetReport","reportContent","isReportLoading","reportComment","isActionEnabled","loadReportData","e","selectDataSetOriginal","toggleSelectedUnitOnly","setDataSetReportComment","setReportComment","formLabel","styles","container","card","formCard","formLoader","actionsContainer","formOption","PropTypes","oneOfType","arrayOf","node","string","array","object","shape","isRequired","onBlur","func","onChange","onFocus","touched","bool","prefix","DownloadOption","download","DownloadOptions","index","Row","cell","ReportTable","header","actionButtonPlaceholder","inputFieldPlaceholder","ReportComment","placeholder","multiline","fullWidth","raised","color","disabled","trim","ReportLoader","isLoading","childrenToWrap","CSS_FILES","media","styleSheet","SCRIPT_FILES","createScriptTag","script","src","createLinkTag","Loader","HtmlReport","Component","heigth","heightObserver","onIframeLoad","iframeHtml","contentWindow","document","documentElement","iframeBody","body","this","ResizeObserver","onContentResize","observe","adjustHeight","getBoundingClientRect","entries","entry","contentRect","iframeHtmlRect","iframeBodyRect","height","max","setState","ceil","componentWillUnmount","disconnect","render","html","srcDoc","width","seamless","sandbox","onLoad","DataSetReportOutput","table","hintTextLoading","hintTextDefault","DatasetsDropdown","menuItems","hintText","createDimensionChangeHandler","dimensionId","element","DimensionDropdown","values","items","includeEmpty","emptyLabel","thickness","DataSetDimensions","hide","Fragment","ConnectedDataSetDimensions","evt","getFilteredPeriodTypes","fixedPeriodTypes","periods","periodKey","isRelative","periodTypeLabelText","selectPeriodType","selectPeriod","onPickPeriod","selectOrganisationUnit","_event","hideMemberCount","roots","initiallyExpanded","unit","onSelectClick","labelText","OrganisationUnitGroupSetDropdown","groupSet","organisationUnitGroups","OrganisationUnitGroupSets","selectGroupSet","getExtraOptionsClassName","isLoadingOptions","toggleShowOptions","Form","onDataSetChange","onSelectedUnitOnlyChange","onGetReportClick","isGetReportDisabled","ConnectedDataSetReport","GroupSetsDropdown","onGetChartClick","getTitle","orgUnitColumnDisplayName","totalColumnDisplayName","tableData","getRows","selectedOrgUnitName","toNumericWithTotal","sort","rowA","rowB","a","b","nameA","toUpperCase","nameB","upperOrgUnitName","localeCompare","ascByNameWithParentBelow","cellsWithTotals","cellStr","cellVal","parseInt","getTransformedChartData","chartData","labels","datasets","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","display","text","fontSize","fontFamily","legend","position","animation","duration","getChartData","loadChart","loadTable","connectOrganisationUnitDistributionReport","groupSetsReady","BarChart","TabularReport","OrganisationUnitDistributionReport","React","componentDidMount","ConnectedOrganisationUnitDistributionReport","showForm","nameColumnDisplayName","rowIndexesToRead","parseTitle","parseHeaders","rowsWithAllFields","row","rowIndex","parseFloat","metaData","dx","dimensionCode","ConnectedReportingRateSummary","connectReportingRateSummary","goToNextPageOrig","goToPrevPageOrig","requestDeleteResource","deleteResource","addResource","showSharingSettings","connectResource","loadingResources","undefined","isRequiredWhen","when","ResourceActions","onRequestClose","handleClose","getPagerCurrentlyShown","projectedEnd","end","searchText","__hash","pagerTotal","pagerHasNextPage","pagerHasPreviousPage","pagerCurrentlyShown","hasNextPage","hasPreviousPage","currentlyShown","onNextPageClick","onPreviousPageClick","searchInputValue","searchInputChangeHandler","contextMenuActions","primaryAction","isContextActionAllowed","fab","addButtonClickHandler","Resource","constructor","super","contextMenuOptions","createContextMenuOptions","access","read","manage","externalize","external","ConnectedResource","labelCancel","labelSubmit","colorError","red","buttonStyles","primaryButtonStyle","theme","palette","primary2Color","primary1Color","ConnectedReportParams","cancelGeneratingPdfReport","submitRequiredReportParams","errors","getSelectedOrgUnit","getSelectedReportPeriod","validateRequiredParams","requiredReportParamsError","maxWidth","_JSXStyle","dynamic","variant","showContextAction","StandardReportActions","connectStandardReport","addReportFormShow","addStandardReport","editReportFormShow","hideReportData","requestDeleteStandardReport","sharingSettingsShow","showReportData","StandardReport","handleDisplayReportData","ConnectedStandardReport","reportCard","LinkToListWithRef","forwardRef","ref","innerRef","to","StyledHtmlReport","match","params","generateHtmlReport","searchParams","URLSearchParams","component","reportRequestBody","requestBody","getStandardReportHtmlReport","generatingHtmlReportErrorDefaultMessage","generatingHtmlReportErrorWithFeedback","MenuElement","Home","menuCards","NoMatch","identity","getIsEdit","matchPath","mode","getEditFormInitialValues","createSelector","cacheStrategy","Button","isPrimary","checkboxStyle","CheckBox","htmlFor","CheckBoxes","withStyles","margin","classes","showError","meta","option","propTypes","CheckBoxGroups","displayError","groups","errorTextColor","ErrorText","showErrorText","useFileBlobAsValue","persist","files","formatBlobToString","File","format","fieldProps","FormRow","FormSection","FormSectionTitle","inputWrapper","HelpText","style","blue","Input","helpText","SelectField","showEmptyOption","Select","reportParameterOptions","DesignFileDownloadButton","isEditing","reportType","validateNewReport","validateName","validateReportTable","validateDesignContent","validateCacheStrategy","validateReportUpdate","centeredStyle","alignItems","justifyContent","paddingTop","paddingBottom","errorStyle","infoStyle","fontStyle","ReportTableSearchInput","persistedReportTableName","loadFilteredStandardReportTables","clearSearch","inputRef","useRef","isSearchMode","setSearchMode","useState","reportTableName","setReportTableName","showResults","showHint","usedValue","inputProps","count","autoComplete","anchorEl","current","offsetWidth","maxHeight","overflow","item","onMouseDown","getListContent","ReportForm","onSubmit","validate","edit","initialValues","subscription","handleSubmit","backToList","AddEditStandardReport","PureComponent","loadStandardReportDetails","headlineText","ConnectedComponent","getStandardReportDetails","RadioButton","RadioButtons","Attachment","Name","Title","TitleDetails","TitleResource","Type","Url","ResourceForm","valid","isEditingFileResource","isFileRequired","onSubmitLabel","onCancel","AddEditResource","attachment","extractFileAndFormattedResource","updateResource","addNewResource","isResourceLoaded","loadResource","getResourceIdFromUrl","getInitialValues","getFormTexts","editTitle","editSubmitLabel","addText","submitLabel","ConnectedAddEditResource","getResourceById","fileResource","putResource","defaultAddResourceErrorMessage","loadingEditResourceErrorWithFeedback","postResource","loadingAddResourceErrorWithFeedback","standardReportPath","resourcePath","AppRouter","exact","ConnectedAddEditStdReport","DataSetReport","ReportingRateSummary","getCurrentSection","substring","getShowSidebar","nonOnChangeSection","sidebarSections","section","containerElement","App","getChildContext","loadOrganisationUnits","loadPeriodTypes","loadDataSetOptions","showSidebar","onChangeSection","currentSection","childContextTypes","level","modelCollection","loadOrganisationUnitsSuccess","console","resp","periodTypes","loadPeriodTypesSuccess","loadingDataSetOptionsSuccess","MUI3Theme","createMui3Theme","mui3theme","AppWrapper","useConfig","useD2","d2Config","schemas","onInitialized","Api"],"mappings":"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","file":"static/js/app.4f5a5b3a.chunk.js","sourcesContent":["//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_EGTranslations from './ar_EG/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport bnTranslations from './bn/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uzTranslations from './uz/translations.json';\nimport uz_CyrlTranslations from './uz_Cyrl/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_EG', namespace, ar_EGTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('bn', namespace, bnTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz', namespace, uzTranslations);\ni18n.addResources('uz_Cyrl', namespace, uz_CyrlTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","/**\n * @return {boolean}\n */\nexport const isDevelopment = () => process.env.NODE_ENV === 'development';","import { getSystemMinorVersion } from './api';\n/*\nThe following API changes were introduced in v2.34:\n\n1. The `api/reportTables` endpoint was replaced by `api/visualizations`\n\n2. The response payload from this endpoint now looks slightly different:\n    \n    < 2.34\n    \"reportParams\": {\n        \"paramGrandParentOrganisationUnit\": false,\n        \"paramReportingPeriod\": false,\n        \"paramOrganisationUnit\": false,\n        \"paramParentOrganisationUnit\": false\n    }\n\n    >= 2.34\n    \"reportingParams\": {\n        \"grandParentOrganisationUnit\": false,\n        \"reportingPeriod\": false,\n        \"organisationUnit\": false,\n        \"parentOrganisationUnit\": false\n    }\n\n3. From >= 2.34 onward we have to deal with some inconsistencies in the property names:\n    - `report.reportParams`\n    - `report.visualization.reportingParams`\n\nThe functions in this module are there to deal with these discrepancies. To avoid too many changes to the app state model, the following names have been settled on:\n1. `reportTables` in favour of `visualizations`\n2. `reportParams` in favour of `reportingParams`\n3. don't prefix reportParams properties with `param`, \n   i.e. `reportingPeriod` in favour of `paramReportingPeriod`\n\n\nWhen we drop support for version v2.33 these helpers can be removed and replaced\nwith much more simple and sane logic\n*/\n\nconst isBelowVersion34 = () => getSystemMinorVersion() < 34;\n\nconst isAtLeastVersion34 = () => !isBelowVersion34();\n\nconst getReportTableNameBySystemVersion = () => isBelowVersion34() ? 'reportTable' : 'visualization';\n\nconst getReportParamsFieldName = () => isBelowVersion34() ? 'reportParams' : 'reportingParams';\n\nexport const getReportTablesResourceNameBySystemVersion = () => `${getReportTableNameBySystemVersion()}s`;\nexport const getReportTablesFilterBySystemVersion = searchTerm => isAtLeastVersion34() ? [`identifiable:token:${searchTerm}`, 'type:eq:PIVOT_TABLE'] : [`name:ilike:${searchTerm}`];\n/**\n * Required fields for displaying the standard reports\n */\n\nexport const getStandardReportsFieldsBySystemVersion = () => {\n  const reportTableFieldName = getReportTableNameBySystemVersion();\n  const reportParamsFieldName = getReportParamsFieldName();\n  return ['displayName', 'type', 'id', `${reportTableFieldName}[id,displayName,${reportParamsFieldName},relativePeriods]`, 'reportParams', 'relativePeriods', 'access'];\n};\n\nconst getReportParamsPropertiesBySystemVersion = reportParams => {\n  if (isAtLeastVersion34() || !reportParams) {\n    return reportParams;\n  }\n\n  return {\n    reportingPeriod: reportParams.paramReportingPeriod,\n    grandParentOrganisationUnit: reportParams.paramGrandParentOrganisationUnit,\n    organisationUnit: reportParams.paramOrganisationUnit,\n    parentOrganisationUnit: reportParams.paramParentOrganisationUnit\n  };\n};\n\nexport const getStandardReportFieldsBySystemVersion = () => {\n  const reportTableField = isAtLeastVersion34() ? 'visualization[id,displayName]' : 'reportTable[id,displayName]';\n  return [':owner', reportTableField];\n};\nexport const formatStandardReportResponseBySystemVersion = reportModel => {\n  // handle both d2 model instances and plain objects\n  const reportJson = reportModel.toJSON ? reportModel.toJSON() : reportModel; // <2.34 reportModel.reportTable, >=2.34 reportmodel.visualization\n\n  const reportTable = reportModel[getReportTableNameBySystemVersion()]; // <2.34 reportModel.reportTable.reportParams, >=2.34 reportmodel.visualization.reportingParams\n\n  const reportTableReportParams = reportTable && reportTable[getReportParamsFieldName()];\n  return { ...reportJson,\n    reportParams: getReportParamsPropertiesBySystemVersion(reportJson.reportParams),\n    reportTable: { // The JSON representation of a d2 reportModel is missing\n      // some of the reportTable properties such as reportParams\n      ...reportTable,\n      reportParams: getReportParamsPropertiesBySystemVersion(reportTableReportParams)\n    }\n  };\n};\nexport const formatStandardReportPayloadBySystemVersion = report => {\n  if (isAtLeastVersion34()) {\n    const visualization = report.reportTable;\n    delete report.reportTable;\n    return { ...report,\n      visualization\n    };\n  }\n\n  const rp = report.reportParams;\n  return { ...report,\n    reportParams: {\n      paramGrandParentOrganisationUnit: rp.grandParentOrganisationUnit,\n      paramOrganisationUnit: rp.organisationUnit,\n      paramParentOrganisationUnit: rp.parentOrganisationUnit,\n      paramReportingPeriod: rp.reportingPeriod\n    }\n  };\n};","import { FILE_RESOURCES_ENDPOINT } from './constants';\nimport { getApi } from '../api';\nimport { formatStandardReportResponseBySystemVersion } from '../backwardCompatability';\n/**\n * @param {Object} d2 ModelCollection instance\n * @return {Array<string>}\n */\n\nexport const mapResponseToArrayOfIds = model => model.toArray().map(({\n  id\n}) => id);\n/**\n * @param {string} name\n * @param {Object} model\n * @return {Object} The model with the filter if it wasn't an empty string otherwise the model without the filter\n */\n\nexport const addFilterForName = (name, model) => !name ? model : model.filter().on('displayName').ilike(name);\n/**\n * @param {Promise} request\n * @returns {Object}\n */\n\nexport const formatStandardReportsResponse = reportsCollection => {\n  const reports = reportsCollection.toArray().map(formatStandardReportResponseBySystemVersion);\n  const pager = {\n    pageSize: reportsCollection.pager.query.pageSize,\n    page: reportsCollection.pager.page,\n    pageCount: reportsCollection.pager.pageCount,\n    total: reportsCollection.pager.total\n  };\n  return {\n    reports,\n    pager\n  };\n};\n/**\n * @param {...Object} collections\n * @returns {string[]}\n */\n\nexport const mapCollectionToDimensionQueryString = (...collections) => collections.reduce((dimensionQueryString, collection) => [...dimensionQueryString, ...Object.keys(collection).map(key => `${key}:${collection[key]}`)], []);\n/**\n * @param {Object} req - D2 AnalyticsRequest instance\n * @param {Array<String>} extensions - File extensions needed\n * @returns {Object} - An object containing the download links for the requested file extensions\n */\n\nexport const getAnalyticsFileUrls = (req, extensions) => {\n  const query = req.buildQuery();\n  const suffix = Object.keys(query).reduce((suffix, key) => suffix += `&${key}=${query[key]}`, '');\n  const jsonUrl = `${getApi().baseUrl}/${req.buildUrl()}${suffix}`;\n  return extensions.reduce((fileUrls, extension) => {\n    fileUrls.push({\n      extension,\n      url: jsonUrl.replace('analytics.json?', `analytics.${extension}?`)\n    });\n    return fileUrls;\n  }, []);\n};\nexport const getDataSetReportFileUrls = (resourceUrl, options) => {\n  const mergedFilters = { ...options.dataSetDimensions,\n    ...options.orgUnitGroupsOptions\n  };\n  const baseQueryStr = buildQueryString({\n    ds: options.dataSet.id,\n    pe: options.period,\n    ou: options.orgUnit,\n    selectedUnitOnly: options.selectedUnitOnly\n  });\n  const filterQueryStr = Object.keys(mergedFilters).map(key => `filter=${key}:${mergedFilters[key]}`).join('&');\n  const fullQueryStr = filterQueryStr ? `${baseQueryStr}&${filterQueryStr}` : baseQueryStr;\n  return getFileUrls(resourceUrl, fullQueryStr, ['xls', 'pdf']);\n};\n/**\n * @param {Object} api\n * @param {File} file\n * @returns {Promise}\n */\n\nexport const uploadFile = (api, file) => {\n  const formData = new FormData();\n  formData.append('file', file);\n  formData.append('domain', 'DOCUMENT');\n  return api.post(FILE_RESOURCES_ENDPOINT, formData);\n};\n/**\n * @param {Object} resource\n * @param {File} file\n * @returns {Object}\n */\n\nexport const addFileResourceUrlToResource = (resource, file) => ({ ...resource,\n  url: file.id || resource.url\n});\n/**\n * @param {String} endpoint\n * @param {string} queryString\n * @param {Array<String>} extensions - file extensions to produce\n * @returns {Array} - Array of objects with extension and url properties\n */\n\nexport const getFileUrls = (endPoint, queryString, extensions) => extensions.map(extension => ({\n  extension,\n  url: `${getApi().baseUrl}/${endPoint}.${extension}?${queryString}`\n}));\n/**\n * Takes an object and returns a query string\n * For arrays it will create a semi-colon-delimited string\n * @param {Object} o - object to base the queryString upon\n * @example\n * buildQueryString({a: 'yeah', b: ['u', 1]})\n * // returns 'a=yeah&b=u;1'\n * @returns {String} - query string\n */\n\nexport const buildQueryString = o => {\n  return Object.keys(o).reduce((acc, key) => {\n    const value = Array.isArray(o[key]) ? o[key].join(';') : o[key];\n    acc.push(`${key}=${value}`);\n    return acc;\n  }, []).join('&');\n}; // Url creaters\n\nexport const postDataSetReportCommentUrl = (dataSetId, orgUnitId, period) => `interpretations/dataSetReport/${dataSetId}?pe=${period}&ou=${orgUnitId}`;","export const DATA_SET_DIMENSIONS_ENDPOINT = 'dimensions/dataSet';\nexport const DATA_SET_REPORT_INTERPOLATION_ENDPOINT = 'interpretations/dataSetReport';\nexport const DATA_SET_REPORTS_ENDPOINT = 'dataSetReport';\nexport const FILE_RESOURCES_ENDPOINT = 'fileResources';\nexport const ORG_UNIT_DISTRIBUTION_REPORT_ENDPOINT = 'orgUnitAnalytics';\nexport const REPORTING_RATE_SUMMARY_ENDPOINT = 'organisationUnits/%orgUnitId%/rateSummary';\nexport const RESOURCE_ENDPOINT = 'documents';\nexport const STANDARD_REPORTS_ENDPOINT = 'reports'; // Url creaters\n\nexport const postDataSetReportCommentUrl = (dataSetId, orgUnitId, period) => `${DATA_SET_REPORT_INTERPOLATION_ENDPOINT}/${dataSetId}?pe=${period}&ou=${orgUnitId}`;\nexport const DATA_DIMENSION_SUFFIXES = ['ACTUAL_REPORTS', 'EXPECTED_REPORTS', 'REPORTING_RATE', 'ACTUAL_REPORTS_ON_TIME', 'REPORTING_RATE_ON_TIME'];","export const isCustomFormType = formType => formType === 'CUSTOM';","import { isDevelopment } from './env/isDevelopment';\nimport { addFileResourceUrlToResource, uploadFile, addFilterForName, formatStandardReportsResponse, mapCollectionToDimensionQueryString, mapResponseToArrayOfIds, getAnalyticsFileUrls, buildQueryString, getFileUrls, postDataSetReportCommentUrl, getDataSetReportFileUrls } from './api/helpers';\nimport { getReportTablesResourceNameBySystemVersion, getReportTablesFilterBySystemVersion, getStandardReportsFieldsBySystemVersion, formatStandardReportResponseBySystemVersion, getStandardReportFieldsBySystemVersion } from './backwardCompatability.js';\nimport { isCustomFormType } from './dataSetReport/isCustomFormType';\nexport const RESOURCE_ENDPOINT = 'documents';\nconst DATA_DIMENSION_SUFFIXES = ['ACTUAL_REPORTS', 'EXPECTED_REPORTS', 'REPORTING_RATE', 'ACTUAL_REPORTS_ON_TIME', 'REPORTING_RATE_ON_TIME'];\nconst STANDARD_REPORTS_ENDPOINT = 'reports';\nlet d2;\nlet api;\n/**\n * Sets d2 and the api\n */\n\nexport const initApi = d2Instance => {\n  d2 = d2Instance;\n  api = d2.Api.getApi();\n\n  if (isDevelopment()) {\n    window.d2 = d2;\n    window.d2Api = api;\n  }\n};\n/**\n * @return {Object} d2 instance\n */\n\nexport const getD2 = () => d2;\n/**\n * @return {Object} d2 api instance\n */\n\nexport const getApi = () => api;\n/**\n * @returns {string} context path\n */\n\nexport const getContextPath = () => d2.system.systemInfo.contextPath;\n/**\n * @typedef {Object} Version\n * @property {number} major The major version\n * @property {number} minor The minor version\n * @property {boolean} snapshot Flag to indicate if build is a snapshot\n */\n\n/**\n * @returns {Version} The dhis2-core instance version\n */\n\nexport const getSystemVersion = () => d2.system.version;\n/**\n * @returns {Number} The dhis2-core instance minor version\n */\n\nexport const getSystemMinorVersion = () => d2.system.version.minor;\n/**\n * @return {Promise} Period types\n */\n\nexport const getPeriodTypes = () => api.get('periodTypes').then(resp => resp.periodTypes);\n/**\n * @return {Promise} Organisation units\n */\n\nexport const getOrganisationUnits = () => d2.models.organisationUnits.list({\n  paging: false,\n  level: 1,\n  fields: ['id', 'displayName', 'path', 'children::isNotEmpty', 'memberCount']\n}).then(modelCollection => modelCollection.toArray());\n/**\n * @param {Array} dataSetOptions\n * @param {Array} orgUnitGroupsOptions\n * @param {string} dataSetId\n * @param {string} orgUnit\n * @param {string} period\n * @param {bool} selectedUnitOnly\n * @returns {Promise}\n */\n\nexport const getDataSetReport = options => {\n  const endPoint = 'dataSetReport';\n  const url = isCustomFormType(options.dataSet.formType) ? `${endPoint}/custom` : endPoint;\n  const data = {\n    ds: options.dataSet.id,\n    pe: options.period,\n    ou: options.orgUnit,\n    selectedUnitOnly: options.selectedUnitOnly,\n    filter: mapCollectionToDimensionQueryString(options.dataSetDimensions, options.orgUnitGroupsOptions)\n  };\n  const requestOptions = isCustomFormType(options.dataSet.formType) ? {\n    headers: {\n      Accept: 'text/html'\n    }\n  } : {};\n  const fileUrls = getDataSetReportFileUrls(endPoint, options);\n  return api.get(url, data, requestOptions).then(response => ({\n    data: response,\n    fileUrls\n  }));\n};\n/**\n * @param {string} dataSetId\n * @returns {Promise<array>} The dimensions for a given dataset\n */\n\nexport const getDimensions = dataSetId => api.get(`dimensions/dataSet/${dataSetId}`, {\n  fields: ['id', 'displayName', 'items[id,displayName]'].join(','),\n  order: 'name:asc',\n  paging: false\n}).then(({\n  dimensions\n}) => dimensions);\n/**\n * @param {string} dataSetId\n * @param {string} orgUnitId\n * @param {string} period\n * @param {string} comment\n * @returns {Promise}\n */\n\nexport const postDataSetReportComment = (dataSetId, orgUnitId, period, comment) => {\n  const endpointUrl = postDataSetReportCommentUrl(dataSetId, orgUnitId, period);\n  const requestHeaders = {\n    headers: {\n      'Content-Type': 'text/plain'\n    }\n  };\n  return api.post(endpointUrl, comment, requestHeaders);\n};\n/**\n * @param {Object} orgUnit\n * @param {string} dataSetId\n * @param {string} period\n * @param {Object} orgUnitOptions\n * @returns {Promise}\n */\n\nexport const getReportingRateSummaryReport = async (orgUnit, dataSetId, period, orgUnitOptions) => {\n  const orgUnitIds = await getOrgUnitAndChildrenIds(orgUnit);\n  const dataDimensions = DATA_DIMENSION_SUFFIXES.map(suffix => `${dataSetId}.${suffix}`);\n  const req = new d2.analytics.request().addDataDimension(dataDimensions).addOrgUnitDimension(orgUnitIds).addPeriodFilter(period).withColumns('dx').withRows('ou').withTableLayout().withHideEmptyRows().withDisplayProperty('SHORTNAME').withIncludeNumDen(false);\n\n  for (const key in orgUnitOptions) {\n    if (orgUnitOptions[key]) {\n      req.addFilter(key, orgUnitOptions[key]);\n    }\n  } // Instead of calling `d2.analytics.aggregate.get(req)`, which spawns two parallel requests,\n  // we're just building the .json url from the request instance and call the regular `api.get(url)`,\n  // which only spawns a single request\n\n\n  const extensions = ['json', 'xls', 'csv'];\n  const [{\n    url\n  }, ...fileUrls] = getAnalyticsFileUrls(req, extensions);\n  return api.get(url).then(data => ({ ...data,\n    fileUrls\n  }));\n};\n/**\n * @param {Object} orgUnit\n * @returns {Promise} - Array of IDs of the orgUnit and its direct descendants\n */\n\nexport const getOrgUnitAndChildrenIds = orgUnit => {\n  const children = orgUnit.children.size ? Promise.resolve(orgUnit.children) : d2.models.organisationUnits.get(orgUnit.id, {\n    fields: ['children[id]']\n  }).then(({\n    children\n  }) => children);\n  return children.then(children => [orgUnit.id, ...mapResponseToArrayOfIds(children)]);\n};\n/**\n * @returns {Promise}\n */\n\nexport const getOrgUnitGroupSets = () => d2.models.organisationUnitGroupSet.list({\n  paging: false,\n  fields: 'id,displayName,organisationUnitGroups[id,displayName]'\n});\n/**\n * @param {Object} orgUnit\n * @param {string} groupSetId\n * @returns {Promise}\n */\n\nexport const getOrgUnitDistReport = async (orgUnit, groupSetId, shouldShowChart) => {\n  const orgUnitIds = shouldShowChart ? orgUnit.id : await getOrgUnitAndChildrenIds(orgUnit);\n  const endPoint = 'orgUnitAnalytics';\n  const queryString = buildQueryString({\n    ou: orgUnitIds,\n    ougs: groupSetId,\n    columns: groupSetId\n  });\n  const relativeUrl = `${endPoint}?${queryString}`;\n  const fileUrls = getFileUrls(endPoint, queryString, ['xls', 'pdf']);\n  return api.get(relativeUrl).then(response => ({ ...response,\n    fileUrls\n  }));\n};\n/**\n * @returns {Promise}\n */\n\nexport const getResources = (page, pageSize, search) => {\n  const requestData = {\n    page,\n    pageSize,\n    fields: 'displayName,id,url,external,access'\n  };\n\n  if (search) {\n    requestData.filter = `displayName:ilike:${search}`;\n  }\n\n  return api.get(RESOURCE_ENDPOINT, requestData);\n};\n/**\n * @returns {Promise}\n */\n\nexport const getResourceById = id => {\n  return api.get(`${RESOURCE_ENDPOINT}/${id}`);\n};\n/**\n * @returns {Promise}\n */\n\nexport const deleteResource = resourceId => api.delete(`${RESOURCE_ENDPOINT}/${resourceId}`);\n/**\n * @returns {Promise}\n */\n\nexport const getStandardReportTables = searchTerm => {\n  const resourceName = getReportTablesResourceNameBySystemVersion();\n  const filter = getReportTablesFilterBySystemVersion(searchTerm);\n  return api.get(resourceName, {\n    paging: true,\n    pageSize: 30,\n    fields: 'id,displayName',\n    filter\n  }).then(response => response[resourceName]);\n};\n/**\n * @param {Object} report\n * @returns {Promise}\n */\n\nexport const postStandardReport = report => api.post(STANDARD_REPORTS_ENDPOINT, report);\n/**\n * @param {Object} report\n * @returns {Promise}\n */\n\nexport const updateStandardReport = report => api.update(`${STANDARD_REPORTS_ENDPOINT}/${report.id}`, report);\n/**\n * @returns {Promise}\n */\n\nexport const getDataSetOptions = () => d2.models.dataSet.list({\n  paging: false,\n  fields: 'id,displayName,formType'\n}).then(response => response.toArray());\n/**\n * @param {Object} api\n * @param {Object} resource\n * @returns {Promise}\n */\n\nexport const postDocument = (api, resource) => api.post(RESOURCE_ENDPOINT, resource);\n/**\n * @param {Object} api\n * @param {string} resourceId\n * @param {Object} resource\n * @returns {Promise}\n */\n\nexport const putDocument = (api, resourceId, resource) => api.update(`${RESOURCE_ENDPOINT}/${resourceId}`, resource);\n/**\n * @param {Object} resource\n * @param {File} [file] - an optional file\n * @returns {Promise}\n */\n\nexport const postResource = (resource, file = null) => file ? uploadFile(api, file).then(({\n  response\n}) => Promise.resolve(addFileResourceUrlToResource(resource, response.fileResource))).then(resource => postDocument(api, resource)) : postDocument(api, resource);\n/**\n * @param {Object} resource\n * @param {File} [file] - an optional file\n * @returns {Promise}\n */\n\nexport const putResource = (resourceId, resource, file = null) => file ? uploadFile(api, file).then(({\n  response\n}) => Promise.resolve(addFileResourceUrlToResource(resource, response.fileResource))).then(resource => putDocument(api, resourceId, resource)) : putDocument(api, resourceId, resource);\n/**\n * =================================\n * Standard report\n * =================================\n */\n\n/**\n * @param {number} page\n * @param {number} pageSize\n * @param {string} nameFilter\n * @return {Promise}\n */\n\nexport const getFilteredStandardReports = (page, pageSize, nameFilter) => addFilterForName(nameFilter, d2.models.report).list({\n  page,\n  pageSize,\n  fields: getStandardReportsFieldsBySystemVersion()\n}).then(formatStandardReportsResponse);\n/**\n * @param {string} id\n * @returns {Promise}\n */\n\nexport const getStandardReportDetails = id => api.get(`${STANDARD_REPORTS_ENDPOINT}/${id}`, {\n  fields: getStandardReportFieldsBySystemVersion()\n}).then(formatStandardReportResponseBySystemVersion);\n/**\n * @param {string} id\n * @return {Promise}\n */\n\nexport const deleteStandardReport = id => api.delete(`${STANDARD_REPORTS_ENDPOINT}/${id}`);\n/**\n * @param {string} id\n * @returns {Promise}\n */\n\nexport const getStandardReportHtmlReport = (id, requestBody) => api.get(`reports/${id}/data.html`, {\n  t: new Date().getTime(),\n  ...requestBody\n});","import { createHashHistory } from 'history';\nconst history = createHashHistory();\nexport default history;","import i18n from '../locales';\nconst d2UiTranslations = {\n  settings: i18n.t('Settings'),\n  app_search_placeholder: i18n.t('Search apps'),\n  profile: i18n.t('Profile'),\n  account: i18n.t('Account'),\n  help: i18n.t('Help'),\n  log_out: i18n.t('Log out'),\n  about_dhis2: i18n.t('About DHIS 2'),\n  manage_my_apps: i18n.t('Manage my apps'),\n  no_results_found: i18n.t('No results found'),\n  interpretations: i18n.t('Interpretations'),\n  messages: i18n.t('Messages'),\n  display_name: i18n.t('Name'),\n  report_table: i18n.t('Report Table'),\n  id: i18n.t('ID'),\n  createReport: i18n.t('Create'),\n  editReport: i18n.t('Edit'),\n  actions: i18n.t('Actions'),\n  delete: i18n.t('Delete'),\n  sharingSettings: i18n.t('Sharing settings'),\n  viewResource: i18n.t('View Resource'),\n  editResource: i18n.t('Edit Resource'),\n  add_users_and_user_groups: i18n.t('Add users and user groups'),\n  enter_names: i18n.t('Enter names'),\n  share: i18n.t('Sharing settings'),\n  metadata: i18n.t('Permissions'),\n  created_by: i18n.t('Created By'),\n  who_has_access: i18n.t('Who has access'),\n  external_access: i18n.t('External access (without login)'),\n  can_edit_and_view: i18n.t('Can edit and view'),\n  can_view: i18n.t('Can view'),\n  can_view_only: i18n.t('Can view only'),\n  no_access: i18n.t('No access'),\n  public_access: i18n.t('Public access (with login)'),\n  public_can_edit: i18n.t('Public can edit'),\n  public_can_view: i18n.t('Public can view'),\n  anyone_can_find_view_and_edit: i18n.t('Public can find, view and edit'),\n  anyone_can_find_and_view: i18n.t('Public can find and view'),\n  close: i18n.t('Close'),\n  week: i18n.t('week'),\n  month: i18n.t('month'),\n  year: i18n.t('year'),\n  biMonth: i18n.t('bi monthly'),\n  day: i18n.t('day'),\n  jan: i18n.t('January'),\n  feb: i18n.t('February'),\n  mar: i18n.t('March'),\n  apr: i18n.t('April'),\n  may: i18n.t('May'),\n  jun: i18n.t('June'),\n  jul: i18n.t('July'),\n  aug: i18n.t('August'),\n  sep: i18n.t('September'),\n  oct: i18n.t('October'),\n  nov: i18n.t('November'),\n  dec: i18n.t('December'),\n  'jan-feb': i18n.t('January-February'),\n  'mar-apr': i18n.t('March-April'),\n  'may-jun': i18n.t('May-June'),\n  'jul-aug': i18n.t('July-August'),\n  'sep-oct': i18n.t('September-October'),\n  'nov-dec': i18n.t('November-December'),\n  'nov-apr': i18n.t('November-April'),\n  'may-oct': i18n.t('May-October'),\n  quarter: i18n.t('quarter'),\n  Q1: i18n.t('January-March'),\n  Q2: i18n.t('April-June'),\n  Q3: i18n.t('July-September'),\n  Q4: i18n.t('October-December'),\n  sixMonth: i18n.t('six monthly'),\n  'jan-jun': i18n.t('January-June'),\n  'jul-dec': i18n.t('July-December'),\n  'apr-sep': i18n.t('April-September'),\n  'oct-mar': i18n.t('October-March'),\n  biWeek: i18n.t('Bi-Week'),\n  bi_week: i18n.t('Bi-Week')\n};\n\nconst injectTranslationsToD2 = d2 => {\n  if (d2) {\n    Object.assign(d2.i18n.translations, d2UiTranslations);\n  }\n};\n\nexport default injectTranslationsToD2;","export const ACTION_MESSAGE = 'ACTION_MESSAGE'; // TODO: remove loading\n\nexport const LOADING = 'LOADING';\nexport const ERROR = 'ERROR';\nexport const SUCCESS = 'SUCCESS';\nexport const WARNING = 'WARNING';","import * as FEEDBACK_TYPES from '../../utils/feedbackTypes';\nexport const actionTypes = {\n  FEEDBACK_CLEAR: 'FEEDBACK_CLEAR',\n  FEEDBACK_SHOW_LOADER: 'FEEDBACK_SHOW_LOADER',\n  FEEDBACK_SHOW_SNACKBAR: 'FEEDBACK_SHOW_SNACKBAR'\n};\nexport const clearFeedback = () => ({\n  type: actionTypes.FEEDBACK_CLEAR\n});\nexport const showLoader = () => ({\n  type: actionTypes.FEEDBACK_SHOW_LOADER\n});\nexport const showSnackbar = (message, type = FEEDBACK_TYPES.ACTION_MESSAGE) => ({\n  type: actionTypes.FEEDBACK_SHOW_SNACKBAR,\n  payload: {\n    message,\n    type\n  }\n});\nexport const showSuccessSnackBar = message => showSnackbar(message, FEEDBACK_TYPES.SUCCESS);\nexport const showErrorSnackBar = message => showSnackbar(message, FEEDBACK_TYPES.ERROR);\nexport const showWarningSnackBar = message => showSnackbar(message, FEEDBACK_TYPES.WARNING);\nexport const showConfirmationSnackBar = message => showSnackbar(message, FEEDBACK_TYPES.ACTION_MESSAGE); // TODO: remove this\n\nexport const updateFeedbackState = () => ({});","import { actionTypes as types } from '../actions/feedback';\nexport const defaultState = {\n  showSnackbar: false,\n  showLoader: false,\n  message: '',\n  type: ''\n};\nexport const feedback = (state = defaultState, {\n  type,\n  payload\n}) => {\n  switch (type) {\n    case types.FEEDBACK_CLEAR:\n      return defaultState;\n\n    case types.FEEDBACK_SHOW_LOADER:\n      return { ...state,\n        showLoader: true\n      };\n\n    case types.FEEDBACK_SHOW_SNACKBAR:\n      return { ...state,\n        ...payload,\n        showSnackbar: true,\n        showLoader: false\n      };\n\n    default:\n      return state;\n  }\n};","export const DEBOUNCE_DELAY = 500;","import i18n from '../locales';\nexport const STANDARD_REPORT_SECTION_KEY = 'standard-report';\nexport const DATA_SET_REPORT_SECTION_KEY = 'data-set-report';\nexport const REPORTING_RATE_SUMMARY_SECTION_KEY = 'reporting-rate-summary';\nexport const RESOURCE_SECTION_KEY = 'resource';\nexport const ORG_UNIT_DIST_REPORT_SECTION_KEY = 'organisation-unit-distribution-report';\nexport const DATA_APPROVAL_SECTION_KEY = 'data-approval';\nexport const sectionOrder = [STANDARD_REPORT_SECTION_KEY, DATA_SET_REPORT_SECTION_KEY, REPORTING_RATE_SUMMARY_SECTION_KEY, RESOURCE_SECTION_KEY, ORG_UNIT_DIST_REPORT_SECTION_KEY];\nexport const sections = {\n  [STANDARD_REPORT_SECTION_KEY]: {\n    key: STANDARD_REPORT_SECTION_KEY,\n    path: `/${STANDARD_REPORT_SECTION_KEY}`,\n    info: {\n      label: i18n.t('Standard Report'),\n      icon: 'bar_chart',\n      description: i18n.t('View and add reports based on the JasperReports library. These can be based on report tables and can be designed in iReport.'),\n      actionText: i18n.t('View Reports'),\n      docs: 'using_reporting_standard_reports'\n    }\n  },\n  [DATA_SET_REPORT_SECTION_KEY]: {\n    key: DATA_SET_REPORT_SECTION_KEY,\n    path: `/${DATA_SET_REPORT_SECTION_KEY}`,\n    info: {\n      label: i18n.t('Data Set Report'),\n      icon: 'assignment',\n      description: i18n.t('View data set reports. These reports are based on data entry screens and will produce a report with aggregated data.'),\n      actionText: i18n.t('Get Report'),\n      docs: 'using_reporting_dataset_reports'\n    }\n  },\n  [REPORTING_RATE_SUMMARY_SECTION_KEY]: {\n    key: REPORTING_RATE_SUMMARY_SECTION_KEY,\n    path: `/${REPORTING_RATE_SUMMARY_SECTION_KEY}`,\n    info: {\n      label: i18n.t('Reporting Rate Summary'),\n      description: i18n.t('Browse the reporting rates of data sets by organisation unit and period based on various criteria for submission.'),\n      actionText: i18n.t('Get Report'),\n      icon: 'format_list_bulleted',\n      docs: 'using_reporting_reporting_rate_summary'\n    }\n  },\n  [RESOURCE_SECTION_KEY]: {\n    key: RESOURCE_SECTION_KEY,\n    path: `/${RESOURCE_SECTION_KEY}`,\n    info: {\n      label: i18n.t('Resource'),\n      description: i18n.t('View and add resources. These resources can be uploaded documents or URLs on the web.'),\n      actionText: i18n.t('View Resources'),\n      icon: 'cloud_upload',\n      docs: 'using_reporting_resources'\n    }\n  },\n  [ORG_UNIT_DIST_REPORT_SECTION_KEY]: {\n    key: ORG_UNIT_DIST_REPORT_SECTION_KEY,\n    path: `/${ORG_UNIT_DIST_REPORT_SECTION_KEY}`,\n    info: {\n      label: i18n.t('Org unit distribution report'),\n      description: i18n.t('Browse the organisation unit distribution report based on the organisation unit group sets and its groups.'),\n      actionText: i18n.t('Get Report'),\n      icon: 'device_hub',\n      docs: 'using_reporting_orgunit_distribution_reports'\n    }\n  }\n};","import i18n from '@dhis2/d2-i18n';\nconst THIS_DAY = 'thisDay';\nconst YESTERDAY = 'yesterday';\nconst LAST_3_DAYS = 'last3Days';\nconst LAST_7_DAYS = 'last7Days';\nconst LAST_14_DAYS = 'last14Days';\nconst THIS_WEEK = 'thisWeek';\nconst LAST_WEEK = 'lastWeek';\nconst LAST_4_WEEKS = 'last4Weeks';\nconst LAST_12_WEEKS = 'last12Weeks';\nconst LAST_52_WEEKS = 'last52Weeks';\nconst WEEKS_THIS_YEAR = 'weeksThisYear';\nconst THIS_MONTH = 'thisMonth';\nconst LAST_MONTH = 'lastMonth';\nconst LAST_3_MONTHS = 'last3Months';\nconst LAST_6_MONTHS = 'last6Months';\nconst LAST_12_MONTHS = 'last12Months';\nconst MONTHS_THIS_YEAR = 'monthsThisYear';\nconst THIS_BIMONTH = 'thisBimonth';\nconst LAST_BIMONTH = 'lastBimonth';\nconst LAST_6_BI_MONTHS = 'last6BiMonths';\nconst BI_MONTHS_THIS_YEAR = 'biMonthsThisYear';\nconst THIS_QUARTER = 'thisQuarter';\nconst LAST_QUARTER = 'lastQuarter';\nconst LAST_4_QUARTERS = 'last4Quarters';\nconst QUARTERS_THIS_YEAR = 'quartersThisYear';\nconst THIS_SIX_MONTH = 'thisSixMonth';\nconst LAST_SIX_MONTH = 'lastSixMonth';\nconst LAST_2_SIX_MONTHS = 'last2SixMonths';\nconst THIS_FINANCIAL_YEAR = 'thisFinancialYear';\nconst LAST_FINANCIAL_YEAR = 'lastFinancialYear';\nconst LAST_5_FINANCIAL_YEARS = 'last5FinancialYears';\nconst THIS_YEAR = 'thisYear';\nconst LAST_YEAR = 'lastYear';\nconst LAST_5_YEARS = 'last5Years';\nexport const RELATIVE_PERIODS = [// Days\n{\n  label: i18n.t('Days'),\n  options: [{\n    value: THIS_DAY,\n    label: i18n.t('Reporting day')\n  }, {\n    value: YESTERDAY,\n    label: i18n.t('Yesterday')\n  }, {\n    value: LAST_3_DAYS,\n    label: i18n.t('Last 3 days')\n  }, {\n    value: LAST_7_DAYS,\n    label: i18n.t('Last 7 days')\n  }, {\n    value: LAST_14_DAYS,\n    label: i18n.t('Last 14 days')\n  }]\n}, // Weeks\n{\n  label: i18n.t('Weeks'),\n  options: [{\n    value: THIS_WEEK,\n    label: i18n.t('Reporting week')\n  }, {\n    value: LAST_WEEK,\n    label: i18n.t('Last Week')\n  }, {\n    value: LAST_4_WEEKS,\n    label: i18n.t('Last 2 weeks')\n  }, {\n    value: LAST_12_WEEKS,\n    label: i18n.t('Last 12 weeks')\n  }, {\n    value: LAST_52_WEEKS,\n    label: i18n.t('Last 52 weeks')\n  }, {\n    value: WEEKS_THIS_YEAR,\n    label: i18n.t('Weeks this year')\n  }]\n}, // Months\n{\n  label: i18n.t('Months'),\n  options: [{\n    value: THIS_MONTH,\n    label: i18n.t('Reporting month')\n  }, {\n    value: LAST_MONTH,\n    label: i18n.t('Last month')\n  }, {\n    value: LAST_3_MONTHS,\n    label: i18n.t('Last 3 months')\n  }, {\n    value: LAST_6_MONTHS,\n    label: i18n.t('Last 6 months')\n  }, {\n    value: LAST_12_MONTHS,\n    label: i18n.t('Last 12 months')\n  }, {\n    value: MONTHS_THIS_YEAR,\n    label: i18n.t('Months this year')\n  }]\n}, // Bi-months\n{\n  label: i18n.t('Bi-months'),\n  options: [{\n    value: THIS_BIMONTH,\n    label: i18n.t('Reporting bi-month')\n  }, {\n    value: LAST_BIMONTH,\n    label: i18n.t('Last bi-month')\n  }, {\n    value: LAST_6_BI_MONTHS,\n    label: i18n.t('Last 6 bi-month')\n  }, {\n    value: BI_MONTHS_THIS_YEAR,\n    label: i18n.t('Bi-months this year')\n  }]\n}, // Quarters\n{\n  label: i18n.t('Quarters'),\n  options: [{\n    value: THIS_QUARTER,\n    label: i18n.t('Reporting quarter')\n  }, {\n    value: LAST_QUARTER,\n    label: i18n.t('Last quarter')\n  }, {\n    value: LAST_4_QUARTERS,\n    label: i18n.t('Last 4 quarters')\n  }, {\n    value: QUARTERS_THIS_YEAR,\n    label: i18n.t('Quarters of reporting year')\n  }]\n}, // Six-Months\n{\n  label: i18n.t('Six-Months'),\n  options: [{\n    value: THIS_SIX_MONTH,\n    label: i18n.t('Reporting six-month')\n  }, {\n    value: LAST_SIX_MONTH,\n    label: i18n.t('Last six-month')\n  }, {\n    value: LAST_2_SIX_MONTHS,\n    label: i18n.t('Last 2 six-months')\n  }]\n}, // Financial years\n{\n  label: i18n.t('Financial Years'),\n  options: [{\n    value: THIS_FINANCIAL_YEAR,\n    label: i18n.t('Reporting financial year')\n  }, {\n    value: LAST_FINANCIAL_YEAR,\n    label: i18n.t('Last financial year')\n  }, {\n    value: LAST_5_FINANCIAL_YEARS,\n    label: i18n.t('Last 5 financial years')\n  }]\n}, // years\n{\n  label: i18n.t('Years'),\n  options: [{\n    value: THIS_YEAR,\n    label: i18n.t('Reporting year')\n  }, {\n    value: LAST_YEAR,\n    label: i18n.t('Last year')\n  }, {\n    value: LAST_5_YEARS,\n    label: i18n.t('Last 5 years')\n  }]\n}];\nexport const flattenedRelativePeriods = RELATIVE_PERIODS.reduce((acc, group) => {\n  group.options.forEach(period => {\n    acc[period.value] = {\n      id: period.value,\n      displayName: period.label\n    };\n  });\n  return acc;\n}, {}); // This helper was \"borrowed\" from\n// https://github.com/dhis2/analytics/blob/master/src/components/PeriodDimension/utils/fixedPeriods.js#L537-L546\n// The plan is to eventually move the getRelativePeriodStartDate code over to the anaytics repo,\n// so we are using the helpers as they are there\n\nconst formatYyyyMmDd = timestamp => {\n  const date = new Date(timestamp);\n  const yyyy = date.getFullYear();\n  const mm = (date.getMonth() + 1).toString().padStart(2, '0');\n  const dd = date.getDate().toString().padStart(2, '0');\n  return `${yyyy}-${mm}-${dd}`;\n}; // We are passing `Date.now()` to the `Date` constructor to make this\n// module easier to unit test. This way we only have to mock `Date.now`,\n// which is a lot easier than to mock the `Date` class\n// See here for more info: https://codewithhugo.com/mocking-the-current-date-in-jest-tests/\n\n\nconst getCurrentDate = () => new Date(Date.now());\n\nconst getPreviousMonday = date => {\n  const day = date.getDay(); // date.getDay() will return 0 for a Sunday and 1 for a Monday\n  // so a week starts on Sunday according to the Date API, but\n  // we want the fist day of the week to be Monday, so we need this:\n  // `day + (day === 0 ? -6 : 1)`\n\n  const mondayTimeStamp = date.getDate() - day + (day === 0 ? -6 : 1);\n  return new Date(date.setDate(mondayTimeStamp));\n};\n\nconst daysAgo = offset => {\n  const now = getCurrentDate();\n  return now.setDate(now.getDate() - offset);\n};\n\nconst weeksAgo = offset => {\n  const previousMonday = getPreviousMonday(getCurrentDate());\n  return previousMonday.setDate(previousMonday.getDate() - offset * 7);\n};\n\nconst weeksThisYear = () => {\n  const year = getCurrentDate().getFullYear(); // Calculate the first date of an EPI year base on ISO standard  ( first week always contains 4th Jan )\n\n  const jan4 = new Date(`${year}-01-04`);\n  const firstMondayOfYear = getPreviousMonday(jan4);\n  return firstMondayOfYear.getTime();\n};\n\nconst startOfYear = () => {\n  const year = getCurrentDate().getFullYear();\n  const jan1 = new Date(`${year}-01-01`);\n  return jan1.getTime();\n};\n\nconst monthUnitsAgo = (unitSize, offset) => {\n  const now = getCurrentDate();\n  const year = now.getFullYear();\n  const monthIndex = now.getMonth(); // Round down to nearest even number so feb(1) will become jan(0)\n\n  const firstMonthIndex = unitSize * Math.floor(monthIndex / unitSize);\n  const firstMonthStr = (firstMonthIndex + 1).toString().padStart(2, '0');\n  const firstMonthStartDate = new Date(`${year}-${firstMonthStr}-01`);\n  return firstMonthStartDate.setMonth(firstMonthStartDate.getMonth() - offset * unitSize);\n};\n\nconst yearsAgo = (offset, isFinancial) => {\n  const currentYear = getCurrentDate().getFullYear();\n  const startYear = currentYear - offset;\n  return new Date(isFinancial ? `${startYear}-10-01` : `${startYear}-01-01`);\n};\n\nconst startDateCalculators = {\n  [THIS_DAY]: () => daysAgo(0),\n  [YESTERDAY]: () => daysAgo(1),\n  [LAST_3_DAYS]: () => daysAgo(3),\n  [LAST_7_DAYS]: () => daysAgo(7),\n  [LAST_14_DAYS]: () => daysAgo(14),\n  [THIS_WEEK]: () => weeksAgo(0),\n  [LAST_WEEK]: () => weeksAgo(1),\n  [LAST_4_WEEKS]: () => weeksAgo(4),\n  [LAST_12_WEEKS]: () => weeksAgo(12),\n  [LAST_52_WEEKS]: () => weeksAgo(52),\n  [WEEKS_THIS_YEAR]: () => weeksThisYear(),\n  [THIS_MONTH]: () => monthUnitsAgo(1, 0),\n  [LAST_MONTH]: () => monthUnitsAgo(1, 1),\n  [LAST_3_MONTHS]: () => monthUnitsAgo(1, 3),\n  [LAST_6_MONTHS]: () => monthUnitsAgo(1, 6),\n  [LAST_12_MONTHS]: () => monthUnitsAgo(1, 12),\n  [MONTHS_THIS_YEAR]: () => startOfYear(),\n  [THIS_BIMONTH]: () => monthUnitsAgo(2, 0),\n  [LAST_BIMONTH]: () => monthUnitsAgo(2, 1),\n  [LAST_6_BI_MONTHS]: () => monthUnitsAgo(2, 6),\n  [BI_MONTHS_THIS_YEAR]: () => startOfYear(),\n  [THIS_QUARTER]: () => monthUnitsAgo(3, 0),\n  [LAST_QUARTER]: () => monthUnitsAgo(3, 1),\n  [LAST_4_QUARTERS]: () => monthUnitsAgo(3, 4),\n  [QUARTERS_THIS_YEAR]: () => startOfYear(),\n  [THIS_SIX_MONTH]: () => monthUnitsAgo(6, 0),\n  [LAST_SIX_MONTH]: () => monthUnitsAgo(6, 1),\n  [LAST_2_SIX_MONTHS]: () => monthUnitsAgo(6, 2),\n  [THIS_FINANCIAL_YEAR]: () => yearsAgo(0, true),\n  [LAST_FINANCIAL_YEAR]: () => yearsAgo(1, true),\n  [LAST_5_FINANCIAL_YEARS]: () => yearsAgo(5, true),\n  [THIS_YEAR]: () => yearsAgo(0),\n  [LAST_YEAR]: () => yearsAgo(1),\n  [LAST_5_YEARS]: () => yearsAgo(5)\n};\nexport const getRelativePeriodStartDate = periodCode => {\n  const startDateCalutator = startDateCalculators[periodCode];\n\n  if (!startDateCalutator) {\n    return null;\n  }\n\n  return formatYyyyMmDd(startDateCalutator());\n};","import i18n from '@dhis2/d2-i18n';\nexport { RELATIVE_PERIODS } from '../../utils/periods/relativePeriods';\nexport const REPORTS_ENDPOINT = 'reports';\nexport const REPORT_TEMPLATES_ENDPOINT = 'reportTemplate';\nexport const CONTEXT_MENU_ACTION = {\n  CREATE: 'createReport',\n  EDIT: 'editReport',\n  DELETE: 'delete',\n  SHARING_SETTINGS: 'sharingSettings'\n};\nexport const CONTEXT_MENU_ICONS = {\n  [CONTEXT_MENU_ACTION.CREATE]: 'arrow_right',\n  [CONTEXT_MENU_ACTION.EDIT]: 'edit',\n  [CONTEXT_MENU_ACTION.SHARING_SETTINGS]: 'people',\n  [CONTEXT_MENU_ACTION.DELETE]: 'delete'\n};\nexport const NONE = {\n  id: 'none',\n  name: i18n.t('[ None ]')\n};\nexport const TYPES = {\n  JASPER_REPORT_TABLE: 'JASPER_REPORT_TABLE',\n  JASPER_JDBC: 'JASPER_JDBC',\n  HTML: 'HTML'\n};\nexport const REPORT_MODE = {\n  REPORT: 'report',\n  REPORT_TABLE: 'table'\n};\nexport const GET_REPORT_AS_ENDPOINT = {\n  PDF: 'data.pdf',\n  XLS: 'data.xls',\n  HTML: 'data.html'\n};\nexport const reportTypes = {\n  JASPER_REPORT_TABLE: 'JASPER_REPORT_TABLE',\n  JASPER_JDBC: 'JASPER_JDBC',\n  HTML: 'HTML'\n};\nexport const reportTypeOptions = [{\n  value: reportTypes.JASPER_REPORT_TABLE,\n  label: i18n.t('Jasper report with report table data source')\n}, {\n  value: reportTypes.JASPER_JDBC,\n  label: i18n.t('Jasper report with JDBC data source')\n}, {\n  value: reportTypes.HTML,\n  label: i18n.t('HTML report')\n}];\nexport const REPORT_TYPES = [{\n  id: TYPES.JASPER_REPORT_TABLE,\n  name: i18n.t('Jasper report with report table data source')\n}, {\n  id: TYPES.JASPER_JDBC,\n  name: i18n.t('Jasper report with JDBC data source')\n}, {\n  id: TYPES.HTML,\n  name: i18n.t('HTML report')\n}];\nexport const cacheStrategies = [{\n  value: 'NO_CACHE',\n  label: i18n.t('No cache')\n}, {\n  value: 'RESPECT_SYSTEM_SETTING',\n  label: i18n.t('Respect system setting')\n}, {\n  value: 'CACHE_1_HOUR',\n  label: i18n.t('Cache for one hour')\n}, {\n  value: 'CACHE_6AM_TOMORROW',\n  label: i18n.t('Cache until 6 AM tomorrow')\n}, {\n  value: 'CACHE_TWO_WEEKS',\n  label: i18n.t('Cache for two weeks')\n}];\nexport const CACHE_STRATEGIES = [{\n  id: 'NO_CACHE',\n  name: i18n.t('No cache')\n}, {\n  id: 'RESPECT_SYSTEM_SETTING',\n  name: i18n.t('Respect system setting')\n}, {\n  id: 'CACHE_1_HOUR',\n  name: i18n.t('Cache for one hour')\n}, {\n  id: 'CACHE_6AM_TOMORROW',\n  name: i18n.t('Cache until 6 AM tomorrow')\n}, {\n  id: 'CACHE_TWO_WEEKS',\n  name: i18n.t('Cache for two weeks')\n}];","import i18n from '@dhis2/d2-i18n';\n/**\n * It is preffered to show the error message from the server it is a 401-499 code\n * The final error message is determined with the following priority\n * messageFromError > fallbackMessageArgument > defaultFallBackMessage\n * @param {Object} error - The error object\n * @param {Number} error.httpStatusCode - The error status code\n * @param {Number} error.message - The error message\n * @param {String} fallbackMsg - The message to show in case the actual message is not human readable\n */\n\nexport const fallBackDefault = i18n.t('Something went wrong when processing your request.');\nexport default function humanReadableErrorMessage(errorInstance = {}, fallbackMsg = fallBackDefault) {\n  const {\n    messages,\n    httpStatusCode\n  } = errorInstance;\n  let {\n    message\n  } = errorInstance;\n  const useMessage = httpStatusCode && httpStatusCode >= 400 && httpStatusCode < 500 || !httpStatusCode && messages && messages.length > 0;\n\n  if (!message && messages && messages.length > 0) {\n    message = messages.map(({\n      message\n    }) => message).join(', ');\n  }\n\n  return useMessage ? message : fallbackMsg;\n}","export const isFalsy = value => !value;","import i18n from '@dhis2/d2-i18n';\nimport parseFixedPeriod from 'd2/period/parser';\n/* do not change property names, those are ids from period types server */\n\nexport const fixedPeriodTranslations = {\n  Daily: i18n.t('Daily'),\n  Weekly: i18n.t('Weekly'),\n  WeeklyWednesday: i18n.t('Weekly Wednesday'),\n  WeeklyThursday: i18n.t('Weekly Thursday'),\n  WeeklySaturday: i18n.t('Weekly Saturday'),\n  WeeklySunday: i18n.t('Weekly Sunday'),\n  BiWeekly: i18n.t('Bi-Weekly'),\n  Monthly: i18n.t('Monthly'),\n  BiMonthly: i18n.t('Bi-Monthly'),\n  Quarterly: i18n.t('Quarterly'),\n  SixMonthly: i18n.t('Six-Monthly'),\n  SixMonthlyApril: i18n.t('Six-Monthly April'),\n  SixMonthlyNov: i18n.t('Six-Monthly November'),\n  Yearly: i18n.t('Yearly'),\n  FinancialApril: i18n.t('Financial-April'),\n  FinancialJuly: i18n.t('Financial-July'),\n  FinancialOct: i18n.t('Financial-Oct')\n};\nexport const relativePeriodsThatAreActuallyFixed = {\n  thisDay: ['Daily'],\n  thisWeek: ['Weekly', 'WeeklyWednesday', 'WeeklyThursday', 'WeeklySaturday', 'WeeklySunday'],\n  thisBiWeek: ['BiWeekly'],\n  thisMonth: ['Monthly'],\n  thisBimonth: ['BiMonthly'],\n  thisQuarter: ['Quarterly'],\n  thisSixMonth: ['SixMonthly', 'SixMonthlyApril', 'SixMonthlyNov'],\n  thisYear: ['Yearly'],\n  thisFinancialYear: ['FinancialApril', 'FinancialJuly', 'FinancialOct', 'FinancialNov']\n};\nexport const isFixedPeriodType = periodType => !!fixedPeriodTranslations[periodType];\nexport const getFixedPeriodStartDate = periodCode => {\n  try {\n    const period = parseFixedPeriod(periodCode);\n    return period.startDate;\n  } catch {\n    return null;\n  }\n};","import { getFixedPeriodStartDate } from './fixedPeriods';\nimport { getRelativePeriodStartDate } from './relativePeriods';\nexport const getPeriodStartDate = periodCode => {\n  return getRelativePeriodStartDate(periodCode) || getFixedPeriodStartDate(periodCode);\n};","import omitBy from 'lodash.omitby';\nimport { isFalsy } from '../boolean/isFalsy';\nimport { reportTypes } from '../../pages/standard-report/standard.report.conf';\nimport { getSelectedOrgUnit } from '../../redux/selectors/organisationUnit/getSelectedOrgUnit';\nimport { getSelectedReportPeriod } from '../../redux/selectors/reportPeriod/getSelectedReportPeriod';\nimport { getPeriodStartDate } from '../periods/periodTypes';\nexport const extractRequiredReportParams = reportParams => omitBy({\n  period: reportParams.reportingPeriod,\n  organisationUnit: reportParams.organisationUnit || reportParams.parentOrganisationUnit || reportParams.grandParentOrganisationUnit\n}, isFalsy);\nexport const isHtmlReport = report => report.type === reportTypes.HTML;\nexport const isJasperReportTableReport = report => report.type === reportTypes.JASPER_REPORT_TABLE;\nexport const getReportParams = report => report.reportTable && report.reportTable.reportParams || report.reportParams;\nexport const appendOrgUnitsAndReportPeriodToQueryString = (state, baseStr = '') => {\n  const {\n    standardReport,\n    organisationUnits,\n    reportPeriod\n  } = state;\n  const {\n    reportParams\n  } = standardReport;\n\n  if (reportParams.organisationUnit) {\n    baseStr += `&ou=${organisationUnits.selected.id}`;\n  }\n\n  if (reportParams.period) {\n    const startDate = getPeriodStartDate(reportPeriod.selectedPeriod);\n    baseStr += `&pe=${reportPeriod.selectedPeriod}`;\n\n    if (startDate) {\n      baseStr += `&date=${startDate}`;\n    }\n  }\n\n  return baseStr ? `?${baseStr}` : baseStr;\n};\nexport const validateRequiredParams = (state, requiredParams) => {\n  const errors = [];\n\n  if (requiredParams.organisationUnit && !getSelectedOrgUnit(state)) {\n    errors.push('You need to select an organisation unit');\n  }\n\n  if (requiredParams.period && !getSelectedReportPeriod(state)) {\n    errors.push('You need to select a period');\n  }\n\n  return errors;\n};\nexport const processCheckboxValues = (formSelectedKeys, stateValues) => {\n  if (!stateValues) {\n    return {};\n  }\n\n  const selectedKeys = new Set(formSelectedKeys);\n  return Object.keys(stateValues).reduce((acc, key) => {\n    acc[key] = selectedKeys.has(key);\n    return acc;\n  }, {});\n};","import i18n from '@dhis2/d2-i18n';\nimport { getOrgUnitGroupSets } from '../../utils/api';\nimport { showErrorSnackBar } from './feedback';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage';\nexport const actionTypes = {\n  LOADING_GROUP_SETS_START: 'LOADING_GROUP_SETS_START',\n  LOADING_GROUP_SETS_SUCCESS: 'LOADING_GROUP_SETS_SUCCESS',\n  LOADING_GROUP_SETS_ERROR: 'LOADING_GROUP_SETS_ERROR',\n  SET_GROUP_SET: 'SET_GROUP_SET'\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingGroupSetsStart = () => ({\n  type: actionTypes.LOADING_GROUP_SETS_START\n});\n/**\n * @param {Array} groupSets\n * @returns {Object}\n */\n\nexport const loadingGroupSetsSuccess = groupSets => ({\n  type: actionTypes.LOADING_GROUP_SETS_SUCCESS,\n  payload: groupSets\n});\n/**\n * @param {Error} error\n * @returns {Object}\n */\n\nexport const loadingGroupSetsErrorDefaultMessage = i18n.t('An error occurred while loading the group sets!');\nexport const loadingGroupSetsError = error => dispatch => {\n  const displayMessage = humanReadableErrorMessage(error, loadingGroupSetsErrorDefaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch({\n    type: actionTypes.LOADING_GROUP_SETS_ERROR,\n    payload: displayMessage\n  });\n};\n/**\n * @returns {Function}\n */\n\nexport const loadGroupSetOptions = () => dispatch => {\n  dispatch(loadingGroupSetsStart());\n  return getOrgUnitGroupSets().then(response => dispatch(loadingGroupSetsSuccess(response.toArray()))).catch(error => dispatch(loadingGroupSetsError(error)));\n};\n/**\n * @param {string} groupSetId\n * @return {Object}\n */\n\nexport const setGroupSet = groupSetId => ({\n  type: actionTypes.SET_GROUP_SET,\n  payload: groupSetId\n});","import i18n from '@dhis2/d2-i18n';\nimport { getOrganisationUnits } from '../../utils/api';\nimport { showErrorSnackBar } from './feedback';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage';\nimport { loadGroupSetOptions } from './orgUnitGroupSets';\nexport const actionTypes = {\n  ORGANISATION_UNITS_LOADING_START: 'ORGANISATION_UNITS_LOADING_START',\n  ORGANISATION_UNITS_RECEIVED: 'ORGANISATION_UNITS_RECEIVED',\n  ORGANISATION_UNITS_ERRORED: 'ORGANISATION_UNITS_ERRORED',\n  ORGANISATION_UNIT_SELECTED: 'ORGANISATION_UNIT_SELECTED',\n  ORGANISATION_UNIT_CLEARED: 'ORGANISATION_UNIT_CLEARED',\n  ORGANISATION_UNITS_OPTION_SELECTED: 'ORGANISATION_UNITS_OPTION_SELECTED',\n  TOGGLE_SHOW_OPTIONS: 'TOGGLE_SHOW_OPTIONS'\n};\nexport const fallbackErrorMessage = i18n.t('Could not load organisation units');\n/**\n * @returns {Object}\n */\n\nexport const loadOrganisationUnitsStart = () => ({\n  type: actionTypes.ORGANISATION_UNITS_LOADING_START\n});\n/**\n * @param {Object} periodTypes\n * @returns {Object}\n */\n\nexport const loadOrganisationUnitsSuccess = organisationUnits => ({\n  type: actionTypes.ORGANISATION_UNITS_RECEIVED,\n  payload: organisationUnits\n});\n/**\n * @returns {Object}\n */\n\nexport const loadOrganisationUnitsError = () => ({\n  type: actionTypes.ORGANISATION_UNITS_ERRORED\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadOrganisationUnitsErrorDefaultMessage = i18n.t('An error occurred while loading the organisation units!');\nexport const loadOrganisationUnitsErrorWithFeedback = error => dispatch => {\n  const displayMessage = humanReadableErrorMessage(error, loadOrganisationUnitsErrorDefaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadOrganisationUnitsError());\n};\nexport const loadOrganisationUnits = () => dispatch => {\n  dispatch(loadOrganisationUnitsStart());\n  return getOrganisationUnits().then(organisationUnits => dispatch(loadOrganisationUnitsSuccess(organisationUnits))).catch(error => {\n    console.error(error);\n    dispatch(loadOrganisationUnitsErrorWithFeedback(error));\n  });\n};\nexport const selectOrganisationUnit = (_event, {\n  id,\n  path,\n  displayName,\n  children\n}) => ({\n  type: actionTypes.ORGANISATION_UNIT_SELECTED,\n  payload: {\n    id,\n    path,\n    displayName,\n    children\n  }\n});\nexport const selectOrgUnitOption = (id, value) => ({\n  type: actionTypes.ORGANISATION_UNITS_OPTION_SELECTED,\n  payload: {\n    id,\n    value\n  }\n});\nexport const toggleShowOptions = () => (dispatch, getState) => {\n  const {\n    orgUnitGroupSets\n  } = getState();\n  dispatch({\n    type: actionTypes.TOGGLE_SHOW_OPTIONS\n  });\n\n  if (orgUnitGroupSets.collection.length === 0) {\n    dispatch(loadGroupSetOptions());\n  }\n};\nexport const clearSelectedOrgUnit = () => ({\n  type: actionTypes.ORGANISATION_UNIT_CLEARED\n});","export const actionTypes = {\n  GO_TO_NEXT_PAGE: 'GO_TO_NEXT_PAGE',\n  GO_TO_PREV_PAGE: 'GO_TO_PREV_PAGE',\n  SET_PAGINATION: 'SET_PAGINATION',\n  RESET_PAGINATION: 'RESET_PAGINATION'\n};\n/**\n * @return {Object}\n */\n\nexport const goToNextPage = () => ({\n  type: actionTypes.GO_TO_NEXT_PAGE\n});\n/**\n * @return {Object}\n */\n\nexport const goToPrevPage = () => ({\n  type: actionTypes.GO_TO_PREV_PAGE\n});\n/**\n * @param {Object} pagination\n * @returns {Object}\n */\n\nexport const setPagination = pagination => ({\n  type: actionTypes.SET_PAGINATION,\n  payload: pagination\n});\n/**\n * returns {Object}\n */\n\nexport const resetPagination = () => ({\n  type: actionTypes.RESET_PAGINATION\n});","import XLSX from 'xlsx';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage';\nimport { showLoader, showSuccessSnackBar, showErrorSnackBar } from './feedback';\nimport i18n from '@dhis2/d2-i18n';\nexport const actionTypes = {\n  LOADING_REPORT_DATA_START: 'LOADING_REPORT_DATA_START',\n  LOADING_REPORT_DATA_SUCCESS: 'LOADING_REPORT_DATA_SUCCESS',\n  LOADING_REPORT_DATA_ERROR: 'LOADING_REPORT_DATA_ERROR',\n  SET_DATA_SET_REPORT_COMMENT: 'SET_DATA_SET_REPORT_COMMENT',\n  DOWNLOAD_DATA_SET_REPORT_XLS: 'DOWNLOAD_DATA_SET_REPORT_XLS',\n  SHARING_DATA_SET_REPORT_COMMENT_SUCCESS: 'SHARING_DATA_SET_REPORT_COMMENT_SUCCESS',\n  SHARING_DATA_SET_REPORT_COMMENT_START: 'SHARING_DATA_SET_REPORT_COMMENT_START',\n  SHARING_DATA_SET_REPORT_COMMENT_ERROR: 'SHARING_DATA_SET_REPORT_COMMENT_ERROR',\n  UNSET_REPORT_DATA: 'UNSET_REPORT_DATA'\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingReportDataStart = () => ({\n  type: actionTypes.LOADING_REPORT_DATA_START\n});\n/**\n * @param {string} reportData\n * @returns {Object}\n */\n\nexport const loadingReportDataSuccess = reportData => ({\n  type: actionTypes.LOADING_REPORT_DATA_SUCCESS,\n  payload: reportData\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingReportDataError = () => ({\n  type: actionTypes.LOADING_REPORT_DATA_ERROR\n});\n/**\n * @param {string} reportData\n * @return {Object}\n */\n\nexport const loadingReportDataSuccessWithFeedback = (reportData, shouldShowChart) => dispatch => {\n  const successMsg = i18n.t('Successfully loaded the {{ outputType }}', {\n    outputType: shouldShowChart ? i18n.t('chart') : i18n.t('table')\n  });\n  dispatch(showSuccessSnackBar(i18n.t(successMsg)));\n  dispatch(loadingReportDataSuccess(reportData));\n};\n/**\n * @param {Error} error\n */\n\nexport const loadingReportDataErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the report!');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingReportDataError());\n}; // @TODO: not sure this is needed.\n// Not required for reporting-rate-summary\n\nexport const unsetReportData = () => ({\n  type: actionTypes.UNSET_REPORT_DATA\n});\n/**\n * @param {DOMElement[]} tableNodes\n * @return {Object}\n */\n// @TODO: not sure this is needed. I think this can be removed\n\nexport const exportReportToXls = tableNodes => {\n  const workbook = XLSX.utils.book_new();\n  tableNodes.forEach((tableNode, index) => {\n    const worksheet = XLSX.utils.table_to_sheet(tableNode);\n    XLSX.utils.book_append_sheet(workbook, worksheet, `Worksheet ${index}`);\n  });\n  XLSX.writeFile(workbook, 'report.xlsx');\n  return {\n    type: actionTypes.DOWNLOAD_DATA_SET_REPORT_XLS\n  };\n};\n/**\n * @param {string} comment\n * @returns {Object}\n */\n\nexport const setReportComment = comment => ({\n  type: actionTypes.SET_DATA_SET_REPORT_COMMENT,\n  payload: comment\n});\n/**\n * @returns {Object}\n */\n\nexport const sharingReportCommentStart = () => ({\n  type: actionTypes.SHARING_DATA_SET_REPORT_COMMENT_START\n});\n/**\n * @returns {Object}\n */\n\nexport const sharingReportCommentSuccess = () => ({\n  type: actionTypes.SHARING_DATA_SET_REPORT_COMMENT_SUCCESS\n});\n/**\n * @returns {Object}\n */\n\nexport const sharingReportCommentError = () => ({\n  type: actionTypes.SHARING_DATA_SET_REPORT_COMMENT_ERROR\n});\n/**\n * @returns {Function}\n */\n\nexport const sharingReportCommentStartWithFeedback = () => dispatch => {\n  dispatch(showLoader());\n  dispatch(sharingReportCommentStart());\n};\n/**\n * @returns {Function}\n */\n\nexport const sharingReportCommentSuccessWithFeedback = () => dispatch => {\n  dispatch(showSuccessSnackBar(i18n.t('Successfully added comment')));\n  dispatch(sharingReportCommentSuccess());\n};\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const sharingReportCommentErrorWithFeedback = error => dispatch => {\n  const defaultMessge = i18n.t('An error occurred while submitting your comment!');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessge);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(sharingReportCommentError());\n};","import i18n from '@dhis2/d2-i18n';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage';\nimport { showErrorSnackBar } from './feedback';\nimport { getPeriodTypes } from '../../utils/api';\nexport const actionTypes = {\n  REPORT_PERIOD_TYPES_LOADING_START: 'REPORT_PERIOD_TYPES_LOADING_START',\n  REPORT_PERIOD_TYPES_RECEIVED: 'REPORT_PERIOD_TYPES_RECEIVED',\n  REPORT_PERIOD_TYPES_ERRORED: 'REPORT_PERIOD_TYPES_ERRORED',\n  REPORT_PERIOD_TYPE_SELECTED: 'REPORT_PERIOD_TYPE_SELECTED',\n  REPORT_PERIOD_SELECTED: 'REPORT_PERIOD_SELECTED',\n  REPORT_PERIOD_CLEAR_ALL: 'REPORT_PERIOD_CLEAR_ALL'\n};\n/**\n * @param {Array} periodTypes\n * @returns {Object}\n */\n\nexport const loadPeriodTypesSuccess = periodTypes => ({\n  type: actionTypes.REPORT_PERIOD_TYPES_RECEIVED,\n  payload: periodTypes\n});\n/**\n * @returns {Object}\n */\n\nexport const loadPeriodTypesError = () => ({\n  type: actionTypes.REPORT_PERIOD_TYPES_ERRORED\n});\n/**\n * @param {Error} error\n * @return {Function}\n */\n\nexport const fallbackErrorMessage = i18n.t('Could not load period types');\nexport const loadPeriodTypesErrorWithFeedback = error => dispatch => {\n  const displayMessage = humanReadableErrorMessage(error, fallbackErrorMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadPeriodTypesError());\n};\nexport const loadPeriodTypes = () => dispatch => getPeriodTypes().then(periodTypes => dispatch(loadPeriodTypesSuccess(periodTypes))).catch(error => {\n  console.error(error);\n  dispatch(loadPeriodTypesErrorWithFeedback(error));\n});\nexport const selectPeriodType = event => ({\n  type: actionTypes.REPORT_PERIOD_TYPE_SELECTED,\n  payload: event.target.value\n});\nexport const selectPeriod = period => ({\n  type: actionTypes.REPORT_PERIOD_SELECTED,\n  payload: period\n});\nexport const clearSelectedReportPeriod = () => ({\n  type: actionTypes.REPORT_PERIOD_CLEAR_ALL\n});","import i18n from '@dhis2/d2-i18n';\nimport { push } from 'connected-react-router';\nimport debounce from 'lodash.debounce';\nimport omit from 'lodash.omit';\nimport size from 'lodash.size';\nimport { DEBOUNCE_DELAY } from '../../config/search.config';\nimport { STANDARD_REPORT_SECTION_KEY } from '../../config/sections.config';\nimport { reportTypes } from '../../pages/standard-report/standard.report.conf';\nimport { deleteStandardReport as deleteStandardReportRequest, getApi, getFilteredStandardReports, getStandardReportDetails, getStandardReportHtmlReport, postStandardReport, updateStandardReport } from '../../utils/api';\nimport { fileToText } from '../../utils/fileToText';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage';\nimport { appendOrgUnitsAndReportPeriodToQueryString, extractRequiredReportParams, getReportParams, isHtmlReport, validateRequiredParams, processCheckboxValues, isJasperReportTableReport } from '../../utils/standardReport';\nimport { clearFeedback, showConfirmationSnackBar, showErrorSnackBar, showSuccessSnackBar } from './feedback';\nimport { clearSelectedOrgUnit } from './organisationUnits';\nimport { goToNextPage as goToNextPageOrig, goToPrevPage as goToPrevPageOrig, setPagination } from './pagination';\nimport { loadingReportDataError, loadingReportDataStart, loadingReportDataSuccess } from './reportData';\nimport { clearSelectedReportPeriod } from './reportPeriod';\nimport { formatStandardReportPayloadBySystemVersion } from '../../utils/backwardCompatability';\nimport { getPeriodStartDate } from '../../utils/periods/periodTypes';\nexport const actionTypes = {\n  SET_SELECTED_REPORT: 'SET_SELECTED_REPORT',\n  CLEAR_SELECTED_REPORT: 'CLEAR_SELECTED_REPORT',\n  LOAD_STANDARD_REPORTS: 'LOAD_STANDARD_REPORTS',\n  LOADING_STANDARD_REPORTS_START: 'LOADING_STANDARD_REPORTS_START',\n  LOADING_STANDARD_REPORTS_SUCCESS: 'LOADING_STANDARD_REPORTS_SUCCESS',\n  LOADING_STANDARD_REPORTS_ERROR: 'LOADING_STANDARD_REPORTS_ERROR',\n  LOADING_STANDARD_REPORTS_DETAILS_START: 'LOADING_STANDARD_REPORTS_DETAILS_START',\n  LOADING_STANDARD_REPORTS_DETAILS_SUCCESS: 'LOADING_STANDARD_REPORTS_DETAILS_SUCCESS',\n  LOADING_STANDARD_REPORTS_DETAILS_ERROR: 'LOADING_STANDARD_REPORTS_DETAILS_ERROR',\n  SET_SEARCH: 'SET_SEARCH',\n  ADD_REPORT_FORM_SHOW: 'ADD_REPORT_FORM_SHOW',\n  ADD_REPORT_FORM_HIDE: 'ADD_REPORT_FORM_HIDE',\n  EDIT_REPORT_FORM_SHOW: 'EDIT_REPORT_FORM_SHOW',\n  EDIT_REPORT_FORM_HIDE: 'EDIT_REPORT_FORM_HIDE',\n  CREATE_REPORT_SHOW: 'CREATE_REPORT_SHOW',\n  CREATE_REPORT_HIDE: 'CREATE_REPORT_HIDE',\n  SHARING_SETTINGS_SHOW: 'SHARING_SETTINGS_SHOW',\n  SHARING_SETTINGS_HIDE: 'SHARING_SETTINGS_HIDE',\n  REQUEST_DELETE_STANDARD_REPORT: 'REQUEST_DELETE_STANDARD_REPORT',\n  DELETE_STANDARD_REPORT_START: 'DELETE_STANDARD_REPORT_START',\n  DELETE_STANDARD_REPORT_SUCCESS: 'DELETE_STANDARD_REPORT_SUCCESS',\n  DELETE_STANDARD_REPORT_ERROR: 'DELETE_STANDARD_REPORT_ERROR',\n  HTML_REPORT_SHOW: 'HTML_REPORT_SHOW',\n  HTML_REPORT_HIDE: 'HTML_REPORT_HIDE',\n  CLOSE_CONTEXT_MENU: 'CLOSE_CONTEXT_MENU',\n  STANDARD_REPORT_SEND_START: 'STANDARD_REPORT_SEND_START',\n  STANDARD_REPORT_SEND_SUCCESS: 'STANDARD_REPORT_SEND_SUCCESS',\n  STANDARD_REPORT_SEND_ERROR: 'STANDARD_REPORT_SEND_ERROR',\n  DEFINE_REQUIRED_PARAMS: 'DEFINE_REQUIRED_PARAMS',\n  REQUIRED_PARAMS_ERROR: 'REQUIRED_PARAMS_ERROR',\n  GENERATE_PDF_REPORT: 'GENERATE_PDF_REPORT',\n  CANCEL_GENERATING_PDF_REPORT: 'CANCEL_GENERATING_PDF_REPORT'\n};\n/**\n * @returns {Object}\n */\n\nexport const setSelectedReport = report => ({\n  type: actionTypes.SET_SELECTED_REPORT,\n  payload: report\n});\nexport const clearSelectedReport = () => ({\n  type: actionTypes.CLEAR_SELECTED_REPORT\n});\n/**\n * @returns {Object}\n */\n\nexport const startLoadingStandardReports = () => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_START\n});\n/**\n * @param {Array} reports\n * @returns {Object}\n */\n\nexport const loadingStandardReportsSuccess = reports => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_SUCCESS,\n  payload: reports\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingStandardReportsError = () => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingStandardReportsErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the standard reports');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingStandardReportsError());\n};\n/**\n * @param {string} searchTerm\n * @return {Function} Redux thunk\n */\n\nconst debouncedLoadStandardReports = debounce(dispatch => dispatch(loadStandardReports()), DEBOUNCE_DELAY);\nexport const setSearch = searchTerm => dispatch => {\n  dispatch({\n    type: actionTypes.SET_SEARCH,\n    payload: searchTerm\n  });\n  debouncedLoadStandardReports(dispatch);\n};\n/**\n * @param {number} nextPage\n * @return {Function}\n */\n\nexport const goToNextPage = () => dispatch => {\n  dispatch(goToNextPageOrig());\n  dispatch(loadStandardReports());\n};\n/**\n * @param {number} nextPage\n * @return {Function}\n */\n\nexport const goToPrevPage = () => dispatch => {\n  dispatch(goToPrevPageOrig());\n  dispatch(loadStandardReports());\n};\n/**\n * @param {Object} report A d2 report model\n * @return {Object}\n */\n\nexport const addReportFormShow = () => push(`${STANDARD_REPORT_SECTION_KEY}/new`);\n/**\n * @param {Object} report A d2 report model\n * @return {Object}\n */\n\nexport const editReportFormShow = report => push(`${STANDARD_REPORT_SECTION_KEY}/edit/${report.id}`);\n/**\n * @param {Object} report A d2 report model\n * @return {Object}\n */\n\nexport const sharingSettingsShow = report => ({\n  type: actionTypes.SHARING_SETTINGS_SHOW,\n  payload: report\n});\n/**\n * Used to get a confirmation from the user\n * @return {Object}\n */\n\nexport const requestDeleteStandardReport = report => dispatch => {\n  dispatch({\n    type: actionTypes.REQUEST_DELETE_STANDARD_REPORT,\n    payload: report\n  });\n  dispatch(showConfirmationSnackBar('Do you really want to delete this report?'));\n};\n/**\n * @return {Object}\n */\n\nexport const deleteStandardReportStart = () => ({\n  type: actionTypes.DELETE_STANDARD_REPORT_START\n});\n/**\n * @return {Object}\n */\n\nexport const deleteStandardReportSuccess = () => ({\n  type: actionTypes.DELETE_STANDARD_REPORT_SUCCESS\n});\n/**\n * @returns {Object}\n */\n\nexport const deleteStandardReportError = () => ({\n  type: actionTypes.DELETE_STANDARD_REPORT_ERROR\n});\n/**\n * @return {Object}\n */\n\nexport const deleteStandardReportSuccessWithFeedback = () => dispatch => {\n  dispatch(deleteStandardReportSuccess());\n  dispatch(loadStandardReports());\n  dispatch(clearFeedback());\n};\n/**\n * @param {Error} error\n * @return {Object}\n */\n\nexport const deleteStandardReportErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while trying to delete the standard report');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(deleteStandardReportError());\n};\n/**\n * @returns {Object}\n */\n\nexport const closeContextMenu = refreshList => dispatch => {\n  dispatch({\n    type: actionTypes.CLOSE_CONTEXT_MENU\n  });\n\n  if (refreshList) {\n    dispatch(loadStandardReports());\n  }\n};\n/**\n * @param {string} reportData\n * @returns {Object}\n */\n\nexport const showReportData = reportData => dispatch => {\n  dispatch(loadingReportDataSuccess(reportData));\n  dispatch(closeContextMenu());\n};\n/**\n * @returns {Object}\n */\n\nexport const hideReportData = () => ({\n  type: actionTypes.HTML_REPORT_HIDE\n});\n/**\n * @return {Function} Redux thunk\n */\n\nexport const loadStandardReports = () => (dispatch, getState) => {\n  const {\n    standardReport,\n    pagination\n  } = getState();\n  const {\n    page,\n    pageSize\n  } = pagination;\n  const {\n    search\n  } = standardReport;\n  dispatch(startLoadingStandardReports());\n  return getFilteredStandardReports(page, pageSize, search).then(response => {\n    dispatch(loadingStandardReportsSuccess(response.reports));\n    dispatch(setPagination(response.pager));\n  }).catch(error => dispatch(loadingStandardReportsErrorWithFeedback(error)));\n};\n/**\n * @param {Object} report\n * @return {Function} A redux thunk\n */\n\nexport const deleteStandardReport = () => (dispatch, getState) => {\n  const {\n    selectedReport\n  } = getState().standardReport;\n  dispatch(deleteStandardReportStart());\n  return deleteStandardReportRequest(selectedReport.id).then(() => dispatch(deleteStandardReportSuccessWithFeedback())).catch(error => dispatch(deleteStandardReportErrorWithFeedback(error)));\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingStandardReportsDetailsStart = () => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_DETAILS_START\n});\n/**\n * @param {Array} reports\n * @returns {Object}\n */\n\nexport const loadingStandardReportsDetailsSuccess = reports => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_DETAILS_SUCCESS,\n  payload: reports\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingStandardReportsDetailsError = () => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_DETAILS_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingStandardReportsDetailsErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the standard report details');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingStandardReportsDetailsError());\n};\n/**\n * @param {string} id\n * @returns {Function}\n */\n\nexport const loadStandardReportDetails = id => dispatch => {\n  dispatch(loadingStandardReportsDetailsStart());\n  getStandardReportDetails(id).then(report => dispatch(loadingStandardReportsDetailsSuccess(report))).catch(error => dispatch(loadingStandardReportsDetailsError(error)));\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingSendStandardReportStart = () => ({\n  type: actionTypes.STANDARD_REPORT_SEND_START\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingSendStandardReportSuccess = () => ({\n  type: actionTypes.STANDARD_REPORT_SEND_SUCCESS\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingSendStandardReportError = () => ({\n  type: actionTypes.STANDARD_REPORT_SEND_ERROR\n});\n/**\n * @param {Object} report\n * @param {bool} isEdit - When false, add new report\n * @returns {Promise}\n */\n\nexport const sendStandardReport = (report, isEdit) => (dispatch, getState) => {\n  dispatch(loadingSendStandardReportStart());\n  const {\n    standardReport: {\n      selectedReport\n    }\n  } = getState();\n  const formattedReport = { ...report,\n    relativePeriods: processCheckboxValues(report.relativePeriods, selectedReport.relativePeriods),\n    reportParams: processCheckboxValues(report.reportParams, selectedReport.reportParams),\n    reportTable: report.reportTable ? {\n      id: report.reportTable\n    } : ''\n  };\n  const cleanedFormattedReportReport = isJasperReportTableReport(report) ? formattedReport : omit(formattedReport, ['reportTable']);\n  const dhis2CoreVersionFormattedReport = formatStandardReportPayloadBySystemVersion(cleanedFormattedReportReport);\n  const doRequest = isEdit ? report => updateStandardReport(report) : report => postStandardReport(report);\n  const successMessage = isEdit ? i18n.t('The report has been updated successfully') : i18n.t('The report has been added successfully');\n  const errorMessage = isEdit ? i18n.t('An error occurred while updating the report!') : i18n.t('An error occurred while adding the report!');\n  const request = !dhis2CoreVersionFormattedReport.designContent ? doRequest({ ...selectedReport,\n    ...dhis2CoreVersionFormattedReport\n  }) : fileToText(dhis2CoreVersionFormattedReport.designContent.file).then(file => ({ ...selectedReport,\n    ...dhis2CoreVersionFormattedReport,\n    designContent: file\n  })).then(doRequest);\n  return request.then(() => {\n    dispatch(showSuccessSnackBar(successMessage));\n    dispatch(loadingSendStandardReportSuccess());\n    dispatch(loadStandardReports());\n    dispatch(navigateToList());\n  }).catch(error => {\n    const displayMessage = humanReadableErrorMessage(error, errorMessage);\n    dispatch(showErrorSnackBar(displayMessage));\n    dispatch(loadingSendStandardReportError());\n  });\n};\nexport const navigateToList = () => dispatch => {\n  dispatch(clearSelectedReport());\n  dispatch(push(`/${STANDARD_REPORT_SECTION_KEY}`));\n};\n/**\n * =============================================\n * Generate report\n * =============================================\n */\n\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const generatingHtmlReportErrorWithFeedback = error => dispatch => {\n  const generatingHtmlReportErrorDefaultMessage = i18n.t('An error occurred while generating the html report');\n  const displayMessage = humanReadableErrorMessage(error, generatingHtmlReportErrorDefaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingReportDataError());\n};\n/**\n * @param {string} id\n * @returns {Function}\n */\n\nexport const generateHtmlReport = ({\n  id,\n  orgUnitId,\n  reportPeriod\n}) => dispatch => {\n  dispatch(loadingReportDataStart());\n  const reportRequestBody = {};\n\n  if (orgUnitId) {\n    reportRequestBody.ou = orgUnitId;\n  }\n\n  if (reportPeriod) {\n    const startDate = getPeriodStartDate(reportPeriod);\n    reportRequestBody.pe = reportPeriod;\n\n    if (startDate) {\n      reportRequestBody.date = startDate;\n    }\n  }\n\n  return getStandardReportHtmlReport(id, reportRequestBody).then(report => dispatch(loadingReportDataSuccess(report))).catch(error => dispatch(generatingHtmlReportErrorWithFeedback(error)));\n};\nexport const defineRequiredReportParams = requiredParams => ({\n  type: actionTypes.DEFINE_REQUIRED_PARAMS,\n  payload: requiredParams\n});\nexport const requiredReportParamsError = errors => ({\n  type: actionTypes.REQUIRED_PARAMS_ERROR,\n  payload: errors\n});\nexport const cancelGeneratingPdfReport = () => dispatch => {\n  dispatch(clearSelectedReportPeriod());\n  dispatch(clearSelectedOrgUnit());\n  dispatch({\n    type: actionTypes.CANCEL_GENERATING_PDF_REPORT\n  });\n};\nexport const submitRequiredReportParams = () => (dispatch, getState) => {\n  const state = getState();\n  const {\n    standardReport\n  } = state;\n  const {\n    selectedReport,\n    reportParams\n  } = standardReport;\n  const errors = validateRequiredParams(state, reportParams);\n\n  if (size(errors)) {\n    dispatch(requiredReportParamsError(errors));\n  } else {\n    if (selectedReport.type === reportTypes.HTML) {\n      dispatch(navigateToHtmlReportView());\n    } else {\n      dispatch(generatePdfReport());\n    }\n  }\n};\n/**\n * @param {string} reportId\n * @returns {Function}\n */\n\nexport const showReportParams = report => dispatch => {\n  dispatch(setSelectedReport(report));\n  const reportParams = getReportParams(report);\n  const requiredParams = extractRequiredReportParams(reportParams);\n\n  if (!size(requiredParams)) {\n    if (isHtmlReport(report)) {\n      dispatch(navigateToHtmlReportView());\n    } else {\n      dispatch(generatePdfReport());\n    }\n  } else {\n    dispatch(defineRequiredReportParams(requiredParams));\n  }\n};\nexport const navigateToHtmlReportView = () => (dispatch, getState) => {\n  const state = getState();\n  const reportId = state.standardReport.selectedReport.id;\n  const reportQueryString = appendOrgUnitsAndReportPeriodToQueryString(state);\n  dispatch(push(`${STANDARD_REPORT_SECTION_KEY}/view/${reportId}${reportQueryString}`));\n};\nexport const generatePdfReport = () => (dispatch, getState) => {\n  const api = getApi();\n  const state = getState();\n  const {\n    id\n  } = state.standardReport.selectedReport;\n  const reportPath = `reports/${id}/data.pdf`;\n  const reportQueryString = appendOrgUnitsAndReportPeriodToQueryString(state, `t=${new Date().getTime()}`);\n  dispatch({\n    type: actionTypes.GENERATE_PDF_REPORT\n  });\n  dispatch(clearSelectedReportPeriod());\n  dispatch(clearSelectedOrgUnit());\n  window.open(`${api.baseUrl}/${reportPath}${reportQueryString}`);\n};","export const fileToText = blob => new Promise((resolve, reject) => {\n  const fileReader = new FileReader();\n  fileReader.readAsText(blob);\n\n  fileReader.onload = event => {\n    if (event.target.readyState !== 2) return;\n    if (event.target.error) reject('File could not be read');\n    resolve(event.target.result);\n  };\n});","import { actionTypes } from '../actions/standardReport';\nimport { actionTypes as reportDataActionTypes } from '../actions/reportData';\nimport { CONTEXT_MENU_ACTION } from '../../pages/standard-report/standard.report.conf';\nexport const defaultState = {\n  reports: [],\n  selectedReport: {},\n  selectedAction: '',\n  search: '',\n  open: false,\n  reportData: '',\n  loading: false,\n  loadingError: '',\n  requestDelete: false,\n  loadingDetails: false,\n  loadingSendReport: false,\n  reportParams: {},\n  reportParamsErrors: [],\n  showReportParams: false\n};\nexport const standardReport = (state = defaultState, action = {}) => {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case actionTypes.SET_SELECTED_REPORT:\n      return { ...state,\n        selectedReport: payload\n      };\n\n    case actionTypes.CLEAR_SELECTED_REPORT:\n      return { ...state,\n        selectedReport: {}\n      };\n\n    case actionTypes.LOADING_STANDARD_REPORTS_START:\n      return { ...state,\n        loading: true\n      };\n\n    case actionTypes.LOADING_STANDARD_REPORTS_SUCCESS:\n      return { ...state,\n        reports: payload,\n        loading: false\n      };\n\n    case actionTypes.LOADING_STANDARD_REPORTS_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case actionTypes.SET_SEARCH:\n      return { ...state,\n        search: payload\n      };\n\n    case actionTypes.SHARING_SETTINGS_SHOW:\n      return { ...state,\n        open: true,\n        selectedReport: payload,\n        selectedAction: CONTEXT_MENU_ACTION.SHARING_SETTINGS\n      };\n\n    case actionTypes.CLOSE_CONTEXT_MENU:\n      return { ...state,\n        open: false,\n        selectedReport: {},\n        selectedAction: ''\n      };\n\n    case actionTypes.REQUEST_DELETE_STANDARD_REPORT:\n      return { ...state,\n        requestDelete: true,\n        selectedReport: payload,\n        selectedAction: CONTEXT_MENU_ACTION.DELETE\n      };\n\n    case actionTypes.DELETE_STANDARD_REPORT_START:\n      return { ...state,\n        requestDelete: false,\n        loading: true\n      };\n\n    case actionTypes.DELETE_STANDARD_REPORT_SUCCESS:\n      return { ...state,\n        selectedReport: {},\n        selectedAction: '',\n        loading: false\n      };\n\n    case actionTypes.DELETE_STANDARD_REPORT_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case actionTypes.LOADING_STANDARD_REPORTS_DETAILS_START:\n      return { ...state,\n        loadingDetails: true\n      };\n\n    case actionTypes.LOADING_STANDARD_REPORTS_DETAILS_SUCCESS:\n      return { ...state,\n        open: true,\n        loadingDetails: false,\n        selectedReport: payload\n      };\n\n    case actionTypes.LOADING_STANDARD_REPORTS_DETAILS_ERROR:\n      return { ...state,\n        loadingDetails: false\n      };\n\n    case actionTypes.STANDARD_REPORT_SEND_START:\n      return { ...state,\n        loadingSendReport: true\n      };\n\n    case actionTypes.STANDARD_REPORT_SEND_SUCCESS:\n    case actionTypes.STANDARD_REPORT_SEND_ERROR:\n      return { ...state,\n        open: false,\n        loadingSendReport: false\n      };\n\n    case actionTypes.DEFINE_REQUIRED_PARAMS:\n      return { ...state,\n        reportParams: payload,\n        showReportParams: true\n      };\n\n    case actionTypes.REQUIRED_PARAMS_ERROR:\n      return { ...state,\n        reportParamsErrors: payload\n      };\n\n    case actionTypes.GENERATE_PDF_REPORT:\n    case actionTypes.CANCEL_GENERATING_PDF_REPORT:\n    case reportDataActionTypes.LOADING_REPORT_DATA_SUCCESS:\n      return { ...state,\n        reportParams: {},\n        reportParamsErrors: [],\n        showReportParams: false\n      };\n\n    default:\n      return state;\n  }\n};","import debounce from 'lodash.debounce';\nimport i18n from '@dhis2/d2-i18n';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage';\nimport { getStandardReportTables } from '../../utils/api';\nimport { DEBOUNCE_DELAY } from '../../config/search.config';\nimport { showErrorSnackBar } from './feedback';\nexport const MIN_CHAR_LENGTH = 3;\nexport const actionTypes = {\n  STANDARD_REPORT_TABLES_SET_SEARCH_TERM: 'STANDARD_REPORT_TABLES_SET_SEARCH_TERM',\n  STANDARD_REPORT_TABLES_CLEAR_SEARCH_TERM: 'STANDARD_REPORT_TABLES_CLEAR_SEARCH_TERM',\n  STANDARD_REPORT_TABLES_LOADING_START: 'STANDARD_REPORT_TABLES_LOADING_START',\n  STANDARD_REPORT_TABLES_LOADING_SUCCESS: 'STANDARD_REPORT_TABLES_LOADING_SUCCESS',\n  STANDARD_REPORT_TABLES_LOADING_ERROR: 'STANDARD_REPORT_TABLES_LOADING_ERROR'\n};\n/**\n * @returns {Function}\n */\n\nexport const loadFilteredStandardReportTables = searchTerm => dispatch => {\n  dispatch(setSearch(searchTerm));\n\n  if (searchTerm.length >= MIN_CHAR_LENGTH) {\n    debouncedLoadStandardReportTables(dispatch);\n  }\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingStandardReportTablesStart = () => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_LOADING_START\n});\n/**\n * @returns {Object}\n */\n\nexport const setSearch = searchTerm => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_SET_SEARCH_TERM,\n  payload: searchTerm\n});\nexport const clearSearch = () => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_CLEAR_SEARCH_TERM\n});\n/**\n * @param {Array} tables\n * @returns {Object}\n */\n\nexport const loadingStandardReportTablesSuccess = tables => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_LOADING_SUCCESS,\n  payload: tables\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingStandardReportTablesError = () => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_LOADING_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingStandardReportTablesErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the report table options');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingStandardReportTablesError());\n};\n/**\n * @returns {Function}\n */\n\nexport const loadStandardReportTables = () => (dispatch, getState) => {\n  const {\n    standardReportTables\n  } = getState();\n  dispatch(loadingStandardReportTablesStart());\n  return getStandardReportTables(standardReportTables.searchTerm).then(reportTables => {\n    const formattedReportTables = reportTables.map(({\n      id,\n      displayName\n    }) => ({\n      value: id,\n      label: displayName\n    }));\n    dispatch(loadingStandardReportTablesSuccess(formattedReportTables));\n  }).catch(error => {\n    dispatch(loadingStandardReportTablesErrorWithFeedback(error));\n  });\n};\nconst debouncedLoadStandardReportTables = debounce(dispatch => dispatch(loadStandardReportTables()), DEBOUNCE_DELAY);","import { actionTypes } from '../actions/standardReportTables';\nexport const defaultState = {\n  loading: false,\n  error: '',\n  collection: [],\n  noMatches: false,\n  searchTerm: ''\n};\nexport const standardReportTables = (state = defaultState, {\n  type,\n  payload\n} = {}) => {\n  switch (type) {\n    case actionTypes.STANDARD_REPORT_TABLES_SET_SEARCH_TERM:\n      return { ...state,\n        searchTerm: payload,\n        noMatches: false\n      };\n\n    case actionTypes.STANDARD_REPORT_TABLES_CLEAR_SEARCH_TERM:\n      return { ...state,\n        searchTerm: '',\n        collection: [],\n        noMatches: false\n      };\n\n    case actionTypes.STANDARD_REPORT_TABLES_LOADING_START:\n      return { ...state,\n        error: '',\n        loading: true\n      };\n\n    case actionTypes.STANDARD_REPORT_TABLES_LOADING_SUCCESS:\n      return { ...state,\n        loading: false,\n        error: '',\n        collection: payload,\n        noMatches: payload.length === 0\n      };\n\n    case actionTypes.STANDARD_REPORT_TABLES_LOADING_ERROR:\n      return { ...state,\n        loading: false,\n        noMatches: false\n      };\n\n    default:\n      return state;\n  }\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/reportPeriod';\nexport const ACTIONS = {\n  LOCATION_CHANGE,\n  ...actionTypes\n};\nexport const defaultState = {\n  loading: true,\n  collection: [],\n  selectedPeriodType: '',\n  selectedPeriod: ''\n};\nexport function reportPeriod(state = defaultState, {\n  type,\n  payload\n}) {\n  switch (type) {\n    case ACTIONS.REPORT_PERIOD_TYPES_RECEIVED:\n      return { ...state,\n        loading: false,\n        collection: payload\n      };\n\n    case ACTIONS.REPORT_PERIOD_TYPES_ERRORED:\n      return { ...state,\n        loading: false\n      };\n\n    case ACTIONS.REPORT_PERIOD_TYPE_SELECTED:\n      return { ...state,\n        selectedPeriodType: payload,\n        selectedPeriod: ''\n      };\n\n    case ACTIONS.REPORT_PERIOD_SELECTED:\n      return { ...state,\n        selectedPeriod: payload\n      };\n\n    case ACTIONS.REPORT_PERIOD_CLEAR_ALL:\n    case ACTIONS.LOCATION_CHANGE:\n      return { ...defaultState,\n        loading: state.loading,\n        collection: state.collection\n      };\n\n    default:\n      return state;\n  }\n}","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/organisationUnits';\nexport const ACTIONS = {\n  LOCATION_CHANGE,\n  ...actionTypes\n};\nexport const defaultState = {\n  loading: true,\n  collection: [],\n  selected: null,\n  selectedOptions: {},\n  showOptions: false\n};\nexport function organisationUnits(state = defaultState, {\n  type,\n  payload\n}) {\n  switch (type) {\n    case ACTIONS.ORGANISATION_UNITS_RECEIVED:\n      return { ...state,\n        loading: false,\n        collection: payload\n      };\n\n    case ACTIONS.ORGANISATION_UNITS_ERRORED:\n      return { ...state,\n        loading: false\n      };\n\n    case ACTIONS.ORGANISATION_UNIT_SELECTED:\n      return { ...state,\n        selected: payload\n      };\n\n    case ACTIONS.ORGANISATION_UNITS_OPTION_SELECTED:\n      return { ...state,\n        selectedOptions: { ...state.selectedOptions,\n          [payload.id]: payload.value\n        }\n      };\n\n    case ACTIONS.TOGGLE_SHOW_OPTIONS:\n      return { ...state,\n        showOptions: !state.showOptions\n      };\n\n    case ACTIONS.ORGANISATION_UNIT_CLEARED:\n    case ACTIONS.LOCATION_CHANGE:\n      return { ...defaultState,\n        loading: false,\n        collection: state.collection\n      };\n\n    default:\n      return state;\n  }\n}","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/orgUnitGroupSets';\nexport const defaultState = {\n  loading: false,\n  collection: [],\n  selected: ''\n};\nexport function orgUnitGroupSets(state = defaultState, {\n  type,\n  payload\n} = {}) {\n  switch (type) {\n    case actionTypes.LOADING_GROUP_SETS_START:\n      return { ...state,\n        loading: true,\n        collection: []\n      };\n\n    case actionTypes.LOADING_GROUP_SETS_SUCCESS:\n      return { ...state,\n        loading: false,\n        collection: payload\n      };\n\n    case actionTypes.LOADING_GROUP_SETS_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case actionTypes.SET_GROUP_SET:\n      return { ...state,\n        selected: payload\n      };\n\n    case LOCATION_CHANGE:\n      return { ...defaultState,\n        collection: state.collection\n      };\n\n    default:\n      return state;\n  }\n}","import humanReadableErrorMessage from '../../utils/humanReadableErrorMessage';\nimport i18n from '@dhis2/d2-i18n';\nimport { getDataSetOptions } from '../../utils/api';\nimport { showErrorSnackBar } from './feedback';\nexport const actionTypes = {\n  SELECT_DATA_SET: 'SELECT_DATA_SET',\n  LOADING_DATA_SET_OPTIONS_START: 'LOADING_DATA_SET_OPTIONS_START',\n  LOADING_DATA_SET_OPTIONS_SUCCESS: 'LOADING_DATA_SET_OPTIONS_SUCCESS',\n  LOADING_DATA_SET_OPTIONS_ERROR: 'LOADING_DATA_SET_OPTIONS_ERROR'\n};\nexport const selectDataSet = dataSetId => ({\n  type: actionTypes.SELECT_DATA_SET,\n  payload: dataSetId\n});\nexport const loadingDataSetOptionsStart = () => ({\n  type: actionTypes.LOADING_DATA_SET_OPTIONS_START\n});\nexport const loadingDataSetOptionsSuccess = options => ({\n  type: actionTypes.LOADING_DATA_SET_OPTIONS_SUCCESS,\n  payload: options\n});\nexport const loadingDataSetOptionsError = () => ({\n  type: actionTypes.LOADING_DATA_SET_OPTIONS_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingDataSetOptionsErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred whole loading the data set options');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingDataSetOptionsError());\n};\nexport const loadDataSetOptions = (filter = null) => dispatch => {\n  dispatch(loadingDataSetOptionsStart());\n  return getDataSetOptions().then(options => filter ? options.filter(filter) : options).then(options => dispatch(loadingDataSetOptionsSuccess(options))).catch(error => dispatch(loadingDataSetOptionsErrorWithFeedback(error)));\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/dataSet';\nexport const defaultSelected = {\n  id: '',\n  displayName: ''\n};\nexport const defaultState = {\n  loading: false,\n  selected: defaultSelected,\n  options: []\n};\nexport const dataSet = (state = defaultState, {\n  type,\n  payload\n} = {}) => {\n  switch (type) {\n    case actionTypes.SELECT_DATA_SET:\n      return { ...state,\n        selected: state.options.reduce((curSelected, cur) => cur.id === payload ? cur : curSelected, {\n          id: '',\n          displayName: ''\n        })\n      };\n\n    case actionTypes.LOADING_DATA_SET_OPTIONS_START:\n      return { ...state,\n        loading: true,\n        loadingError: '',\n        options: []\n      };\n\n    case actionTypes.LOADING_DATA_SET_OPTIONS_SUCCESS:\n      return { ...state,\n        loading: false,\n        options: payload\n      };\n\n    case actionTypes.LOADING_DATA_SET_OPTIONS_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case LOCATION_CHANGE:\n      return { ...state,\n        selected: defaultSelected\n      };\n\n    default:\n      return state;\n  }\n};","import humanReadableErrorMessage from '../../utils/humanReadableErrorMessage';\nimport i18n from '@dhis2/d2-i18n';\nimport { showWarningSnackBar } from './feedback';\nimport { getDimensions } from '../../utils/api';\nexport const actionTypes = {\n  LOADING_DIMENSIONS_START: 'LOADING_DIMENSIONS_START',\n  LOADING_DIMENSIONS_SUCCESS: 'LOADING_DIMENSIONS_SUCCESS',\n  LOADING_DIMENSIONS_ERROR: 'LOADING_DIMENSIONS_ERROR',\n  SELECT_DIMENSION_OPTION: 'SELECT_DIMENSION_OPTION'\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingDimensionsStart = () => ({\n  type: actionTypes.LOADING_DIMENSIONS_START\n});\n/**\n * @param {Array} dimensions\n * @returns {Object}\n */\n\nexport const loadingDimensionsSuccess = dimensions => ({\n  type: actionTypes.LOADING_DIMENSIONS_SUCCESS,\n  payload: dimensions\n});\nexport const loadingDimensionsError = () => ({\n  type: actionTypes.LOADING_DIMENSIONS_ERROR\n});\n/**\n * @param (Error) error\n * @returns {Function}\n */\n\nexport const loadingDimensionsErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the data set dimensions');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showWarningSnackBar(displayMessage));\n  dispatch(loadingDimensionsError());\n};\n/**\n * @param {string} dimension\n * @param {string} value\n * @returns {Object}\n */\n\nexport const selectDimensionOption = (dimension, value) => ({\n  type: actionTypes.SELECT_DIMENSION_OPTION,\n  payload: {\n    dimension,\n    value\n  }\n});\n/**\n * @returns {Function}\n */\n\nexport const loadDimensions = () => (dispatch, getState) => {\n  dispatch(loadingDimensionsStart());\n  const {\n    dataSet\n  } = getState();\n  return getDimensions(dataSet.selected.id).then(dimensions => dispatch(loadingDimensionsSuccess(dimensions))).catch(error => dispatch(loadingDimensionsErrorWithFeedback(error)));\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/dataSetDimensions';\nexport const defaultState = {\n  loading: false,\n  options: [],\n  selected: {}\n};\nexport const dataSetDimensions = (state = defaultState, {\n  type,\n  payload\n} = {}) => {\n  switch (type) {\n    case actionTypes.LOADING_DIMENSIONS_START:\n      return { ...state,\n        loading: true,\n        options: []\n      };\n\n    case actionTypes.LOADING_DIMENSIONS_SUCCESS:\n      return { ...state,\n        loading: false,\n        options: payload\n      };\n\n    case actionTypes.LOADING_DIMENSIONS_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case actionTypes.SELECT_DIMENSION_OPTION:\n      return { ...state,\n        selected: { ...state.selected,\n          [payload.dimension]: payload.value\n        }\n      };\n\n    case LOCATION_CHANGE:\n      return { ...defaultState\n      };\n\n    default:\n      return state;\n  }\n};","import { selectDataSet as selectDataSetOriginal } from './dataSet';\nimport { loadDimensions } from './dataSetDimensions';\nimport { getDataSetReport, postDataSetReportComment } from '../../utils/api';\nimport { loadingReportDataStart, loadingReportDataSuccessWithFeedback, loadingReportDataErrorWithFeedback, sharingReportCommentStartWithFeedback, sharingReportCommentSuccessWithFeedback, sharingReportCommentErrorWithFeedback } from './reportData';\nexport const actionTypes = {\n  SHOW_DATA_SET_REPORT_FORM: 'SHOW_DATA_SET_REPORT_FORM',\n  TOGGLE_SELECTED_UNIT_ONLY: 'TOGGLE_SELECTED_UNIT_ONLY'\n};\nexport const selectDataSet = dataSetId => (dispatch, getState) => {\n  dispatch(selectDataSetOriginal(dataSetId));\n  const {\n    dataSet\n  } = getState();\n  dispatch(loadDimensions(dataSet.selected.id));\n};\nexport const toggleSelectedUnitOnly = selectedUnitOnly => ({\n  type: actionTypes.TOGGLE_SELECTED_UNIT_ONLY,\n  payload: selectedUnitOnly\n});\nexport const loadReportData = () => (dispatch, getState) => {\n  dispatch(loadingReportDataStart());\n  const {\n    dataSet,\n    dataSetDimensions,\n    dataSetReport,\n    organisationUnits,\n    reportPeriod\n  } = getState();\n  return getDataSetReport({\n    dataSet: dataSet.selected,\n    dataSetDimensions: dataSetDimensions.selected,\n    orgUnitGroupsOptions: organisationUnits.selectedOptions,\n    orgUnit: organisationUnits.selected.id,\n    period: reportPeriod.selectedPeriod,\n    selectedUnitOnly: dataSetReport.selectedUnitOnly\n  }).then(response => dispatch(loadingReportDataSuccessWithFeedback(response))).catch(error => dispatch(loadingReportDataErrorWithFeedback(error)));\n};\nexport const shareDataSetReportComment = comment => (dispatch, getState) => {\n  const {\n    dataSet,\n    organisationUnits,\n    reportPeriod\n  } = getState();\n  const dataSetId = dataSet.selected.id;\n  const orgUnitId = organisationUnits.selected.id;\n  const period = reportPeriod.selectedPeriod;\n  dispatch(sharingReportCommentStartWithFeedback());\n  return postDataSetReportComment(dataSetId, orgUnitId, period, comment).then(() => dispatch(sharingReportCommentSuccessWithFeedback())).catch(error => dispatch(sharingReportCommentErrorWithFeedback(error)));\n};","import { actionTypes } from '../actions/dataSetReport';\nexport const defaultState = {\n  selectedUnitOnly: false\n};\nexport const dataSetReport = (state = defaultState, {\n  type,\n  payload\n} = {}) => {\n  switch (type) {\n    case actionTypes.TOGGLE_SELECTED_UNIT_ONLY:\n      return { ...state,\n        selectedUnitOnly: payload\n      };\n\n    default:\n      return state;\n  }\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/reportData';\nexport const defaultState = {\n  loading: false,\n  content: {},\n  comment: ''\n};\nexport const reportData = (state = defaultState, {\n  type,\n  payload\n} = {}) => {\n  switch (type) {\n    case actionTypes.LOADING_REPORT_DATA_START:\n      return { ...state,\n        loading: true,\n        content: {}\n      };\n\n    case actionTypes.LOADING_REPORT_DATA_SUCCESS:\n      return { ...state,\n        loading: false,\n        content: payload\n      };\n\n    case actionTypes.LOADING_REPORT_DATA_ERROR:\n      return { ...state,\n        loading: false\n      };\n    // @TODO: not sure this is needed.\n    // Not required for reporting-rate-summary\n\n    case actionTypes.UNSET_REPORT_DATA:\n      return { ...state,\n        content: {}\n      };\n\n    case actionTypes.SET_DATA_SET_REPORT_COMMENT:\n      return { ...state,\n        comment: payload\n      };\n\n    case LOCATION_CHANGE:\n      return defaultState;\n\n    default:\n      return state;\n  }\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/pagination';\nconst allActionTypes = { ...actionTypes,\n  LOCATION_CHANGE\n};\nexport const DEFAULT_PAGE_SIZE = 50;\nexport const defaultState = {\n  pageSize: DEFAULT_PAGE_SIZE,\n  page: 1,\n  total: 0,\n  pageCount: 1,\n  nextPage: '',\n  prevPage: ''\n};\nexport const pagination = (state = defaultState, {\n  type,\n  payload\n} = {}) => {\n  switch (type) {\n    case allActionTypes.GO_TO_NEXT_PAGE:\n      return { ...state,\n        page: state.page + 1\n      };\n\n    case allActionTypes.GO_TO_PREV_PAGE:\n      return { ...state,\n        page: state.page - 1\n      };\n\n    case allActionTypes.SET_PAGINATION:\n      return payload;\n\n    case actionTypes.RESET_PAGINATION:\n    case allActionTypes.LOCATION_CHANGE:\n      return defaultState;\n\n    default:\n      return state;\n  }\n};","import { getOrgUnitDistReport } from '../../utils/api';\nimport { loadingReportDataStart, loadingReportDataSuccessWithFeedback, loadingReportDataErrorWithFeedback } from './reportData';\nexport const actionTypes = {\n  SET_TABULAR_OUTPUT: 'SET_TABULAR_OUTPUT',\n  SET_CHART_OUTPUT: 'SET_CHART_OUTPUT'\n};\n/**\n * @returns {Object}\n */\n\nexport const setOutputToChart = () => ({\n  type: actionTypes.SET_CHART_OUTPUT\n});\n/**\n * @returns {Object}\n */\n\nexport const setOutputToTabular = () => ({\n  type: actionTypes.SET_TABULAR_OUTPUT\n});\n/**\n * @returns {Function}\n */\n\nexport const loadChart = () => dispatch => {\n  dispatch(setOutputToChart());\n  dispatch(loadReport());\n};\n/**\n * @returns {Function}\n */\n\nexport const loadTable = () => dispatch => {\n  dispatch(setOutputToTabular());\n  dispatch(loadReport());\n};\n/**\n * @returns {Function}\n */\n\nexport const loadReport = () => (dispatch, getState) => {\n  dispatch(loadingReportDataStart());\n  const {\n    organisationUnits,\n    orgUnitGroupSets,\n    orgUnitDistReport: {\n      shouldShowChart\n    }\n  } = getState();\n  const orgUnit = organisationUnits.selected;\n  const groupSetId = orgUnitGroupSets.selected;\n  return getOrgUnitDistReport(orgUnit, groupSetId, shouldShowChart).then(response => dispatch(loadingReportDataSuccessWithFeedback(response, shouldShowChart))).catch(error => dispatch(loadingReportDataErrorWithFeedback(error)));\n};","import { actionTypes } from '../actions/orgUnitDistReport';\nexport const defaultState = {\n  shouldShowChart: false\n};\nexport const orgUnitDistReport = (state = defaultState, {\n  type\n} = {}) => {\n  switch (type) {\n    case actionTypes.SET_TABULAR_OUTPUT:\n      return {\n        shouldShowChart: false\n      };\n\n    case actionTypes.SET_CHART_OUTPUT:\n      return {\n        shouldShowChart: true\n      };\n\n    default:\n      return state;\n  }\n};","import debounce from 'lodash.debounce';\nimport i18n from '@dhis2/d2-i18n';\nimport { DEBOUNCE_DELAY } from '../../config/search.config';\nimport { RESOURCE_ENDPOINT } from '../../utils/api';\nimport { getApi, getResources, getResourceById, postResource, putResource, deleteResource as sendDeleteResourceRequest } from '../../utils/api';\nimport { goToNextPage as goToNextPageOrig, goToPrevPage as goToPrevPageOrig, resetPagination, setPagination } from './pagination';\nimport { showSuccessSnackBar, showErrorSnackBar, showConfirmationSnackBar } from './feedback';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage';\nimport { push } from 'connected-react-router';\nexport const actionTypes = {\n  LOADING_RESOURCES_START: 'LOADING_RESOURCES_START',\n  LOADING_RESOURCES_SUCCESS: 'LOADING_RESOURCES_SUCCESS',\n  LOADING_RESOURCES_ERROR: 'LOADING_RESOURCES_ERROR',\n  SET_RESOURCE_SEARCH: 'SET_RESOURCE_SEARCH',\n  VIEW_RESOURCE: 'VIEW_RESOURCE',\n  SHOW_SHARING_SETTINGS: 'SHOW_SHARING_SETTINGS',\n  SET_RESOURCE: 'SET_RESOURCE',\n  REQUEST_DELETE_RESOURCE: 'REQUEST_DELETE_RESOURCE',\n  DELETE_RESOURCE_START: 'DELETE_RESOURCE_START',\n  DELETE_RESOURCE_SUCCESS: 'DELETE_RESOURCE_SUCCESS',\n  DELETE_RESOURCE_ERROR: 'DELETE_RESOURCE_ERROR',\n  CLEAR_SELECTED_RESOURCE: 'CLEAR_SELECTED_RESOURCE',\n  RESOURCE_ADD_LOADING_START: 'RESOURCE_ADD_LOADING_START',\n  RESOURCE_ADD_LOADING_SUCCESS: 'RESOURCE_ADD_LOADING_SUCCESS',\n  RESOURCE_ADD_LOADING_ERROR: 'RESOURCE_ADD_LOADING_ERROR',\n  RESOURCE_EDIT_LOADING_START: 'RESOURCE_EDIT_LOADING_START',\n  RESOURCE_EDIT_LOADING_SUCCESS: 'RESOURCE_EDIT_LOADING_SUCCESS',\n  RESOURCE_EDIT_LOADING_ERROR: 'RESOURCE_EDIT_LOADING_ERROR'\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingResourcesStart = () => ({\n  type: actionTypes.LOADING_RESOURCES_START\n});\n/**\n * @param {Array} resources\n * @returns {Object}\n */\n\nexport const loadingResourcesSuccess = resources => ({\n  type: actionTypes.LOADING_RESOURCES_SUCCESS,\n  payload: resources\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingResourcesError = () => ({\n  type: actionTypes.LOADING_RESOURCES_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingResourcesErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the resources!');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingResourcesError());\n};\n/**\n * @returns {Function}\n */\n\nexport const loadResources = () => (dispatch, getState) => {\n  dispatch(loadingResourcesStart());\n  const {\n    pagination,\n    resource\n  } = getState();\n  const {\n    page,\n    pageSize\n  } = pagination;\n  const {\n    search\n  } = resource;\n  return getResources(page, pageSize, search).then(response => {\n    dispatch(loadingResourcesSuccess(response.documents));\n    dispatch(setPagination(response.pager));\n  }).catch(error => {\n    dispatch(loadingResourcesErrorWithFeedback(error));\n  });\n};\n/**\n * @param {number} nextPage\n * @return {Function}\n */\n\nexport const goToNextPage = () => dispatch => {\n  dispatch(goToNextPageOrig());\n  dispatch(loadResources());\n};\n/**\n * @param {number} nextPage\n * @return {Function}\n */\n\nexport const goToPrevPage = () => dispatch => {\n  dispatch(goToPrevPageOrig());\n  dispatch(loadResources());\n};\n/**\n * @param {string} searchTerm\n * @returns {Object}\n */\n\nexport const setSearch = searchTerm => ({\n  type: actionTypes.SET_RESOURCE_SEARCH,\n  payload: searchTerm\n});\n/**\n * @param {string} searchTerm\n * @return {Function} Redux thunk\n */\n\nconst debouncedLoadResources = debounce(dispatch => dispatch(loadResources()), DEBOUNCE_DELAY);\nexport const setSearchAndLoadResources = searchTerm => dispatch => {\n  dispatch(setSearch(searchTerm));\n  debouncedLoadResources(dispatch);\n};\n/**\n * @param {Object} resource\n * @param {string} resource.id\n * @returns {Object}\n */\n\nexport const viewResource = resource => {\n  const {\n    id\n  } = resource;\n  const baseUrl = getApi().baseUrl;\n  const resourceUrl = `${baseUrl}/${RESOURCE_ENDPOINT}/${id}/data`;\n  window.open(resourceUrl);\n  return {\n    type: actionTypes.VIEW_RESOURCE,\n    payload: resource\n  };\n};\n/**\n * @param {Object} resource\n * @returns {Object}\n */\n\nexport const showSharingSettings = resource => ({\n  type: actionTypes.SHOW_SHARING_SETTINGS,\n  payload: resource\n});\n/**\n * @returns {Object}\n */\n\nexport const addResource = () => dispatch => {\n  dispatch(toResourceForm());\n};\n/**\n * @param {Object} resource\n * @returns {Object}\n */\n\nexport const editResource = resource => dispatch => {\n  dispatch(setResource(resource));\n  dispatch(toResourceForm(resource.id));\n};\n/**\n * @param {String} id\n * @returns {Object}\n */\n\nexport const toResourceForm = id => {\n  const path = id ? `/resource/edit/${id}` : '/resource/new';\n  return push(path);\n};\n/**\n * @param {String} id\n * @returns {Object}\n */\n\nexport const loadResource = id => async dispatch => {\n  const resource = await getResourceById(id);\n  return dispatch(setResource(resource));\n};\n/**\n * @param {Object} resource\n * @returns {Object}\n */\n\nexport const setResource = resource => ({\n  type: actionTypes.SET_RESOURCE,\n  payload: resource\n});\n/**\n * Used to get a confirmation from the user\n * @return {Object}\n */\n\nconst confirmationMessage = i18n.t('Do you really want to delete this resource?');\nexport const requestDeleteResource = resource => dispatch => {\n  dispatch({\n    type: actionTypes.REQUEST_DELETE_RESOURCE,\n    payload: resource\n  });\n  dispatch(showConfirmationSnackBar(confirmationMessage));\n};\nexport const deleteResourceStart = () => ({\n  type: actionTypes.DELETE_RESOURCE_START\n});\nexport const deleteResourceSuccess = () => ({\n  type: actionTypes.DELETE_RESOURCE_SUCCESS\n});\nexport const deleteResourceError = () => ({\n  type: actionTypes.DELETE_RESOURCE_ERROR\n});\nconst successMessage = i18n.t('The resource has been deleted successfully');\nexport const deleteResourceSuccessWithFeedback = () => dispatch => {\n  dispatch(showSuccessSnackBar(successMessage));\n  dispatch(deleteResourceSuccess());\n};\nconst defaultDeleteResourceErrorMessage = i18n.t('An error occurred when deleting the resource!');\nexport const deleteResourceErrorWithFeedback = error => dispatch => {\n  const message = humanReadableErrorMessage(error, defaultDeleteResourceErrorMessage);\n  dispatch(showErrorSnackBar(message));\n  dispatch(deleteResourceError());\n};\nexport const deleteResource = () => (dispatch, getState) => {\n  dispatch(deleteResourceStart());\n  const {\n    resource: {\n      selectedResource\n    }\n  } = getState();\n  return sendDeleteResourceRequest(selectedResource.id).then(() => {\n    dispatch(deleteResourceSuccessWithFeedback());\n    dispatch(loadResources());\n  }).catch(error => dispatch(deleteResourceErrorWithFeedback(error)));\n};\nexport const clearSelectedResource = () => ({\n  type: actionTypes.CLEAR_SELECTED_RESOURCE\n});\nexport const backToList = () => dispatch => {\n  dispatch(clearSelectedResource());\n  dispatch(push('/resource'));\n};\nexport const closeContextMenu = refreshList => dispatch => {\n  dispatch(clearSelectedResource());\n\n  if (refreshList) {\n    dispatch(resetPagination());\n    dispatch(loadResources());\n  }\n};\n/**\n *\n * Adding a resource\n *\n */\n\n/**\n * @returns {Object}\n */\n\nexport const loadingAddResourceStart = () => ({\n  type: actionTypes.RESOURCE_ADD_LOADING_START\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingAddResourceSuccess = () => ({\n  type: actionTypes.RESOURCE_ADD_LOADING_SUCCESS\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingAddResourceError = () => ({\n  type: actionTypes.RESOURCE_ADD_LOADING_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingAddResourceErrorWithFeedback = error => dispatch => {\n  const defaultAddResourceErrorMessage = i18n.t('An error occurred while adding the resource!');\n  const displayMessage = humanReadableErrorMessage(error, defaultAddResourceErrorMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingAddResourceError());\n};\n/**\n * @param {Object} resource\n * @param {File} [file]\n * @returns {Function}\n */\n\nexport const addNewResource = (resource, file) => dispatch => {\n  dispatch(loadingAddResourceStart());\n  postResource(resource, file).then(() => {\n    dispatch(loadingAddResourceSuccess());\n    dispatch(loadResources());\n  }).catch(error => {\n    dispatch(loadingAddResourceErrorWithFeedback(error));\n  });\n};\n/**\n *\n * Editing a resource\n *\n */\n\n/**\n * @returns {Object}\n */\n\nexport const loadingEditResourceStart = () => ({\n  type: actionTypes.RESOURCE_EDIT_LOADING_START\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingEditResourceSuccess = () => ({\n  type: actionTypes.RESOURCE_EDIT_LOADING_SUCCESS\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingEditResourceError = () => ({\n  type: actionTypes.RESOURCE_EDIT_LOADING_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingEditResourceErrorWithFeedback = error => dispatch => {\n  const defaultAddResourceErrorMessage = i18n.t('An error occurred while saving the modifications!');\n  const displayMessage = humanReadableErrorMessage(error, defaultAddResourceErrorMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingAddResourceError());\n};\n/**\n * @param {Object} resource\n * @param {File} [file]\n * @returns {Function}\n */\n\nexport const updateResource = (resource, file) => (dispatch, getState) => {\n  dispatch(loadingEditResourceStart());\n  const resourceId = getState().resource.selectedResource.id;\n  putResource(resourceId, resource, file).then(() => {\n    dispatch(loadingEditResourceSuccess());\n    dispatch(loadResources());\n  }).catch(error => {\n    dispatch(loadingEditResourceErrorWithFeedback(error));\n  });\n};","import i18n from '@dhis2/d2-i18n';\nexport const resourceTypes = {\n  UPLOAD_FILE: 'UPLOAD_FILE',\n  EXTERNAL_URL: 'EXTERNAL_URL'\n};\nexport const resourceTypeOptions = [{\n  value: resourceTypes.EXTERNAL_URL,\n  label: i18n.t('External url')\n}, {\n  value: resourceTypes.UPLOAD_FILE,\n  label: i18n.t('Upload file')\n}];\nexport const resourceActions = {\n  NEW: 'newResource',\n  VIEW: 'viewResource',\n  EDIT: 'editResource',\n  SHARING_SETTINGS: 'sharingSettings',\n  DELETE: 'delete'\n};\nexport const contextMenuIcons = {\n  [resourceActions.VIEW]: 'arrow_right',\n  [resourceActions.EDIT]: 'edit',\n  [resourceActions.SHARING_SETTINGS]: 'people',\n  [resourceActions.DELETE]: 'delete'\n};","import { actionTypes } from '../actions/resource';\nimport { resourceActions } from '../../utils/resource/constants';\nexport const defaultSelectedResource = {\n  id: '',\n  displayName: ''\n};\nexport const defaultState = {\n  open: false,\n  loading: false,\n  addEditLoading: false,\n  search: '',\n  collection: [],\n  selectedAction: '',\n  selectedResource: defaultSelectedResource\n};\nexport const resource = (state = defaultState, {\n  type,\n  payload\n} = {}) => {\n  switch (type) {\n    case actionTypes.REQUEST_DELETE_RESOURCE:\n      return { ...state,\n        selectedResource: payload\n      };\n\n    case actionTypes.LOADING_RESOURCES_START:\n      return { ...state,\n        loading: true\n      };\n\n    case actionTypes.LOADING_RESOURCES_SUCCESS:\n      return { ...state,\n        loading: false,\n        collection: payload\n      };\n\n    case actionTypes.LOADING_RESOURCES_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case actionTypes.SET_RESOURCE_SEARCH:\n      return { ...state,\n        search: payload\n      };\n\n    case actionTypes.SET_RESOURCE:\n      return { ...state,\n        open: true,\n        selectedResource: payload\n      };\n\n    case actionTypes.SHOW_SHARING_SETTINGS:\n      return { ...state,\n        open: true,\n        selectedResource: payload,\n        selectedAction: resourceActions.SHARING_SETTINGS\n      };\n\n    case actionTypes.DELETE_RESOURCE_START:\n      return { ...state,\n        loading: true\n      };\n\n    case actionTypes.DELETE_RESOURCE_SUCCESS:\n    case actionTypes.DELETE_RESOURCE_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case actionTypes.CLEAR_SELECTED_RESOURCE:\n      return { ...state,\n        open: false,\n        selectedAction: '',\n        selectedResource: defaultSelectedResource\n      };\n\n    case actionTypes.RESOURCE_ADD_LOADING_START:\n    case actionTypes.RESOURCE_EDIT_LOADING_START:\n      return { ...state,\n        addEditLoading: true\n      };\n\n    case actionTypes.RESOURCE_ADD_LOADING_SUCCESS:\n    case actionTypes.RESOURCE_EDIT_LOADING_SUCCESS:\n      return { ...state,\n        addEditLoading: false,\n        open: false,\n        selectedAction: '',\n        selectedResource: defaultSelectedResource\n      };\n\n    case actionTypes.RESOURCE_ADD_LOADING_ERROR:\n    case actionTypes.RESOURCE_EDIT_LOADING_ERROR:\n      return { ...state,\n        addEditLoading: false\n      };\n\n    default:\n      return state;\n  }\n};","import { combineReducers } from 'redux';\nimport { connectRouter } from 'connected-react-router';\nimport history from '../utils/history';\nimport { feedback } from './reducers/feedback';\nimport { standardReport } from './reducers/standardReport';\nimport { standardReportTables } from './reducers/standardReportTables';\nimport { reportPeriod } from './reducers/reportPeriod';\nimport { organisationUnits } from './reducers/organisationUnits';\nimport { orgUnitGroupSets } from './reducers/orgUnitGroupSets';\nimport { dataSet } from './reducers/dataSet';\nimport { dataSetDimensions } from './reducers/dataSetDimensions';\nimport { dataSetReport } from './reducers/dataSetReport';\nimport { reportData } from './reducers/reportData';\nimport { pagination } from './reducers/pagination';\nimport { orgUnitDistReport } from './reducers/orgUnitDistReport';\nimport { resource } from './reducers/resource';\nexport default combineReducers({\n  router: connectRouter(history),\n  feedback,\n  standardReport,\n  standardReportTables,\n  dataSetReport,\n  reportPeriod,\n  organisationUnits,\n  orgUnitGroupSets,\n  dataSet,\n  dataSetDimensions,\n  reportData,\n  pagination,\n  orgUnitDistReport,\n  resource\n});","import { createStore, applyMiddleware } from 'redux';\nimport reduxThunk from 'redux-thunk';\nimport { routerMiddleware } from 'connected-react-router';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport history from '../utils/history';\nimport rootReducer from './rootReducer';\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(routerMiddleware(history), reduxThunk)));\nexport default store;","import { sections, ORG_UNIT_DIST_REPORT_SECTION_KEY } from '../../config/sections.config';\nexport const getIsUiBlocked = state => state.organisationUnits.loading || state.reportPeriod.loading || state.dataSet.loading || state.standardReport.loadingSendReport || state.resource.addEditLoading || atOrgUnitDistReportSection(state) && state.orgUnitGroupSets.loading;\n\nconst atOrgUnitDistReportSection = ({\n  router\n}) => router.location.pathname === sections[ORG_UNIT_DIST_REPORT_SECTION_KEY].path;","import { getIsUiBlocked } from '../getIsUiBlocked';\nexport const getShowLoading = state => state.feedback.showLoader || getIsUiBlocked(state);","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { CircularProgress } from '@dhis2/d2-ui-core';\nimport { getShowLoading } from '../../redux/selectors/feedback/getShowLoading';\n\nconst Loader = props => props.show ? <div className={\"jsx-3072581291\" + \" \" + \"loading-container\"}>\n            <div className={\"jsx-3072581291\" + \" \" + \"progress-wrap\"}>\n                <CircularProgress />\n            </div>\n            <_JSXStyle id={\"3072581291\"}>{[\".loading-container.jsx-3072581291{position:fixed;top:0;left:0;height:100%;width:100%;background:rgba(0,0,0,0.4);z-index:3000;}\", \".progress-wrap.jsx-3072581291{position:absolute;top:50%;left:50%;-webkit-transform:'translate(-50%, -50%)';-ms-transform:'translate(-50%, -50%)';transform:'translate(-50%, -50%)';}\"]}</_JSXStyle>\n        </div> : null;\n\nLoader.propTypes = {\n  show: PropTypes.bool.isRequired\n};\n\nconst mapStateToProps = state => ({\n  show: getShowLoading(state)\n});\n\nconst connectedLoader = connect(mapStateToProps)(Loader);\nexport { connectedLoader as Loader, Loader as LoaderOriginal };","import { sections } from '../config/sections.config';\nimport { getSystemVersion } from './api';\nexport const DOCS_LINK = 'https://docs.dhis2.org';\nexport const DEFAULT_DOC_LANGUAGE = 'en';\n/**\n * Returns the \"version\" of the documentation that corresponds with the current dhis2 version.\n *\n * @param {Object} version - The version definition as provided by d2.system.version.\n * @param {number} version.minor - The minor dhis2 version. e.g. The 25 in 2.25.\n * @param {boolean} version.snapshot - True when the current version is the snapshot(master/development) branch.\n *\n * @returns {string} `master` for a snapshot branch. `25` for 2.25 etc.\n */\n\nconst getDocsVersion = () => {\n  const {\n    major,\n    minor,\n    snapshot\n  } = getSystemVersion();\n\n  if (snapshot) {\n    return 'master';\n  }\n\n  return `${major}.${minor}`;\n};\n\nexport const getDocsUrl = (sectionKey, lng = DEFAULT_DOC_LANGUAGE) => {\n  const baseUrl = `${DOCS_LINK}/${getDocsVersion()}/${lng}/user/html/`;\n  return `${baseUrl}${sections[sectionKey].info.docs}.html`;\n};\nexport default getDocsUrl;","import _JSXStyle from \"styled-jsx/style\";\n\n/* React */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst PageHelper = props => <a href={props.url} target=\"_blank\" rel=\"noopener noreferrer\" className={\"jsx-1199280612\" + \" \" + \"helper-icon material-icons\"}>\n        help\n        <_JSXStyle id={\"1199280612\"}>{[\"a.jsx-1199280612{padding-left:12px;color:#276696;-webkit-text-decoration:none;text-decoration:none;}\"]}</_JSXStyle>\n    </a>;\n\nPageHelper.propTypes = {\n  url: PropTypes.string.isRequired\n};\nexport default PageHelper;","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getDocsUrl } from '../utils/getDocsUrl';\nimport PageHelper from '../components/PageHelper';\nexport const SectionHeadline = props => <h1 className={\"jsx-1405635200\"}>\n        {props.showBackButton && <span id=\"back-button\" role=\"button\" tabIndex=\"0\" onClick={props.onBackClick} className={\"jsx-1405635200\" + \" \" + \"material-icons back-button\"}>\n                arrow_back\n            </span>}\n        {props.label}\n        <PageHelper url={getDocsUrl(props.sectionKey)} />\n        <_JSXStyle id={\"1405635200\"}>{[\"h1.jsx-1405635200{margin-bottom:0;}\", \".back-button.jsx-1405635200{cursor:pointer;outline:none;padding:12px;}\"]}</_JSXStyle>\n    </h1>;\nSectionHeadline.propTypes = {\n  label: PropTypes.string.isRequired,\n  sectionKey: PropTypes.string.isRequired,\n  showBackButton: PropTypes.bool,\n  onBackClick: PropTypes.func\n};\nSectionHeadline.defaultProps = {\n  showBackButton: false,\n  onBackClick: () => undefined\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { FeedbackSnackbar } from '@dhis2/d2-ui-core';\nimport { clearFeedback } from '../../redux/actions/feedback';\n\nconst Snackbar = ({\n  showSnackbar,\n  message,\n  type,\n  action,\n  onActionClick,\n  onClose\n}) => {\n  const conf = {\n    message,\n    type,\n    action,\n    onActionClick\n  };\n  return <span id=\"feedbackSnackbarId\">\n            <FeedbackSnackbar onClose={onClose} show={showSnackbar} conf={conf} />\n        </span>;\n};\n\nSnackbar.propTypes = {\n  message: PropTypes.string.isRequired,\n  showSnackbar: PropTypes.bool.isRequired,\n  type: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n  action: PropTypes.string,\n  onActionClick: PropTypes.func\n};\nSnackbar.defaultProps = {\n  action: '',\n  onActionClick: () => null\n};\n\nconst mapStateToProps = ({\n  feedback\n}) => ({\n  showSnackbar: feedback.showSnackbar,\n  message: feedback.message,\n  type: feedback.type\n});\n\nconst mapDispatchToProps = {\n  onClose: clearFeedback\n};\nconst connectedSnackbar = connect(mapStateToProps, mapDispatchToProps)(Snackbar);\nexport { connectedSnackbar as Snackbar, Snackbar as SnackbarOriginal };","export const getIsActionEnabled = state => !(!state.organisationUnits.selected || !state.dataSet.selected.id || !state.reportPeriod.selectedPeriod || state.dataSet.loading || state.dataSetDimensions.loading || state.reportData.loading);","export default function createDataTransformCache() {\n  let inputData = null;\n  let transformedData = null;\n  return {\n    hasValidCacheFor: data => !!inputData && data === inputData,\n    getCachedResult: () => transformedData,\n    setCachedResult: (input, transformed) => {\n      inputData = input;\n      transformedData = transformed;\n    }\n  };\n}","export const isHtmlReport = content => !!content && !!content.data && typeof content.data === 'string';","import isEmpty from 'lodash.isempty';\nimport createDataTransformCache from '../../../utils/dataTransformCache';\nimport { isHtmlReport } from '../../../utils/dataSetReport/isHtmlReport';\nexport const cache = createDataTransformCache();\nexport default function getTransformedTableData(state) {\n  const content = state.reportData.content;\n\n  if (isEmpty(content) || isHtmlReport(content)) {\n    return content;\n  }\n\n  if (cache.hasValidCacheFor(content)) {\n    return cache.getCachedResult();\n  }\n\n  const tables = content.data.map(transformTableData);\n  cache.setCachedResult(content, tables);\n  return tables;\n}\n\nfunction transformTableData(data) {\n  return {\n    title: data.title,\n    headers: data.headers.map(h => h.column),\n    rows: data.rows.map(cells => cells.map(x => !!x || x === 0 ? x : ''))\n  };\n}","import { connect } from 'react-redux';\nimport { loadReportData, selectDataSet, toggleSelectedUnitOnly, shareDataSetReportComment } from '../../redux/actions/dataSetReport';\nimport { setReportComment } from '../../redux/actions/reportData';\nimport { getIsActionEnabled } from '../../redux/selectors/dataSetReport/getIsActionEnabled';\nimport getTransformedTableData from '../../redux/selectors/dataSetReport/getTransformedTableData';\nimport { isHtmlReport } from '../../utils/dataSetReport/isHtmlReport';\n\nconst mapStateToProps = state => ({\n  isHtmlReport: isHtmlReport(state.reportData.content),\n  reportContent: getTransformedTableData(state),\n  fileUrls: state.reportData.content.fileUrls || [],\n  isReportLoading: state.reportData.loading,\n  reportComment: state.reportData.comment,\n  selectedUnitOnly: state.dataSetReport.selectedUnitOnly,\n  isActionEnabled: getIsActionEnabled(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  loadReportData: () => dispatch(loadReportData()),\n  selectDataSet: e => dispatch(selectDataSet(e.target.value)),\n  toggleSelectedUnitOnly: (e, selectedUnitOnly) => dispatch(toggleSelectedUnitOnly(selectedUnitOnly)),\n  shareDataSetReportComment: comment => dispatch(shareDataSetReportComment(comment)),\n  setDataSetReportComment: comment => dispatch(setReportComment(comment))\n});\n\nexport const connectDataSetReport = connect(mapStateToProps, mapDispatchToProps);","import _JSXStyle from \"styled-jsx/style\";\n// eslint-disable-next-line no-unused-vars\nimport React from 'react';\nexport const formLabel = {\n  styles: <_JSXStyle id={\"4279021995\"}>{[\".jsx-4279021995{text-align:left;color:#757575;margin-bottom:5px;font-size:14px;}\"]}</_JSXStyle>,\n  className: \"jsx-4279021995\"\n};\nexport const container = {\n  styles: <_JSXStyle id={\"115527779\"}>{[\".jsx-115527779{padding:16px;margin-top:16px;}\"]}</_JSXStyle>,\n  className: \"jsx-115527779\"\n};\nexport const card = {\n  styles: <_JSXStyle id={\"2551733070\"}>{[\".jsx-2551733070{box-sizing:border-box;display:inline-block;position:relative;min-width:200px;min-height:218px;height:100%;padding-left:30px;padding-right:30px;padding-bottom:20px;background-color:#ffffff;box-shadow:rgba(0,0,0,0.12) 0px 1px 6px, rgba(0,0,0,0.12) 0px 1px 4px;border-radius:5px;width:100%;}\"]}</_JSXStyle>,\n  className: \"jsx-2551733070\"\n};\nexport const formCard = {\n  styles: <_JSXStyle id={\"2165642276\"}>{[\".jsx-2165642276{padding:2rem 5rem 4rem;}\"]}</_JSXStyle>,\n  className: \"jsx-2165642276\"\n};\nexport const formLoader = {\n  styles: <_JSXStyle id={\"3618883681\"}>{[\".jsx-3618883681{padding-top:2rem;text-align:center;}\"]}</_JSXStyle>,\n  className: \"jsx-3618883681\"\n};\nexport const actionsContainer = {\n  styles: <_JSXStyle id={\"3492242264\"}>{[\".jsx-3492242264{display:block;margin-top:48px;margin-bottom:16px;}\"]}</_JSXStyle>,\n  className: \"jsx-3492242264\"\n};","import PropTypes from 'prop-types';\nexport const children = PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]);\nexport const reportContent = PropTypes.oneOfType([PropTypes.string, PropTypes.array, PropTypes.object]);\n/**\n *\n * Form prop types\n *\n */\n\nexport const formInput = PropTypes.shape({\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  onBlur: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onFocus: PropTypes.func.isRequired\n});\nexport const formInputMeta = PropTypes.shape({\n  touched: PropTypes.bool.isRequired,\n  error: PropTypes.string // is undefined when no error..\n\n});\nexport const formOption = PropTypes.shape({\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired\n});\nexport const formOptions = PropTypes.arrayOf(formOption);","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nconst prefix = i18n.t('Download as');\nexport const DownloadOption = ({\n  file\n}) => <a href={file.url} download tabIndex=\"0\" target={file.extension === 'pdf' ? '_blank' : '_self'} className={\"jsx-3028982603\" + \" \" + \"download-button\"}>\n        {prefix} {file.extension}\n        <_JSXStyle id={\"3028982603\"}>{[\".download-button.jsx-3028982603{cursor:pointer;outline:none;color:#757575;font-size:12px;text-transform:uppercase;margin-left:8px;}\"]}</_JSXStyle>\n    </a>;\nDownloadOption.propTypes = {\n  file: PropTypes.shape({\n    extension: PropTypes.string.isRequired,\n    url: PropTypes.string.isRequired\n  })\n};\nexport const DownloadOptions = ({\n  fileUrls\n}) => <div id=\"download-options-container\" className={\"jsx-1652653829\"}>\n        {fileUrls.map((file, index) => <DownloadOption file={file} key={index} />)}\n        <_JSXStyle id={\"1652653829\"}>{[\"div.jsx-1652653829{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}\"]}</_JSXStyle>\n    </div>;\nDownloadOptions.propTypes = {\n  fileUrls: PropTypes.array.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\n\n/* React */\nimport React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nexport const Row = ({\n  cells\n}) => <tr>\n        {cells.map((cell, index) => <td key={`c-${cell}-${index}`}>{cell}</td>)}\n    </tr>;\nRow.propTypes = {\n  cells: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])).isRequired\n};\n\nconst ReportTable = ({\n  content: {\n    title,\n    headers,\n    rows\n  }\n}) => <Fragment>\n        <h1 className={\"jsx-2067112289\"}>{title}</h1>\n        <table className={\"jsx-2067112289\"}>\n            <thead className={\"jsx-2067112289\"}>\n                <tr className={\"jsx-2067112289\"}>\n                    {headers.map((header, index) => <th key={`h-${header}-${index}`} className={\"jsx-2067112289\"}>{header}</th>)}\n                </tr>\n            </thead>\n            <tbody className={\"jsx-2067112289\"}>\n                {rows.map((cells, index) => <Row cells={cells} key={`r-${cells[0]}-${index}`} />)}\n            </tbody>\n        </table>\n        <_JSXStyle id={\"2067112289\"}>{[\"table.jsx-2067112289{border-collapse:collapse;}\", \"tr.jsx-2067112289{border-bottom:2px solid #e0e0e0;}\", \"tbody.jsx-2067112289 tr{border-bottom:1px solid #e0e0e0;}\", \"th.jsx-2067112289,tbody.jsx-2067112289 td{border:none;font-size:14px;padding:16px 16px;}\", \"th.jsx-2067112289{text-align:left;font-weight:bold;}\", \"tbody.jsx-2067112289 td:not(:first-child),thead.jsx-2067112289 th:not(:first-child){text-align:center;}\"]}</_JSXStyle>\n    </Fragment>;\n\nReportTable.propTypes = {\n  content: PropTypes.object.isRequired\n};\nexport default ReportTable;","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { InputField, Button } from '@dhis2/d2-ui-core';\nimport i18n from '@dhis2/d2-i18n';\n\nconst isCommentingActionEnabled = comment => comment.trim();\n\nconst actionButtonPlaceholder = i18n.t('Share');\nconst inputFieldPlaceholder = i18n.t('Write a comment, question or interpretation of this report');\nexport const ReportComment = props => <div id=\"share-component\" className={\"jsx-1358819727\"}>\n        <div className={\"jsx-1358819727\"}>\n            <InputField placeholder={inputFieldPlaceholder} type=\"text\" multiline fullWidth value={props.comment} onChange={props.setDataSetReportComment} />\n            <Button raised color=\"primary\" onClick={props.shareDataSetReportComment} disabled={!isCommentingActionEnabled(props.comment)}>\n                {actionButtonPlaceholder}\n            </Button>\n        </div>\n        <_JSXStyle id={\"1358819727\"}>{[\"div.jsx-1358819727>div.jsx-1358819727{margin:16px 0;}\"]}</_JSXStyle>\n    </div>;\nReportComment.propTypes = {\n  comment: PropTypes.string.isRequired,\n  setDataSetReportComment: PropTypes.func.isRequired,\n  shareDataSetReportComment: PropTypes.func.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { CircularProgress } from '@dhis2/d2-ui-core';\nimport isEmpty from 'lodash.isempty';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { container } from '../utils/styles/shared.js';\nimport { reportContent } from '../utils/react/propTypes';\nimport Paper from '@material-ui/core/Paper';\n\nconst ReportLoader = ({\n  isLoading,\n  content,\n  children\n}) => {\n  if (!isLoading && isEmpty(content)) {\n    return null;\n  }\n\n  const childrenToWrap = isLoading ? <div className={\"jsx-434875869\" + \" \" + \"report-loader\"}>\n            <CircularProgress />\n            <_JSXStyle id={\"434875869\"}>{[\"div.jsx-434875869{margin:48px 0;text-align:center;}\"]}</_JSXStyle>\n        </div> : children;\n  return <Paper className={container.className}>{childrenToWrap}</Paper>;\n};\n\nReportLoader.propTypes = {\n  children: PropTypes.node.isRequired,\n  content: reportContent.isRequired,\n  isLoading: PropTypes.bool.isRequired\n};\nexport default ReportLoader;","export const CSS_FILES = [{\n  media: 'screen',\n  styleSheet: '/dhis-web-commons/javascripts/jQuery/ui/css/redmond/jquery-ui.css'\n}, {\n  media: 'print',\n  styleSheet: '/dhis-web-commons/css/print.css'\n}, {\n  media: 'screen,print',\n  styleSheet: '/dhis-web-commons/css/themes/light_blue/light_blue.css'\n}];\nexport const SCRIPT_FILES = ['/dhis-web-commons/javascripts/jQuery/jquery.min.js', '/dhis-web-commons/javascripts/jQuery/jquery.utils.js', '/dhis-web-commons/javascripts/jQuery/ui/jquery-ui.min.js', '/dhis-web-commons/javascripts/dhis2/dhis2.util.js', '/dhis-web-commons/javascripts/dhis2/dhis2.period.js', '/dhis-web-commons/javascripts/commons.js', '/dhis-web-commons/javascripts/commons.ajax.js', '/dhis-web-commons/javascripts/lists.js', '/dhis-web-commons/javascripts/periodType.js', '/dhis-web-commons/javascripts/date.js', '/dhis-web-commons/oust/oust.js'];\nexport const PAGE_STYLES = `\n    html {\n        line-height: 1.15;\n        text-size-adjust: 100%;\n    }\n    body {\n        font-family: Roboto, sans-serif;\n        box-sizing: inherit;\n    }\n    table {\n        margin-top: 16px;\n        border-collapse: collapse;\n    }\n    table td,\n    table th {\n        border: 1px solid #bcbcbc;\n        padding: 4px;\n    }\n`;","import _JSXStyle from \"styled-jsx/style\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { getContextPath } from '../../utils/api';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { CSS_FILES, SCRIPT_FILES, PAGE_STYLES } from './HtmlReportAssets';\n\nconst wrapHtmlInTemplate = html => `\n    <!DOCTYPE html>\n    <html lang=\"en\">\n        <head>\n            <meta charset=\"utf-8\">\n            ${CSS_FILES.map(createLinkTag).join('\\n')}\n            ${SCRIPT_FILES.map(createScriptTag).join('\\n')}\n            <style type=\"text/css\">\n                ${PAGE_STYLES}\n            </style>\n        </head>\n        <body>\n            ${html}\n        </body>\n    </html>\n`;\n\nconst createScriptTag = script => {\n  const src = getContextPath() + script;\n  return `<script src=\"${src}\" type=\"text/javascript\"></script>`;\n};\n\nconst createLinkTag = ({\n  media,\n  styleSheet\n}) => {\n  const href = getContextPath() + styleSheet;\n  return `<link type=\"text/css\" rel=\"stylesheet\" media=\"${media}\" href=\"${href}\" >`;\n};\n\nconst Loader = () => <div className={\"jsx-2400364065\"}>\n        <CircularProgress />\n        <_JSXStyle id={\"2400364065\"}>{[\"div.jsx-2400364065{text-align:center;margin:16px;}\"]}</_JSXStyle>\n    </div>;\n\nclass HtmlReport extends Component {\n  state = {\n    heigth: 'auto'\n  };\n  heightObserver = null;\n  onIframeLoad = event => {\n    const iframeHtml = event.target.contentWindow.document.documentElement;\n    const iframeBody = event.target.contentWindow.document.body;\n    this.heightObserver = new window.ResizeObserver(this.onContentResize);\n    this.heightObserver.observe(iframeHtml);\n    this.heightObserver.observe(iframeBody);\n    this.adjustHeight(iframeHtml.getBoundingClientRect(), iframeBody.getBoundingClientRect());\n  };\n  onContentResize = entries => {\n    this.adjustHeight(...entries.map(entry => entry.contentRect));\n  };\n  adjustHeight = (iframeHtmlRect, iframeBodyRect) => {\n    const height = Math.max(iframeHtmlRect.height, iframeBodyRect.height); // Add 20px as a \"safety margin\" in case we get a horizontal scroll bar\n\n    this.setState({\n      height: Math.ceil(height) + 20\n    });\n  };\n\n  componentWillUnmount() {\n    this.heightObserver && this.heightObserver.disconnect();\n  }\n\n  render() {\n    return this.props.html ? <iframe id=\"html-report-id\" srcDoc={wrapHtmlInTemplate(this.props.html)} title=\"html-report-content\" width=\"100%\" height={this.state.height} seamless={true} sandbox=\"allow-same-origin allow-scripts allow-modals allow-downloads\" onLoad={this.onIframeLoad} className={\"jsx-2058224637\"}>\n                <_JSXStyle id={\"2058224637\"}>{[\"iframe.jsx-2058224637{border:none;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\"]}</_JSXStyle>\n            </iframe> : <Loader />;\n  }\n\n}\n\nHtmlReport.propTypes = {\n  html: PropTypes.string.isRequired\n};\nexport default HtmlReport;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { DownloadOptions } from '../../components/TabularReport/DownloadOptions';\nimport ReportTable from '../../components/TabularReport/ReportTable';\nimport { ReportComment } from '../../components/TabularReport/ReportComment';\nimport ReportLoader from '../../components/ReportLoader';\nimport { reportContent } from '../../utils/react/propTypes';\nimport HtmlReport from '../standard-report/HtmlReport';\n\nconst DataSetReportOutput = props => <ReportLoader content={props.content} isLoading={props.isLoading}>\n        <div className=\"tabular-report\">\n            <ReportComment comment={props.reportComment} shareDataSetReportComment={props.shareDataSetReportComment} setDataSetReportComment={props.setDataSetReportComment} />\n            <DownloadOptions fileUrls={props.fileUrls} />\n            {props.isHtmlReport ? <HtmlReport html={props.content.data} /> : !!props.content.length && props.content.map(table => <ReportTable key={table.title} content={table} />)}\n        </div>\n    </ReportLoader>;\n\nDataSetReportOutput.propTypes = {\n  content: reportContent.isRequired,\n  fileUrls: PropTypes.array.isRequired,\n  isHtmlReport: PropTypes.bool.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  reportComment: ReportComment.propTypes.comment,\n  setDataSetReportComment: ReportComment.propTypes.setDataSetReportComment,\n  shareDataSetReportComment: ReportComment.propTypes.shareDataSetReportComment\n};\nexport default DataSetReportOutput;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { DropDown } from '@dhis2/d2-ui-core';\nimport i18n from '@dhis2/d2-i18n';\nimport { selectDataSet } from '../redux/actions/dataSet';\nimport { formLabel } from '../utils/styles/shared.js';\nconst hintTextLoading = i18n.t('Loading options...');\nconst hintTextDefault = i18n.t('Select Data Set');\nexport const DatasetsDropdown = props => <div>\n        <span className={formLabel.className}>{props.label}</span>\n        <DropDown fullWidth={props.fullWidth} value={props.selected.id} onChange={props.onChange ? props.onChange : props.selectDataSet} menuItems={props.options} hintText={props.loading ? hintTextLoading : hintTextDefault} disabled={props.loading} />\n        {formLabel.styles}\n    </div>;\nDatasetsDropdown.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  options: PropTypes.array.isRequired,\n  selectDataSet: PropTypes.func.isRequired,\n  selected: PropTypes.object.isRequired,\n  fullWidth: PropTypes.bool,\n  label: PropTypes.string,\n  onChange: PropTypes.func\n};\nDatasetsDropdown.defaultProps = {\n  onChange: null,\n  label: i18n.t('Data set'),\n  fullWidth: true,\n  filter: null\n};\n\nconst mapStateToProps = ({\n  dataSet: {\n    loading,\n    selected,\n    options\n  }\n}) => ({\n  loading,\n  selected,\n  options\n});\n\nconst mapDispatchToProps = dispatch => ({\n  selectDataSet: event => dispatch(selectDataSet(event.target.value))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DatasetsDropdown);","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { DropDown } from '@dhis2/d2-ui-core';\nimport i18n from '@dhis2/d2-i18n';\nimport { selectDimensionOption } from '../redux/actions/dataSetDimensions';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { formLabel } from '../utils/styles/shared.js';\n\nconst createDimensionChangeHandler = (onChange, dimensionId) => element => onChange(dimensionId, element);\n\nconst DimensionDropdown = props => <div key={props.dimension.id} className=\"data-set-dimension\">\n        <span className={formLabel.className}>\n            {props.dimension.displayName}\n        </span>\n        <DropDown fullWidth={props.fullWidth} value={props.values[props.dimension.id]} onChange={props.onChange} menuItems={props.dimension.items} includeEmpty emptyLabel={i18n.t('Select Option')} hintText={i18n.t('Select Option')} />\n        {formLabel.styles}\n    </div>;\n\nconst Loader = () => <div className={\"jsx-2280194982\"}>\n        <CircularProgress size={24} thickness={3} />\n        <_JSXStyle id={\"2280194982\"}>{[\"div.jsx-2280194982{margin-bottom:16px;text-align:center;}\"]}</_JSXStyle>\n    </div>;\n\nDimensionDropdown.propTypes = {\n  dimension: PropTypes.object.isRequired,\n  fullWidth: PropTypes.bool.isRequired,\n  values: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nconst DataSetDimensions = ({\n  hide,\n  isLoading,\n  fullWidth,\n  options,\n  selected,\n  onChange\n}) => {\n  if (isLoading) {\n    return <Loader />;\n  }\n\n  if (hide || options.length === 0) {\n    return null;\n  }\n\n  return <React.Fragment>\n            <h6 className={\"jsx-3127033929\" + \" \" + \"header\"}>{i18n.t('Data set dimensions')}</h6>\n            <div className={\"jsx-3127033929\" + \" \" + \"box\"}>\n                {options.map(dimension => <DimensionDropdown key={dimension.id} dimension={dimension} fullWidth={fullWidth} values={selected} onChange={createDimensionChangeHandler(onChange, dimension.id)} />)}\n            </div>\n            <_JSXStyle id={\"3127033929\"}>{[\"h6.jsx-3127033929{color:#757575;font-size:14px;margin-bottom:5px;margin-top:0;text-align:left;font-weight:normal;}\", \"div.jsx-3127033929{border:1px solid #bcbcbc;padding:4px;margin-bottom:16px;}\"]}</_JSXStyle>\n        </React.Fragment>;\n};\n\nDataSetDimensions.propTypes = {\n  fullWidth: PropTypes.bool.isRequired,\n  hide: PropTypes.bool.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  options: PropTypes.array.isRequired,\n  selected: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired\n};\nDataSetDimensions.defaultProps = {\n  fullWidth: true\n};\n\nconst mapStateToProps = state => ({\n  hide: !state.dataSet.selected.id,\n  isLoading: state.dataSetDimensions.loading,\n  options: state.dataSetDimensions.options,\n  selected: state.dataSetDimensions.selected\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: (id, evt) => dispatch(selectDimensionOption(id, evt.target.value))\n});\n\nconst ConnectedDataSetDimensions = connect(mapStateToProps, mapDispatchToProps)(DataSetDimensions);\nexport { DataSetDimensions as OriginalComponent, ConnectedDataSetDimensions as DataSetDimensions };","import { flattenedRelativePeriods } from '../../../utils/periods/relativePeriods';\nimport { fixedPeriodTranslations, relativePeriodsThatAreActuallyFixed } from '../../../utils/periods/fixedPeriods';\nimport { isJasperReportTableReport } from '../../../utils/standardReport';\nexport const getFilteredPeriodTypes = state => {\n  const fixedPeriodTypes = state.reportPeriod.collection.map(periodType => ({\n    id: periodType.name,\n    displayName: fixedPeriodTranslations[periodType.name]\n  }));\n\n  if (!state.standardReport.showReportParams) {\n    return fixedPeriodTypes;\n  } // In report params modal we want to show a mix of fixed period types and relative periods\n\n\n  const report = state.standardReport.selectedReport;\n  const reportConfig = isJasperReportTableReport(report) ? report.reportTable : report;\n  const periods = reportConfig.relativePeriods || {};\n  return Object.keys(periods).reduce((acc, periodKey) => {\n    const isSelected = periods[periodKey];\n\n    if (isSelected) {\n      const fixedPeriodTypes = relativePeriodsThatAreActuallyFixed[periodKey];\n\n      if (fixedPeriodTypes) {\n        fixedPeriodTypes.forEach(periodKey => {\n          acc.push({\n            id: periodKey,\n            displayName: fixedPeriodTranslations[periodKey]\n          });\n        });\n      } else {\n        acc.push({ ...flattenedRelativePeriods[periodKey],\n          isRelative: true\n        });\n      }\n    }\n\n    return acc;\n  }, []);\n};","import i18n from '@dhis2/d2-i18n';\nimport { DropDown, PeriodPicker } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { selectPeriod, selectPeriodType } from '../redux/actions/reportPeriod';\nimport { getFilteredPeriodTypes } from '../redux/selectors/reportPeriod/periodTypes';\nimport { formLabel } from '../utils/styles/shared.js';\nimport { isFixedPeriodType } from '../utils/periods/fixedPeriods';\nconst periodTypeLabelText = i18n.t('Select Period Type');\nexport function PeriodPickerWithPeriodType({\n  selectPeriodType,\n  selectPeriod,\n  label,\n  collection,\n  selectedPeriodType\n}) {\n  const onDropDownChange = event => {\n    selectPeriodType(event); // relative periods can be selected from the first dropdown\n\n    if (!isFixedPeriodType(event.target.value)) {\n      selectPeriod(event.target.value);\n    }\n  };\n\n  return <div>\n            <span className={formLabel.className}>{label}</span>\n            <DropDown fullWidth emptyLabel={periodTypeLabelText} hintText={periodTypeLabelText} menuItems={collection} onChange={onDropDownChange} value={selectedPeriodType} />\n            {selectedPeriodType && isFixedPeriodType(selectedPeriodType) && <PeriodPicker periodType={selectedPeriodType} onPickPeriod={selectPeriod} />}\n            {formLabel.styles}\n        </div>;\n}\nPeriodPickerWithPeriodType.propTypes = {\n  collection: PropTypes.array.isRequired,\n  label: PropTypes.string.isRequired,\n  selectPeriod: PropTypes.func.isRequired,\n  selectPeriodType: PropTypes.func.isRequired,\n  selectedPeriodType: PropTypes.string\n};\n\nconst mapStateToProps = state => ({ ...state.reportPeriod,\n  collection: getFilteredPeriodTypes(state)\n});\n\nexport default connect(mapStateToProps, {\n  selectPeriodType,\n  selectPeriod\n})(PeriodPickerWithPeriodType);","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { OrgUnitTreeMultipleRoots } from '@dhis2/d2-ui-org-unit-tree';\nimport { selectOrganisationUnit } from '../redux/actions/organisationUnits';\nexport function AvailableOrganisationUnitsTree({\n  selectOrganisationUnit,\n  loading,\n  collection,\n  selected\n}) {\n  if (loading) {\n    return <span>{i18n.t('Updating Organisation Units Tree...')}</span>;\n  }\n\n  return <div className={\"jsx-2532267554\" + \" \" + \"org-unit-tree-wrapper\"}>\n            <OrgUnitTreeMultipleRoots hideMemberCount roots={collection} selected={selected ? [selected.path] : []} initiallyExpanded={collection.map(unit => `/${unit.id}`)} onSelectClick={selectOrganisationUnit} />\n            <_JSXStyle id={\"2532267554\"}>{[\"div.jsx-2532267554{border:1px solid #bcbcbc;overflow:auto;width:100%;box-sizing:border-box;font-weight:300;max-height:400px;padding:10px 5px;}\"]}</_JSXStyle>\n        </div>;\n}\nAvailableOrganisationUnitsTree.propTypes = {\n  collection: PropTypes.array.isRequired,\n  loading: PropTypes.bool.isRequired,\n  selectOrganisationUnit: PropTypes.func.isRequired,\n  selected: PropTypes.object\n};\n\nconst mapStateToProps = ({\n  organisationUnits\n}) => ({\n  loading: organisationUnits.loading,\n  collection: organisationUnits.collection,\n  selected: organisationUnits.selected\n});\n\nexport default connect(mapStateToProps, {\n  selectOrganisationUnit\n})(AvailableOrganisationUnitsTree);","import _JSXStyle from \"styled-jsx/style\";\n\n/* React */\n\n/* i18n */\nimport i18n from '@dhis2/d2-i18n';\n/* d2-ui components */\n\nimport { DropDown } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n/* App context */\n\nimport { formLabel } from '../utils/styles/shared.js';\nimport { connect } from 'react-redux';\nimport { selectOrgUnitOption } from '../redux/actions/organisationUnits';\nimport { CircularProgress } from '@material-ui/core';\n\nconst createGroupSetOnChange = (groupSetId, onChange) => event => {\n  onChange(groupSetId, event.target.value);\n};\n\nconst labelText = i18n.t('Select Option');\n\nconst OrganisationUnitGroupSetDropdown = ({\n  groupSet,\n  fullWidth,\n  value,\n  onChange\n}) => <div key={groupSet.id}>\n        <span className={formLabel.className}>{groupSet.displayName}</span>\n        <DropDown fullWidth={fullWidth} value={value} onChange={onChange} menuItems={groupSet.organisationUnitGroups} includeEmpty emptyLabel={labelText} hintText={labelText} />\n        {formLabel.styles}\n    </div>;\n\nOrganisationUnitGroupSetDropdown.propTypes = {\n  fullWidth: PropTypes.bool.isRequired,\n  groupSet: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string\n};\nOrganisationUnitGroupSetDropdown.defaultProps = {\n  value: ''\n};\nexport const OrganisationUnitGroupSets = ({\n  groupSets,\n  isLoading,\n  selectGroupSet,\n  values,\n  fullWidth\n}) => isLoading ? <div className={\"jsx-3604278703\"}>\n            <CircularProgress size={24} thickness={3} />\n            <_JSXStyle id={\"3604278703\"}>{[\"div.jsx-3604278703{padding-top:16px;text-align:center;}\"]}</_JSXStyle>\n        </div> : groupSets.map(groupSet => <OrganisationUnitGroupSetDropdown groupSet={groupSet} key={groupSet.id} onChange={createGroupSetOnChange(groupSet.id, selectGroupSet)} value={values[groupSet.id]} fullWidth={fullWidth} />);\nOrganisationUnitGroupSets.propTypes = {\n  groupSets: PropTypes.array.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  selectGroupSet: PropTypes.func.isRequired,\n  values: PropTypes.object.isRequired,\n  fullWidth: PropTypes.bool\n};\nOrganisationUnitGroupSets.defaultProps = {\n  fullWidth: true\n};\n\nconst mapStateToProps = state => ({\n  isLoading: state.orgUnitGroupSets.loading,\n  groupSets: state.orgUnitGroupSets.collection,\n  values: state.organisationUnits.selectedOptions\n});\n\nexport default connect(mapStateToProps, {\n  selectGroupSet: selectOrgUnitOption\n})(OrganisationUnitGroupSets);","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport OrganisationUnitsTree from './AvailableOrganisationUnitsTree';\nimport OrganisationUnitGroupSets from './OrganisationUnitGroupSets';\nimport { toggleShowOptions } from '../redux/actions/organisationUnits';\nimport { formLabel } from '../utils/styles/shared.js';\n\nconst getExtraOptionsLabel = showOptions => !showOptions ? i18n.t('Show more options') : i18n.t('Show fewer options');\n\nconst getExtraOptionsClassName = showOptions => showOptions ? 'show-options' : 'hide-options';\n\nexport const OrgUnitsTreeWithExtraOptions = props => <React.Fragment>\n        <div className={\"jsx-3942626467\" + \" \" + (formLabel.className || \"\")}>\n            {i18n.t('Report organisation unit')}\n        </div>\n        <OrganisationUnitsTree />\n        <div className={\"jsx-3942626467\"}>\n            {!props.isLoadingOptions && <span id=\"extra-options-action\" role=\"button\" tabIndex=\"0\" onClick={props.toggleShowOptions} className={\"jsx-3942626467\" + \" \" + \"show-more-options-button\"}>\n                    {getExtraOptionsLabel(props.showOptions)}\n                </span>}\n            <div id=\"extra-options\" className={\"jsx-3942626467\" + \" \" + (getExtraOptionsClassName(props.showOptions) || \"\")}>\n                <OrganisationUnitGroupSets />\n            </div>\n        </div>\n        {formLabel.styles}\n        <_JSXStyle id={\"3942626467\"}>{[\".hide-options.jsx-3942626467{display:none;}\", \".show-options.jsx-3942626467{display:block;}\", \".show-more-options-button.jsx-3942626467{display:block;cursor:pointer;color:#004ba0;margin-top:5;margin-bottom:5;outline:none;}\"]}</_JSXStyle>\n    </React.Fragment>;\nOrgUnitsTreeWithExtraOptions.propTypes = {\n  isLoadingOptions: PropTypes.bool.isRequired,\n  showOptions: PropTypes.bool.isRequired,\n  toggleShowOptions: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  showOptions: state.organisationUnits.showOptions,\n  isLoadingOptions: state.orgUnitGroupSets.loading\n});\n\nexport default connect(mapStateToProps, {\n  toggleShowOptions\n})(OrgUnitsTreeWithExtraOptions);","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport { CheckBox } from '@dhis2/d2-ui-core';\nimport { Button } from '@dhis2/d2-ui-core';\nimport DataSets from '../../components/DatasetsDropdown';\nimport { DataSetDimensions } from '../../components/DataSetDimensions';\nimport PeriodPickerComponent from '../../components/PeriodPickerWithPeriodType';\nimport OrgUnitsTreeWithExtraOptions from '../../components/OrgUnitsTreeWithExtraOptions';\n\nconst Form = props => <div id=\"data-set-report-form\">\n        <div className=\"row\">\n            <div className=\"col-xs-12 col-md-6\">\n                <OrgUnitsTreeWithExtraOptions />\n            </div>\n            <div className=\"col-xs-12 col-md-6\">\n                <div id=\"data-set-selection\">\n                    <DataSets onChange={props.onDataSetChange} />\n                </div>\n                <div id=\"data-set-dimensions-container\">\n                    <DataSetDimensions />\n                </div>\n                <div id=\"report-period\">\n                    <PeriodPickerComponent label={i18n.t('Report period')} />\n                </div>\n                <CheckBox id=\"selected-unit-only\" onChange={props.onSelectedUnitOnlyChange} value={props.selectedUnitOnly} label={i18n.t('Use data for selected unit only')} />\n            </div>\n        </div>\n        <div id=\"main-action-button\" className={\"jsx-1033327044\"}>\n            <Button id=\"main-action-button\" raised color=\"primary\" onClick={props.onGetReportClick} disabled={props.isGetReportDisabled}>\n                {i18n.t('Get Report')}\n            </Button>\n            <_JSXStyle id={\"1033327044\"}>{[\"div.jsx-1033327044{display:block;margin-top:48px;margin-bottom:16px;}\"]}</_JSXStyle>\n        </div>\n    </div>;\n\nForm.propTypes = {\n  isGetReportDisabled: PropTypes.bool.isRequired,\n  selectedUnitOnly: PropTypes.bool.isRequired,\n  onDataSetChange: PropTypes.func.isRequired,\n  onGetReportClick: PropTypes.func.isRequired,\n  onSelectedUnitOnlyChange: PropTypes.func.isRequired\n};\nexport default Form;","import Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { DATA_SET_REPORT_SECTION_KEY, sections } from '../config/sections.config';\nimport { SectionHeadline } from '../components/SectionHeadline';\nimport { Snackbar } from '../components/feedback/Snackbar';\nimport { connectDataSetReport } from './data-set-report/connectDataSetReport';\nimport { container } from '../utils/styles/shared.js';\nimport { reportContent } from '../utils/react/propTypes';\nimport DataSetReportOutput from './data-set-report/DataSetReportOutput';\nimport Form from './data-set-report/Form';\n\nconst DataSetReport = props => <div>\n        <SectionHeadline label={sections[DATA_SET_REPORT_SECTION_KEY].info.label} sectionKey={DATA_SET_REPORT_SECTION_KEY} />\n        <Paper className={container.className}>\n            <div id=\"data-set-report-form\">\n                <Form selectedUnitOnly={props.selectedUnitOnly} onDataSetChange={props.selectDataSet} onSelectedUnitOnlyChange={props.toggleSelectedUnitOnly} onGetReportClick={props.loadReportData} isGetReportDisabled={!props.isActionEnabled} />\n            </div>\n        </Paper>\n        <DataSetReportOutput isHtmlReport={props.isHtmlReport} content={props.reportContent} isLoading={props.isReportLoading} fileUrls={props.fileUrls} reportComment={props.reportComment} shareDataSetReportComment={props.shareDataSetReportComment} setDataSetReportComment={props.setDataSetReportComment} />\n        {container.styles}\n        <Snackbar />\n    </div>;\n\nDataSetReport.propTypes = {\n  fileUrls: PropTypes.array.isRequired,\n  isActionEnabled: PropTypes.bool.isRequired,\n  isHtmlReport: PropTypes.bool.isRequired,\n  isReportLoading: PropTypes.bool.isRequired,\n  loadReportData: PropTypes.func.isRequired,\n  reportComment: PropTypes.string.isRequired,\n  reportContent: reportContent.isRequired,\n  selectDataSet: PropTypes.func.isRequired,\n  selectedUnitOnly: PropTypes.bool.isRequired,\n  setDataSetReportComment: PropTypes.func.isRequired,\n  shareDataSetReportComment: PropTypes.func.isRequired,\n  toggleSelectedUnitOnly: PropTypes.func.isRequired\n};\nconst ConnectedDataSetReport = connectDataSetReport(DataSetReport);\nexport { ConnectedDataSetReport as DataSetReport };","import i18n from '@dhis2/d2-i18n';\nimport { DropDown } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { setGroupSet } from '../redux/actions/orgUnitGroupSets';\nimport { formLabel } from '../utils/styles/shared.js';\nconst label = i18n.t('Group Set');\nconst hintText = i18n.t('Select Group Set');\nexport const GroupSetsDropdown = props => <div>\n        <span className={formLabel.className}>{label}</span>\n        <DropDown fullWidth={props.fullWidth} value={props.selected} onChange={props.selectGroupSet} menuItems={props.collection} includeEmpty emptyLabel={hintText} hintText={hintText} />\n        {formLabel.styles}\n    </div>;\nGroupSetsDropdown.propTypes = {\n  collection: PropTypes.array.isRequired,\n  selectGroupSet: PropTypes.func.isRequired,\n  selected: PropTypes.string.isRequired,\n  fullWidth: PropTypes.bool\n};\nGroupSetsDropdown.defaultProps = {\n  fullWidth: true\n};\n\nconst mapStateToProps = state => ({\n  collection: state.orgUnitGroupSets.collection,\n  selected: state.orgUnitGroupSets.selected\n});\n\nconst mapDispatchToProps = dispatch => ({\n  selectGroupSet: e => dispatch(setGroupSet(e.target.value))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GroupSetsDropdown);","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from '@dhis2/d2-ui-core';\nimport i18n from '@dhis2/d2-i18n';\nimport OrganisationUnitsTree from '../../components/AvailableOrganisationUnitsTree';\nimport GroupSets from '../../components/GroupSetsDropdown';\nimport { formLabel, actionsContainer } from '../../utils/styles/shared.js';\nexport const Form = props => <div id=\"org-unit-dist-report-form\" className={\"jsx-3036976882\"}>\n        <div className={\"jsx-3036976882\" + \" \" + \"row\"}>\n            <div className={\"jsx-3036976882\" + \" \" + \"col-xs-12 col-md-6\"}>\n                <div className={\"jsx-3036976882\" + \" \" + (formLabel.className || \"\")}>\n                    {i18n.t('Report organisation unit')}\n                </div>\n                <OrganisationUnitsTree />\n            </div>\n            <div className={\"jsx-3036976882\" + \" \" + \"col-xs-12 col-md-6\"}>\n                <div id=\"group-sets-selection\" className={\"jsx-3036976882\"}>\n                    <GroupSets />\n                </div>\n            </div>\n        </div>\n        <div id=\"actions\" className={\"jsx-3036976882\" + \" \" + (actionsContainer.className || \"\")}>\n            <Button raised color=\"primary\" onClick={props.onGetReportClick} disabled={!props.isActionEnabled}>\n                {i18n.t('Get Report')}\n            </Button>\n            <Button raised color=\"accent\" onClick={props.onGetChartClick} disabled={!props.isActionEnabled}>\n                {i18n.t('Get Chart')}\n            </Button>\n        </div>\n        {formLabel.styles}\n        {actionsContainer.styles}\n        <_JSXStyle id={\"3036976882\"}>{[\"div.jsx-3036976882 #actions.jsx-3036976882 .d2-ui-button:first-child{margin-right:16px;}\"]}</_JSXStyle>\n    </div>;\nForm.propTypes = {\n  isActionEnabled: PropTypes.bool.isRequired,\n  onGetChartClick: PropTypes.func.isRequired,\n  onGetReportClick: PropTypes.func.isRequired\n};","export const getIsActionEnabled = state => !!(state.organisationUnits.selected && state.orgUnitGroupSets.selected && !state.reportData.loading);","/**\n * @param {Object} state - app state\n * @returns {String} - table title\n */\nexport function getTitle(state) {\n  return [state.reportData.content.headers[1].column, state.organisationUnits.selected.displayName].join(' - ');\n}","import i18n from '@dhis2/d2-i18n';\nimport isEmpty from 'lodash.isempty';\nimport createDataTransformCache from '../../../utils/dataTransformCache';\nimport { getTitle } from '../../../utils/dataTransformHelpers';\nconst orgUnitColumnDisplayName = i18n.t('Organisation Unit');\nconst totalColumnDisplayName = i18n.t('Total');\nexport const cache = createDataTransformCache();\n/**\n * @param {Object} state - App state\n * @returns {Object} - Transformed table data that can be consumed by TabularReport\n */\n\nexport default function getTransformedTableData(state) {\n  const data = state.reportData.content;\n\n  if (isEmpty(data)) {\n    return data;\n  }\n\n  if (cache.hasValidCacheFor(data)) {\n    return cache.getCachedResult();\n  }\n\n  const tableData = {\n    title: getTitle(state),\n    headers: getHeaders(data.headers),\n    rows: getRows(state)\n  };\n  cache.setCachedResult(data, tableData);\n  return tableData;\n}\n/**\n * @param {Array} headers - The headers array from the response data structure\n * @returns {Array<String>} - table header names\n */\n\nfunction getHeaders(headers) {\n  return [...headers.map(header => header.name === 'ou' ? orgUnitColumnDisplayName : header.column), totalColumnDisplayName];\n}\n/**\n * @param {Object} state - app state\n * @returns {Array} - a nested array containing values for each column\n */\n\n\nfunction getRows(state) {\n  const {\n    rows\n  } = state.reportData.content;\n  const selectedOrgUnitName = state.organisationUnits.selected.displayName;\n  return rows.map(toNumericWithTotal).sort((rowA, rowB) => ascByNameWithParentBelow(rowA, rowB, selectedOrgUnitName));\n}\n\nfunction toNumericWithTotal(cells) {\n  const cellsWithTotals = cells.reduce((acc, cellStr, index) => {\n    if (index === 0) {\n      acc.cells.push(cellStr);\n    } else {\n      const cellVal = cellStr ? parseInt(cellStr, 10) : 0;\n      acc.cells.push(cellVal);\n      acc.total += cellVal;\n    }\n\n    return acc;\n  }, {\n    cells: [],\n    total: 0\n  });\n  return [...cellsWithTotals.cells, cellsWithTotals.total];\n}\n/**\n * This function is used to sort the rows, which needs to be done ASC by name\n * with the exception of the parent orgUnit, which should be the last item\n * @param {Array} a - current row, with org unit name at index 0\n * @param {Array} b - next row\n * @param {String} selectedOrgUnitName - name of the org unit parent\n * @returns {Number} - values 1 || -1 || 0 for sorting\n */\n\n\nfunction ascByNameWithParentBelow(a, b, selectedOrgUnitName) {\n  const nameA = a[0].toUpperCase();\n  const nameB = b[0].toUpperCase();\n  const upperOrgUnitName = selectedOrgUnitName.toUpperCase();\n  if (nameB === upperOrgUnitName) return -1;\n  if (nameA === upperOrgUnitName) return 1;\n  return nameA.localeCompare(nameB);\n}","export const FONT_FAMILY = \"'Roboto', sans-serif\";\nexport const BASE_COLOR = '39, 102, 150'; // DHIS2 blue","import isEmpty from 'lodash.isempty';\nimport i18n from '@dhis2/d2-i18n';\nimport { getTitle } from '../../../utils/dataTransformHelpers';\nimport createDataTransformCache from '../../../utils/dataTransformCache';\nimport { FONT_FAMILY, BASE_COLOR } from '../../../config/style.config';\nexport const cache = createDataTransformCache();\n/**\n * @param {Object} state - App state\n * @returns {Object} - Transformed table data that can be consumed by BarChart\n */\n\nexport default function getTransformedChartData(state) {\n  const data = state.reportData.content;\n\n  if (isEmpty(data)) {\n    return data;\n  }\n\n  if (cache.hasValidCacheFor(data)) {\n    return cache.getCachedResult();\n  }\n\n  const chartData = getChartData(getLabels(data.headers), getDataPoints(data.rows[0]), getTitle(state));\n  cache.setCachedResult(data, chartData);\n  return chartData;\n}\n\nfunction getLabels(headers) {\n  return headers.reduce((acc, header, index) => {\n    if (index > 0) {\n      acc.push(header.column);\n    }\n\n    return acc;\n  }, []);\n}\n\nfunction getDataPoints(cells) {\n  return cells.reduce((acc, cell, index) => {\n    if (index > 0) {\n      acc.push(parseInt(cell, 10));\n    }\n\n    return acc;\n  }, []);\n}\n\nfunction getChartData(labels, data, title) {\n  return {\n    data: {\n      labels,\n      datasets: [{\n        label: i18n.t('Count'),\n        backgroundColor: `rgba(${BASE_COLOR}, 0.6)`,\n        borderColor: `rgb(${BASE_COLOR})`,\n        borderWidth: 1,\n        hoverBackgroundColor: `rgba(${BASE_COLOR}, 0.8)`,\n        data\n      }]\n    },\n    options: {\n      title: {\n        display: true,\n        text: title,\n        fontSize: '16',\n        fontFamily: FONT_FAMILY\n      },\n      legend: {\n        position: 'bottom',\n        fontFamily: FONT_FAMILY\n      },\n      animation: {\n        duration: 180\n      }\n    }\n  };\n}","import { connect } from 'react-redux';\nimport { loadChart, loadTable } from '../../redux/actions/orgUnitDistReport';\nimport { loadGroupSetOptions } from '../../redux/actions/orgUnitGroupSets';\nimport { getIsActionEnabled } from '../../redux/selectors/orgUnitDistReport/getIsActionEnabled';\nimport getTransformedTableData from '../../redux/selectors/orgUnitDistReport/getTransformedTableData';\nimport getTransformedChartData from '../../redux/selectors/orgUnitDistReport/getTransformedChartData';\n\nconst mapStateToProps = state => ({\n  shouldShowChart: state.orgUnitDistReport.shouldShowChart,\n  loading: state.reportData.loading,\n  reportContent: state.orgUnitDistReport.shouldShowChart ? getTransformedChartData(state) : getTransformedTableData(state),\n  fileUrls: state.reportData.content.fileUrls || [],\n  isActionEnabled: getIsActionEnabled(state),\n  groupSetsReady: !!state.orgUnitGroupSets.collection.length\n});\n\nconst mapDispatchToProps = {\n  loadChart,\n  loadTable,\n  loadGroupSetOptions\n};\nexport const connectOrganisationUnitDistributionReport = connect(mapStateToProps, mapDispatchToProps);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Bar } from 'react-chartjs-2';\nimport ReportLoader from './ReportLoader';\n\nconst BarChart = ({\n  content,\n  isLoading\n}) => <ReportLoader content={content} isLoading={isLoading}>\n        <div className=\"chart\">\n            <Bar data={content.data} options={content.options} />\n        </div>\n    </ReportLoader>;\n\nBarChart.propTypes = {\n  content: PropTypes.object.isRequired,\n  isLoading: PropTypes.bool.isRequired\n};\nexport default BarChart;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { DownloadOptions } from './TabularReport/DownloadOptions';\nimport ReportTable from './TabularReport/ReportTable';\nimport ReportLoader from './ReportLoader';\n\nconst TabularReport = ({\n  content,\n  isLoading,\n  fileUrls\n}) => <ReportLoader content={content} isLoading={isLoading}>\n        <div className=\"tabular-report\">\n            <DownloadOptions fileUrls={fileUrls} />\n            <ReportTable content={content} />\n        </div>\n    </ReportLoader>;\n\nTabularReport.propTypes = {\n  content: PropTypes.object.isRequired,\n  fileUrls: PropTypes.array.isRequired,\n  isLoading: PropTypes.bool.isRequired\n};\nexport default TabularReport;","import Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Form } from './organisation-unit-distribution-report/Form';\nimport { ORG_UNIT_DIST_REPORT_SECTION_KEY, sections } from '../config/sections.config';\nimport { SectionHeadline } from '../components/SectionHeadline';\nimport { Snackbar } from '../components/feedback/Snackbar';\nimport { connectOrganisationUnitDistributionReport } from './organisation-unit-distribution-report/connectOrganisationUnitDistributionReport';\nimport { container } from '../utils/styles/shared.js';\nimport { reportContent } from '../utils/react/propTypes';\nimport BarChart from '../components/BarChart';\nimport TabularReport from '../components/TabularReport';\n\nclass OrganisationUnitDistributionReport extends React.Component {\n  componentDidMount() {\n    if (!this.props.groupSetsReady) {\n      this.props.loadGroupSetOptions();\n    }\n  }\n\n  render() {\n    return <div>\n                <SectionHeadline label={sections[ORG_UNIT_DIST_REPORT_SECTION_KEY].info.label} sectionKey={ORG_UNIT_DIST_REPORT_SECTION_KEY} />\n                <Paper className={container.className}>\n                    <Form isActionEnabled={this.props.isActionEnabled} onGetReportClick={this.props.loadTable} onGetChartClick={this.props.loadChart} />\n                </Paper>\n                <div id=\"report-container\">\n                    {!this.props.shouldShowChart && <TabularReport content={this.props.reportContent} isLoading={this.props.loading} fileUrls={this.props.fileUrls} />}\n                    {this.props.shouldShowChart && <BarChart content={this.props.reportContent} isLoading={this.props.loading} />}\n                </div>\n                <Snackbar />\n                {container.styles}\n            </div>;\n  }\n\n}\n\nOrganisationUnitDistributionReport.propTypes = {\n  fileUrls: PropTypes.array.isRequired,\n  groupSetsReady: PropTypes.bool.isRequired,\n  isActionEnabled: PropTypes.bool.isRequired,\n  loadChart: PropTypes.func.isRequired,\n  loadGroupSetOptions: PropTypes.func.isRequired,\n  loadTable: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  reportContent: reportContent.isRequired,\n  shouldShowChart: PropTypes.bool.isRequired\n};\nconst ConnectedOrganisationUnitDistributionReport = connectOrganisationUnitDistributionReport(OrganisationUnitDistributionReport);\nexport { ConnectedOrganisationUnitDistributionReport as OrganisationUnitDistributionReport };","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from '@dhis2/d2-ui-core';\nimport i18n from '@dhis2/d2-i18n';\nimport DataSets from '../../components/DatasetsDropdown';\nimport OrgUnitsTreeWithExtraOptions from '../../components/OrgUnitsTreeWithExtraOptions';\nimport PeriodPickerComponent from '../../components/PeriodPickerWithPeriodType';\nimport { actionsContainer } from '../../utils/styles/shared.js';\nexport const Form = props => <div id=\"report-rate-summary-form\">\n        <div className=\"row\">\n            <div className=\"col-xs-12 col-md-6\">\n                <OrgUnitsTreeWithExtraOptions />\n            </div>\n            <div className=\"col-xs-12 col-md-6\">\n                <div id=\"data-set-selection\">\n                    <DataSets />\n                </div>\n                <div id=\"report-period\">\n                    <PeriodPickerComponent label={i18n.t('Report period')} />\n                </div>\n            </div>\n        </div>\n        <div id=\"main-action-button\" className={actionsContainer.className}>\n            <Button raised color=\"primary\" onClick={props.loadReportData} disabled={!props.isActionEnabled}>\n                {i18n.t('Get Report')}\n            </Button>\n        </div>\n        {actionsContainer.styles}\n    </div>;\nForm.propTypes = {\n  isActionEnabled: PropTypes.bool.isRequired,\n  loadReportData: PropTypes.func.isRequired\n};\nForm.defaultProps = {\n  showForm: true\n};","import { getReportingRateSummaryReport } from '../../utils/api';\nimport { loadingReportDataStart, loadingReportDataSuccessWithFeedback, loadingReportDataErrorWithFeedback } from './reportData';\n/**\n * @returns {Function} redux thunk\n */\n\nexport const loadReportData = () => (dispatch, getState) => {\n  dispatch(loadingReportDataStart());\n  const {\n    organisationUnits,\n    dataSet,\n    reportPeriod\n  } = getState();\n  return getReportingRateSummaryReport(organisationUnits.selected, dataSet.selected.id, reportPeriod.selectedPeriod, organisationUnits.selectedOptions).then(response => dispatch(loadingReportDataSuccessWithFeedback(response))).catch(error => dispatch(loadingReportDataErrorWithFeedback(error)));\n};","export const getIsActionEnabled = state => !!(state.organisationUnits.selected && state.reportPeriod.selectedPeriod && state.dataSet.selected.id && !state.reportData.loading);","import i18n from '@dhis2/d2-i18n';\nimport isEmpty from 'lodash.isempty';\nimport createDataTransformCache from '../../../utils/dataTransformCache';\nconst cache = createDataTransformCache();\nconst nameColumnDisplayName = i18n.t('Name');\nconst rowIndexesToRead = [1, // Org unit name\n4, // column values\n5, 6, 7, 8];\nexport default function getTransformedTableData(state) {\n  const data = state.reportData.content;\n\n  if (isEmpty(data)) {\n    return data;\n  }\n\n  if (cache.hasValidCacheFor(data)) {\n    return cache.getCachedResult();\n  }\n\n  const tableData = {\n    title: parseTitle(state),\n    headers: parseHeaders(data),\n    rows: parseRows(data.rows)\n  };\n  cache.setCachedResult(data, tableData);\n  return tableData;\n}\nexport function parseTitle(state) {\n  return [state.organisationUnits.selected.displayName, state.dataSet.selected.displayName, state.reportData.content.title].join(' - ');\n}\nexport function parseHeaders(data) {\n  return data.metaData.dimensions.dx.reduce((acc, dimensionCode) => {\n    acc.push(data.metaData.items[dimensionCode].name);\n    return acc;\n  }, [nameColumnDisplayName]);\n}\nexport function parseRows(rowsWithAllFields) {\n  return rowsWithAllFields.map(row => rowIndexesToRead.reduce((acc, rowIndex) => {\n    acc.push(row[rowIndex]);\n    return acc;\n  }, [])).sort((a, b) => parseFloat(b[b.length - 1]) - parseFloat(a[a.length - 1]));\n}","import { connect } from 'react-redux';\nimport { loadReportData } from '../../redux/actions/reportingRateSummary';\nimport { getIsActionEnabled } from '../../redux/selectors/reportingRateSummary/getIsActionEnabled';\nimport getTransformedTableData from '../../redux/selectors/reportingRateSummary/getTransformedTableData.js';\n\nconst mapStateToProps = state => ({\n  reportContent: getTransformedTableData(state),\n  fileUrls: state.reportData.content.fileUrls || [],\n  isReportLoading: state.reportData.loading,\n  isActionEnabled: getIsActionEnabled(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  loadReportData: () => dispatch(loadReportData())\n});\n\nexport const connectReportingRateSummary = connect(mapStateToProps, mapDispatchToProps);","import Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Form } from './reporting-rate-summary/Form';\nimport { REPORTING_RATE_SUMMARY_SECTION_KEY, sections } from '../config/sections.config';\nimport { SectionHeadline } from '../components/SectionHeadline';\nimport { Snackbar } from '../components/feedback/Snackbar';\nimport { connectReportingRateSummary } from './reporting-rate-summary/connectReportingRateSummary';\nimport { container } from '../utils/styles/shared.js';\nimport { reportContent } from '../utils/react/propTypes';\nimport TabularReport from '../components/TabularReport';\n\nconst ReportingRateSummary = props => <div>\n        <SectionHeadline label={sections[REPORTING_RATE_SUMMARY_SECTION_KEY].info.label} sectionKey={REPORTING_RATE_SUMMARY_SECTION_KEY} />\n        <Paper className={container.className}>\n            <Form loadReportData={props.loadReportData} isActionEnabled={props.isActionEnabled} />\n        </Paper>\n        <TabularReport content={props.reportContent} isLoading={props.isReportLoading} fileUrls={props.fileUrls} />\n        <Snackbar />\n        {container.styles}\n    </div>;\n\nReportingRateSummary.propTypes = {\n  fileUrls: PropTypes.array.isRequired,\n  isActionEnabled: PropTypes.bool.isRequired,\n  isReportLoading: PropTypes.bool.isRequired,\n  loadReportData: PropTypes.func.isRequired,\n  reportContent: reportContent.isRequired\n};\nconst ConnectedReportingRateSummary = connectReportingRateSummary(ReportingRateSummary);\nexport { ConnectedReportingRateSummary as ReportingRateSummary };","import { connect } from 'react-redux';\nimport { addResource, closeContextMenu, requestDeleteResource, deleteResource, editResource, goToNextPage, goToPrevPage, loadResources, setSearchAndLoadResources, showSharingSettings, viewResource } from '../../redux/actions/resource';\n\nconst mapStateToProps = state => ({\n  open: state.resource.open,\n  resources: state.resource.collection,\n  selectedAction: state.resource.selectedAction,\n  selectedResource: state.resource.selectedResource,\n  loadingResources: state.resource.loading,\n  search: state.resource.search,\n  pager: state.pagination\n});\n\nconst mapDispatchToProps = {\n  goToNextPage,\n  goToPrevPage,\n  loadResources,\n  requestDeleteResource,\n  deleteResource,\n  setSearch: event => setSearchAndLoadResources(event.target.value),\n  addResource,\n  viewResource,\n  editResource,\n  showSharingSettings,\n  closeContextMenu\n};\nexport const connectResource = connect(mapStateToProps, mapDispatchToProps);","export const isRequired = value => value ? undefined : 'Required';\nexport const isRequiredWhen = when => (value, values) => when(values) ? isRequired(value) : undefined;","import omit from 'lodash.omit';\nimport { isRequiredWhen } from '../../utils/form/validators';\nimport { resourceActions, resourceTypes } from '../../utils/resource/constants';\nexport const showContextAction = deleteResource => (document, action) => {\n  const access = document && document.access ? document.access : {};\n  const actions = {\n    [resourceActions.VIEW]: access.read,\n    [resourceActions.SHARING_SETTINGS]: access.manage || access.externalize,\n    [resourceActions.DELETE]: deleteResource,\n\n    /**\n     * This is currently not working on the backend for non-external documents\n     * See the docs (docs/sections/resources.md) in this repo for more details\n     */\n    [resourceActions.EDIT]: access.update && document.external\n  };\n  return actions[action] || false;\n};\nexport const extractFileAndFormattedResource = values => {\n  const file = values.type === resourceTypes.UPLOAD_FILE && values.file ? values.file.file : null;\n  const resource = omit(values, 'file');\n  const formattedResource = { ...resource,\n    attachment: values.attachment === 'yes',\n    external: values.type === resourceTypes.EXTERNAL_URL\n  };\n  return {\n    file,\n    resource: formattedResource\n  };\n};\n/**\n *\n * Validation\n *\n */\n\nexport const isTypeExternalUrl = values => values.type === resourceTypes.EXTERNAL_URL;\nexport const isTypeUploadFile = values => values.type === resourceTypes.UPLOAD_FILE;\nexport const isRequriedWhenTypeExternalUrl = isRequiredWhen(isTypeExternalUrl);\nexport const isRequriedWhenTypeUploadFile = isRequiredWhen(isTypeUploadFile);","import SharingDialog from '@dhis2/d2-ui-sharing-dialog';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getD2 } from '../../utils/api';\nimport { resourceActions } from '../../utils/resource/constants';\n\nconst ResourceActions = props => {\n  const {\n    selectedAction\n  } = props;\n  if (!props.selectedAction) return null;\n\n  if (selectedAction === resourceActions.SHARING_SETTINGS) {\n    return <SharingDialog open={props.open} id={props.selectedResource.id} type=\"document\" onRequestClose={props.handleClose} d2={getD2()} />;\n  }\n\n  return null;\n};\n\nResourceActions.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  selectedAction: PropTypes.string.isRequired,\n  selectedResource: PropTypes.object.isRequired\n};\nexport default ResourceActions;","export default function getPagerCurrentlyShown(state) {\n  const {\n    pageSize,\n    total,\n    page\n  } = state.pagination;\n  const projectedEnd = page * pageSize;\n  const start = projectedEnd - pageSize + 1;\n  const end = projectedEnd > total ? total : projectedEnd;\n  return `${start} - ${end}`;\n}","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, Pagination, SvgIcon } from '@dhis2/d2-ui-core';\nimport '@dhis2/d2-ui-core/css/Pagination.css';\nimport '@dhis2/d2-ui-core/css/Table.css';\nimport Table from '@dhis2/d2-ui-table';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TextField from '@material-ui/core/TextField';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport getPagerCurrentlyShown from '../redux/selectors/pagination/getPagerCurrentlyShown';\nconst searchText = i18n.t('Search');\n\nconst SearchablePagedList = props => {\n  const pagination = <Pagination total={props.pagerTotal} hasNextPage={props.pagerHasNextPage} hasPreviousPage={props.pagerHasPreviousPage} currentlyShown={props.pagerCurrentlyShown} onNextPageClick={props.goToNextPage} onPreviousPageClick={props.goToPrevPage} />;\n  return <div className={`jsx-${styles.__hash}`}>\n            {pagination}\n            <TextField className=\"search-input\" value={props.searchInputValue} type=\"search\" label={searchText} onChange={props.searchInputChangeHandler} />\n            <Table rows={props.isLoading ? [] : props.rows} columns={props.columns} contextMenuActions={props.contextMenuActions} primaryAction={props.primaryAction} contextMenuIcons={props.contextMenuIcons} isContextActionAllowed={props.isContextActionAllowed} />\n            {props.isLoading && <div className={`jsx-${styles.__hash}` + \" \" + \"data-table-fake-row\"}>\n                    <CircularProgress size={32} className=\"loader\" />\n                </div>}\n            {props.rows.length === 0 && !props.isLoading && <div className={`jsx-${styles.__hash}` + \" \" + \"data-table-fake-row\"}>\n                    {i18n.t('No results have been found')}\n                </div>}\n            {pagination}\n            <Button id={'add-resource-btn-id'} fab onClick={props.addButtonClickHandler}>\n                <SvgIcon icon=\"Add\" />\n            </Button>\n            <_JSXStyle id={styles.__hash}>{styles}</_JSXStyle>\n        </div>;\n};\n\nconst styles = [\"div.jsx-559166881>.search-input input.jsx-559166881{-webkit-appearance:textfield;}\", \"div.jsx-559166881>.search-input{width:400px;}\", \"div.jsx-559166881>.data-table-pager{float:right;padding-top:8px;}\", \"div.jsx-559166881>.d2-ui-button{position:fixed;bottom:1.5rem;right:1.5rem;}\", \".data-table-fake-row.jsx-559166881{position:relative;height:50px;line-height:50px;background-color:#ffffff;text-align:center;font-style:italic;color:#757575;box-shadow:0 1px 3px 0 rgba(0,0,0,0.12), 0 1px 2px 0 rgba(0,0,0,0.24);}\", \".data-table-fake-row.jsx-559166881 .loader{margin-top:8px;}\"];\nstyles.__hash = \"559166881\";\nSearchablePagedList.propTypes = {\n  addButtonClickHandler: PropTypes.func.isRequired,\n  columns: PropTypes.arrayOf(PropTypes.string).isRequired,\n  contextMenuActions: PropTypes.object.isRequired,\n  contextMenuIcons: PropTypes.object.isRequired,\n  goToNextPage: PropTypes.func.isRequired,\n  goToPrevPage: PropTypes.func.isRequired,\n  isContextActionAllowed: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  pagerCurrentlyShown: PropTypes.string.isRequired,\n  pagerHasNextPage: PropTypes.func.isRequired,\n  pagerHasPreviousPage: PropTypes.func.isRequired,\n  pagerTotal: PropTypes.number.isRequired,\n  primaryAction: PropTypes.func.isRequired,\n  rows: PropTypes.array.isRequired,\n  searchInputChangeHandler: PropTypes.func.isRequired,\n  searchInputValue: PropTypes.string.isRequired\n};\n\nconst mapStateToProps = state => ({\n  pagerTotal: state.pagination.total,\n  pagerHasNextPage: () => state.pagination.page < state.pagination.pageCount,\n  pagerHasPreviousPage: () => state.pagination.page > 1,\n  pagerCurrentlyShown: getPagerCurrentlyShown(state)\n});\n\nexport default connect(mapStateToProps)(SearchablePagedList);","import PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport { RESOURCE_SECTION_KEY, sections } from '../config/sections.config';\nimport { SectionHeadline } from '../components/SectionHeadline';\nimport { Snackbar } from '../components/feedback/Snackbar';\nimport { connectResource } from './resource/connectResource';\nimport { contextMenuIcons, resourceActions } from '../utils/resource/constants';\nimport { showContextAction } from './resource/helper';\nimport ResourceActions from './resource/ResourceActions';\nimport SearchablePagedList from '../components/SearchablePagedList';\n\nconst createContextMenuOptions = props => ({\n  [resourceActions.VIEW]: props.viewResource,\n  [resourceActions.EDIT]: props.editResource,\n  [resourceActions.SHARING_SETTINGS]: props.showSharingSettings,\n  [resourceActions.DELETE]: props.requestDeleteResource\n});\n\nclass Resource extends React.Component {\n  constructor(props) {\n    super(props);\n    this.contextMenuOptions = createContextMenuOptions(props);\n  }\n\n  componentDidMount() {\n    if (this.props.resources.length === 0) {\n      this.props.loadResources();\n    }\n  }\n\n  render() {\n    return <div>\n                <SectionHeadline label={sections[RESOURCE_SECTION_KEY].info.label} sectionKey={RESOURCE_SECTION_KEY} />\n                <div id=\"resource-content\">\n                    <SearchablePagedList columns={['displayName']} rows={this.props.resources} isLoading={this.props.loadingResources} contextMenuActions={this.contextMenuOptions} primaryAction={this.contextMenuOptions[resourceActions.VIEW]} contextMenuIcons={contextMenuIcons} isContextActionAllowed={showContextAction(this.props.deleteResource)} searchInputValue={this.props.search} searchInputChangeHandler={this.props.setSearch} addButtonClickHandler={this.props.addResource} goToNextPage={this.props.goToNextPage} goToPrevPage={this.props.goToPrevPage} />\n                    <ResourceActions open={this.props.open} selectedAction={this.props.selectedAction} selectedResource={this.props.selectedResource} handleClose={this.props.closeContextMenu} />\n                    <Snackbar action={i18n.t('CONFIRM')} onActionClick={this.props.deleteResource} />\n                </div>\n            </div>;\n  }\n\n}\n\nResource.propTypes = {\n  addResource: PropTypes.func.isRequired,\n  closeContextMenu: PropTypes.func.isRequired,\n  deleteResource: PropTypes.func.isRequired,\n  goToNextPage: PropTypes.func.isRequired,\n  goToPrevPage: PropTypes.func.isRequired,\n  loadResources: PropTypes.func.isRequired,\n  loadingResources: PropTypes.bool.isRequired,\n  open: PropTypes.bool.isRequired,\n  resources: PropTypes.array.isRequired,\n  search: PropTypes.string.isRequired,\n  selectedAction: PropTypes.string.isRequired,\n  selectedResource: PropTypes.object.isRequired,\n  setSearch: PropTypes.func.isRequired\n};\nconst ConnectedResource = connectResource(Resource);\nexport { ConnectedResource as Resource };","import _JSXStyle from \"styled-jsx/style\";\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport red from '@material-ui/core/colors/red';\nimport theme from '@dhis2/d2-ui-core/theme/theme';\nimport { cancelGeneratingPdfReport, submitRequiredReportParams } from '../../redux/actions/standardReport';\nimport OrganisationUnitTree from '../../components/AvailableOrganisationUnitsTree';\nimport PeriodPicker from '../../components/PeriodPickerWithPeriodType';\nconst labelCancel = i18n.t('Cancel');\nconst labelSubmit = i18n.t('Generate report');\nconst title = i18n.t('Report parameters');\nconst colorError = red[500];\nconst buttonStyles = {\n  styles: <_JSXStyle id={\"2079549993\"}>{[\".jsx-2079549993{width:100%;}\"]}</_JSXStyle>,\n  className: \"jsx-2079549993\"\n};\nconst primaryButtonStyle = {\n  styles: <_JSXStyle id={\"3451007021\"}>{[`button.jsx-3451007021{color:white;background-color:${theme.palette.primary2Color};}`, `button.jsx-3451007021:hover{background-color:${theme.palette.primary1Color};}`]}</_JSXStyle>,\n  className: \"jsx-3451007021\"\n};\nexport const ReportParams = props => <Dialog open={props.showReportParams} onClose={props.cancelGeneratingPdfReport} fullWidth={true} maxWidth=\"md\">\n        <DialogTitle>{title}</DialogTitle>\n\n        <DialogContent>\n            <div className={_JSXStyle.dynamic([[\"2045032263\", [colorError]]]) + \" \" + \"inputs\"}>\n                {props.reportParams.organisationUnit && <OrganisationUnitTree />}\n\n                {props.reportParams.period && <PeriodPicker label=\"\" />}\n            </div>\n\n            {!!props.reportParamsErrors.length && <div className={_JSXStyle.dynamic([[\"2045032263\", [colorError]]]) + \" \" + \"errors\"}>\n                    <p className={_JSXStyle.dynamic([[\"2045032263\", [colorError]]])}>\n                        {i18n.t('There are some errors you have to fix first!')}\n                    </p>\n                    <ul className={_JSXStyle.dynamic([[\"2045032263\", [colorError]]])}>\n                        {props.reportParamsErrors.map(error => <li key={error} className={_JSXStyle.dynamic([[\"2045032263\", [colorError]]]) + \" \" + \"error\"}>\n                                {error}\n                            </li>)}\n                    </ul>\n                </div>}\n\n            <div className={_JSXStyle.dynamic([[\"2045032263\", [colorError]]]) + \" \" + \"primary-action\"}>\n                <Button onClick={props.submitRequiredReportParams} variant=\"contained\" className={buttonStyles.className + ' ' + primaryButtonStyle.className}>\n                    {labelSubmit}\n                </Button>\n            </div>\n\n            <div className={_JSXStyle.dynamic([[\"2045032263\", [colorError]]])}>\n                <Button onClick={props.cancelGeneratingPdfReport} variant=\"contained\" className={buttonStyles.className}>\n                    {labelCancel}\n                </Button>\n            </div>\n\n            <_JSXStyle id={\"2045032263\"} dynamic={[colorError]}>{[\".inputs.__jsx-style-dynamic-selector{margin-bottom:30px;}\", \".errors.__jsx-style-dynamic-selector{margin-bottom:10px;}\", `.error.__jsx-style-dynamic-selector{color:${colorError};}`, \".primary-action.__jsx-style-dynamic-selector{margin-bottom:10px;}\"]}</_JSXStyle>\n            {buttonStyles.styles}\n            {primaryButtonStyle.styles}\n        </DialogContent>\n    </Dialog>;\nReportParams.propTypes = {\n  cancelGeneratingPdfReport: PropTypes.func.isRequired,\n  reportParams: PropTypes.object.isRequired,\n  reportParamsErrors: PropTypes.arrayOf(PropTypes.string).isRequired,\n  showReportParams: PropTypes.bool.isRequired,\n  submitRequiredReportParams: PropTypes.func.isRequired\n};\nexport const ConnectedReportParams = connect(state => ({\n  reportParams: state.standardReport.reportParams,\n  reportParamsErrors: state.standardReport.reportParamsErrors,\n  showReportParams: state.standardReport.showReportParams\n}), {\n  cancelGeneratingPdfReport,\n  submitRequiredReportParams\n})(ReportParams);","export const getSelectedOrgUnit = state => state.organisationUnits.selected;","export const getSelectedReportPeriod = state => state.reportPeriod.selectedPeriod;","import { CONTEXT_MENU_ACTION } from './standard.report.conf';\n/* Context Menu */\n\nconst displayNoResults = (reports, loading) => reports.length > 0 || loading ? {\n  display: 'none'\n} : '';\n\nconst showContextAction = (report, action) => {\n  const access = report && report.access ? report.access : {};\n  const actions = {\n    [CONTEXT_MENU_ACTION.CREATE]: access.read,\n    [CONTEXT_MENU_ACTION.EDIT]: access.update,\n    [CONTEXT_MENU_ACTION.SHARING_SETTINGS]: access.manage || access.externalize,\n    [CONTEXT_MENU_ACTION.DELETE]: access.delete\n  };\n  return actions[action] || false;\n};\n\nexport { displayNoResults, showContextAction };","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SharingDialog from '@dhis2/d2-ui-sharing-dialog';\nimport { CONTEXT_MENU_ACTION } from './standard.report.conf'; // import { ConnectedAddEditStdReport } from './AddEditStdReport'\n\nimport { getD2 } from '../../utils/api';\n\nconst StandardReportActions = ({\n  open,\n  selectedAction,\n  selectedReport,\n  handleClose\n}) => {\n  if (selectedAction === CONTEXT_MENU_ACTION.SHARING_SETTINGS) {\n    return <SharingDialog id={selectedReport.id} d2={getD2()} open={open} type=\"report\" onRequestClose={handleClose} />;\n  }\n\n  return null;\n};\n\nStandardReportActions.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  selectedAction: PropTypes.string.isRequired,\n  selectedReport: PropTypes.object.isRequired\n};\nexport default StandardReportActions;","import { connect } from 'react-redux';\nimport isEmpty from 'lodash.isempty';\nimport { addReportFormShow, closeContextMenu, deleteStandardReport, editReportFormShow, goToNextPage, goToPrevPage, hideReportData, loadStandardReports, requestDeleteStandardReport, sendStandardReport, setSearch, sharingSettingsShow, showReportData, showReportParams } from '../../redux/actions/standardReport'; // import { unsetReportData } from '../../redux/actions/reportData'\n\nconst mapStateToProps = state => ({ ...state.standardReport,\n  reportData: isEmpty(state.reportData.content) ? '' : state.reportData.content,\n  pager: state.pagination\n});\n\nconst mapDispatchToProps = dispatch => ({\n  addReportFormShow: report => dispatch(addReportFormShow(report)),\n  addStandardReport: report => dispatch(sendStandardReport(report, false)),\n  closeContextMenu: refreshList => dispatch(closeContextMenu(refreshList)),\n  createReport: report => dispatch(showReportParams(report)),\n  deleteStandardReport: report => dispatch(deleteStandardReport(report)),\n  editReport: report => dispatch(editReportFormShow(report)),\n  goToNextPage: () => dispatch(goToNextPage()),\n  goToPrevPage: () => dispatch(goToPrevPage()),\n  hideReportData: reportData => dispatch(hideReportData(reportData)),\n  loadStandardReports: () => dispatch(loadStandardReports()),\n  requestDeleteStandardReport: report => dispatch(requestDeleteStandardReport(report)),\n  setSearch: event => dispatch(setSearch(event.target.value)),\n  sharingSettings: report => dispatch(sharingSettingsShow(report)),\n  showReportData: reportData => dispatch(showReportData(reportData)),\n  updateStandardReport: report => dispatch(sendStandardReport(report, true))\n});\n\nconst connectStandardReport = connect(mapStateToProps, mapDispatchToProps);\nexport default connectStandardReport;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport { CONTEXT_MENU_ACTION, CONTEXT_MENU_ICONS } from './standard-report/standard.report.conf';\nimport { ConnectedReportParams } from './standard-report/ReportParams';\nimport { STANDARD_REPORT_SECTION_KEY, sections } from '../config/sections.config';\nimport { SectionHeadline } from '../components/SectionHeadline';\nimport { Snackbar } from '../components/feedback/Snackbar';\nimport { showContextAction } from './standard-report/helper';\nimport SearchablePagedList from '../components/SearchablePagedList';\nimport StandardReportActions from './standard-report/StandardReportActions';\nimport connectStandardReport from './standard-report/connectStandardReport';\n\nconst createContextMenuOptions = props => ({\n  [CONTEXT_MENU_ACTION.CREATE]: props.createReport,\n  [CONTEXT_MENU_ACTION.EDIT]: props.editReport,\n  [CONTEXT_MENU_ACTION.SHARING_SETTINGS]: props.sharingSettings,\n  [CONTEXT_MENU_ACTION.DELETE]: props.requestDeleteStandardReport\n});\n\nclass StandardReport extends React.Component {\n  constructor(props) {\n    super(props);\n    this.contextMenuOptions = createContextMenuOptions(props);\n  }\n\n  componentDidMount() {\n    if (this.props.reports.length === 0) {\n      this.props.loadStandardReports();\n    }\n  }\n\n  render() {\n    return <div>\n                <SectionHeadline label={sections[STANDARD_REPORT_SECTION_KEY].info.label} showBackButton={!!this.props.reportData} onBackClick={this.props.hideReportData} sectionKey={STANDARD_REPORT_SECTION_KEY} />\n                <div id=\"std-report-content\">\n                    <SearchablePagedList columns={['displayName']} rows={this.props.reports} isLoading={this.props.loading} contextMenuActions={this.contextMenuOptions} primaryAction={this.contextMenuOptions[[CONTEXT_MENU_ACTION.CREATE]]} contextMenuIcons={CONTEXT_MENU_ICONS} isContextActionAllowed={showContextAction} searchInputValue={this.props.search} searchInputChangeHandler={this.props.setSearch} addButtonClickHandler={this.props.addReportFormShow} goToNextPage={this.props.goToNextPage} goToPrevPage={this.props.goToPrevPage} />\n                    <StandardReportActions open={this.props.open} selectedAction={this.props.selectedAction} selectedReport={this.props.selectedReport} handleClose={this.props.closeContextMenu} handleDisplayReportData={this.props.showReportData} />\n                </div>\n                <ConnectedReportParams />\n                <Snackbar action={i18n.t('CONFIRM')} onActionClick={this.props.deleteStandardReport} />\n            </div>;\n  }\n\n}\n\nStandardReport.propTypes = {\n  addReportFormShow: PropTypes.func.isRequired,\n  closeContextMenu: PropTypes.func.isRequired,\n  deleteStandardReport: PropTypes.func.isRequired,\n  goToNextPage: PropTypes.func.isRequired,\n  goToPrevPage: PropTypes.func.isRequired,\n  hideReportData: PropTypes.func.isRequired,\n  loadStandardReports: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  open: PropTypes.bool.isRequired,\n  reportData: PropTypes.string.isRequired,\n  reports: PropTypes.array.isRequired,\n  search: PropTypes.string.isRequired,\n  selectedAction: PropTypes.string.isRequired,\n  selectedReport: PropTypes.object.isRequired,\n  setSearch: PropTypes.func.isRequired,\n  showReportData: PropTypes.func.isRequired\n};\nconst ConnectedStandardReport = connectStandardReport(StandardReport);\nexport { ConnectedStandardReport as StandardReport };","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { sections, STANDARD_REPORT_SECTION_KEY } from '../../config/sections.config';\nimport { generateHtmlReport } from '../../redux/actions/standardReport';\nimport HtmlReport from './HtmlReport';\nconst reportCard = {\n  styles: <_JSXStyle id={\"1439671591\"}>{[\".jsx-1439671591{margin-top:16px;padding:16px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}\"]}</_JSXStyle>,\n  className: \"jsx-1439671591\"\n};\nconst LinkToListWithRef = React.forwardRef((props, ref) => <Link innerRef={ref} to={sections[STANDARD_REPORT_SECTION_KEY].path} {...props} />);\nLinkToListWithRef.displayName = 'LinkToListWithRef';\n\nclass StyledHtmlReport extends React.Component {\n  componentDidMount() {\n    const {\n      match: {\n        params: {\n          id\n        }\n      },\n      location: {\n        search\n      },\n      generateHtmlReport\n    } = this.props;\n    const searchParams = new URLSearchParams(search);\n    const orgUnitId = searchParams.get('ou');\n    const reportPeriod = searchParams.get('pe');\n    generateHtmlReport({\n      id,\n      orgUnitId,\n      reportPeriod\n    });\n  }\n\n  render() {\n    return <div className={\"jsx-1249471346\" + \" \" + \"container\"}>\n                <div className={\"jsx-1249471346\" + \" \" + \"button-row\"}>\n                    <Button variant=\"contained\" color=\"primary\" component={LinkToListWithRef}>\n                        {i18n.t('Back to standard reports list')}\n                    </Button>\n                </div>\n                <Card className={reportCard.className}>\n                    <HtmlReport html={this.props.reportData} />\n                </Card>\n                <_JSXStyle id={\"1249471346\"}>{[\".container.jsx-1249471346{min-height:calc(100vh - 84px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}\"]}</_JSXStyle>\n                {reportCard.styles}\n            </div>;\n  }\n\n}\n\nStyledHtmlReport.propTypes = {\n  generateHtmlReport: PropTypes.func.isRequired,\n  reportData: PropTypes.string.isRequired,\n  location: PropTypes.shape({\n    search: PropTypes.string\n  }),\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string\n    })\n  })\n};\nexport default connect(({\n  reportData\n}) => ({\n  reportData: typeof reportData.content === 'string' ? reportData.content : ''\n}), {\n  generateHtmlReport\n})(StyledHtmlReport);","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n/* Material UI */\n\nimport Paper from '@material-ui/core/Paper';\nimport { card } from '../utils/styles/shared.js';\n\nconst MenuElement = ({\n  entry\n}) => <Paper className={card.className}>\n        <div className={\"jsx-2223066612\" + \" \" + \"section-title-bar\"}>\n            <div className={\"jsx-2223066612\" + \" \" + \"section-name\"}>{entry.label}</div>\n            <span className={\"jsx-2223066612\" + \" \" + \"material-icons icon section-icon\"}>\n                {entry.icon}\n            </span>\n        </div>\n        <div className={\"jsx-2223066612\" + \" \" + \"section-description\"}>{entry.description}</div>\n        <div className={\"jsx-2223066612\" + \" \" + \"section-action-text\"}>{entry.actionText}</div>\n        {card.styles}\n        <_JSXStyle id={\"2223066612\"}>{[\".section-title-bar.jsx-2223066612{margin-top:28px;min-height:42px;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \".section-name.jsx-2223066612{font-size:24px;text-align:left;color:#000000;}\", \".section-icon.jsx-2223066612{float:right;color:#757575;font-size:50px;}\", \".section-description.jsx-2223066612{font-size:14px;text-align:left;color:#757575;margin-top:38px;margin-bottom:38px;display:block;}\", \".section-action-text.jsx-2223066612{position:absolute;bottom:20px;display:block;font-size:16px;font-weight:600;text-align:left;color:#2196f3;}\"]}</_JSXStyle>\n    </Paper>;\n\nMenuElement.propTypes = {\n  entry: PropTypes.shape({\n    actionText: PropTypes.string,\n    description: PropTypes.string,\n    icon: PropTypes.string,\n    label: PropTypes.string\n  }).isRequired\n};\nexport default MenuElement;","import _JSXStyle from \"styled-jsx/style\";\nimport { Link } from 'react-router-dom';\nimport React from 'react';\nimport { sectionOrder, sections } from '../../config/sections.config';\nimport MenuElement from '../../components/MenuElement';\n\nconst Home = () => {\n  const menuCards = sectionOrder.map(sectionKey => {\n    const element = sections[sectionKey];\n    return <div key={element.key} className={\"jsx-4277548905\" + \" \" + \"col-sm-12 col-md-6 col-lg-4\"}>\n                <Link to={element.path} className=\"menu-card-link\">\n                    <MenuElement entry={element.info} />\n                </Link>\n                <_JSXStyle id={\"4277548905\"}>{[\"div.jsx-4277548905{margin-bottom:8px;}\", \"div.jsx-4277548905 .menu-card-link{-webkit-text-decoration:none !important;text-decoration:none !important;}\"]}</_JSXStyle>\n            </div>;\n  });\n  return <div id={'menu-grid-id'} className=\"row\">\n            {menuCards}\n        </div>;\n};\n\nexport default Home;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst NoMatch = props => <div>\n        <h3>\n            No match for <code>{props.location.pathname}</code>\n        </h3>\n    </div>;\n\nNoMatch.propTypes = {\n  location: PropTypes.object.isRequired\n};\nexport default NoMatch;","export const identity = input => input;","import { matchPath } from 'react-router-dom';\nimport { reportTypes, cacheStrategies } from '../../../pages/standard-report/standard.report.conf';\nimport { identity } from '../../../utils/boolean/identity';\nimport { createSelector } from 'reselect';\nexport const getSelectedStandardReport = state => state.standardReport.selectedReport;\nexport const getIsEdit = state => {\n  const match = matchPath(state.router.location.pathname, {\n    path: '/standard-report/:mode'\n  });\n  return !!(match && match.params.mode === 'edit');\n};\nexport const getEditFormInitialValues = createSelector([getSelectedStandardReport, getIsEdit], (selectedReport, isEdit) => {\n  if (isEdit) {\n    if (selectedReport.id) {\n      return {\n        id: selectedReport.id,\n        name: selectedReport.name,\n        type: selectedReport.type,\n        reportTable: selectedReport.reportTable && selectedReport.reportTable.id ? selectedReport.reportTable.id : '',\n        relativePeriods: Object.keys(selectedReport.relativePeriods).reduce((acc, cur) => selectedReport.relativePeriods[cur] ? [...acc, cur] : acc, []),\n        reportParams: [selectedReport.reportParams.reportingPeriod ? 'reportingPeriod' : '', selectedReport.reportParams.organisationUnit ? 'organisationUnit' : ''].filter(identity),\n        cacheStrategy: selectedReport.cacheStrategy\n      };\n    } else {\n      // edit mode, but report hasn't loaded yet\n      return {};\n    }\n  } // create mode\n\n\n  return {\n    type: reportTypes.JASPER_REPORT_TABLE,\n    cacheStrategy: cacheStrategies[1].value,\n    reportTable: ''\n  };\n});","import _JSXStyle from \"styled-jsx/style\";\nimport { Button as D2UIButton } from '@dhis2/d2-ui-core';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nexport const Button = props => <span className={\"jsx-3902943628\"}>\n        <D2UIButton raised type={props.type} onClick={props.onClick} color={props.isPrimary ? 'primary' : 'default'} disabled={props.disabled}>\n            {props.label}\n        </D2UIButton>\n\n        <_JSXStyle id={\"3902943628\"}>{[\"span.jsx-3902943628{display:inline-block;margin-right:10px;}\"]}</_JSXStyle>\n    </span>;\nButton.propTypes = {\n  label: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  isPrimary: PropTypes.bool,\n  type: PropTypes.string\n};\nButton.defaultProps = {\n  isPrimary: false,\n  type: 'submit'\n};","import _JSXStyle from \"styled-jsx/style\";\nimport Checkbox from '@material-ui/core/Checkbox';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { formInput } from '../../utils/react/propTypes';\nconst checkboxStyle = {\n  styles: <_JSXStyle id={\"3225532101\"}>{[\"span.jsx-3225532101{width:20px;height:20px;padding:0;}\"]}</_JSXStyle>,\n  className: \"jsx-3225532101\"\n};\nexport const CheckBox = props => <div className={\"jsx-3779354103\" + \" \" + \"form-checkbox\"}>\n        <div className={\"jsx-3779354103\" + \" \" + \"input-container\"}>\n            <Checkbox id={props.input.name + props.input.value} {...props.input} type=\"checkbox\" className={checkboxStyle.className} />\n        </div>\n\n        <label htmlFor={props.input.name + props.input.value} className={\"jsx-3779354103\" + \" \" + \"label-container\"}>\n            {props.label}\n        </label>\n\n        <_JSXStyle id={\"3779354103\"}>{[\".form-checkbox.jsx-3779354103{-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:30px;width:100%;}\", \".input-container.jsx-3779354103{width:25px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}\", \"input.jsx-3779354103{display:block;margin:0;}\", \"label.jsx-3779354103{display:block;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;padding:2px 0 5px;}\"]}</_JSXStyle>\n        {checkboxStyle.styles}\n    </div>;\nCheckBox.propTypes = {\n  input: formInput.isRequired,\n  label: PropTypes.string.isRequired\n};","import { Field } from 'react-final-form';\nimport { withStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { CheckBox } from './CheckBox';\nconst styles = {\n  container: {\n    margin: '0 0 20px'\n  },\n  label: {\n    margin: '0 0 10px',\n    fontSize: '1rem',\n    color: 'black'\n  }\n};\nexport const CheckBoxes = withStyles(styles)(props => <FormControl className={props.classes.container}>\n        {props.label && <FormHelperText className={props.classes.label}>\n                {props.label}\n            </FormHelperText>}\n        {props.showError && <Field name={props.name} type=\"checkbox\">\n                {({\n      meta\n    }) => meta.error && meta.touched ? meta.error : ''}\n            </Field>}\n        {props.options.map(option => <div key={option.label}>\n                <Field type=\"checkbox\" value={option.value} label={option.label} component={CheckBox} name={props.name} />\n            </div>)}\n    </FormControl>);\nCheckBoxes.propTypes = {\n  name: PropTypes.string.isRequired,\n  options: PropTypes.arrayOf(PropTypes.object).isRequired,\n  label: PropTypes.string,\n  showError: PropTypes.bool\n};\nCheckBoxes.defaultProps = {\n  label: '',\n  showError: true\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Field } from 'react-final-form';\nimport { CheckBoxes } from './CheckBoxes';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nexport const CheckBoxGroups = props => <div className=\"row\">\n        {props.displayError && <div className=\"col-xs-12\">\n                <Field type=\"checkbox\" name={props.name}>\n                    {({\n        meta\n      }) => <FormHelperText>\n                            {meta.error && meta.touched ? meta.error : ''}\n                        </FormHelperText>}\n                </Field>\n            </div>}\n\n        {props.groups.map(group => <div key={group.label} className=\"col-xs-12 col-sm-6 col-md-4 col-lg-3\">\n                <CheckBoxes name={props.name} label={group.label} options={group.options} showError={false} />\n            </div>)}\n    </div>;\nCheckBoxGroups.propTypes = {\n  groups: PropTypes.array.isRequired,\n  name: PropTypes.string.isRequired,\n  displayError: PropTypes.bool\n};\nCheckBoxGroups.defaultProps = {\n  displayError: true\n};","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport red from '@material-ui/core/colors/red';\nconst errorTextColor = red[500];\nexport const ErrorText = props => {\n  if (!props.showErrorText) return null;\n  return <FormHelperText>\n            <span className={_JSXStyle.dynamic([[\"769049044\", [errorTextColor]]])}>{props.error && props.touched ? props.error : ''}</span>\n\n            <_JSXStyle id={\"769049044\"} dynamic={[errorTextColor]}>{[`span.__jsx-style-dynamic-selector{color:${errorTextColor};}`]}</_JSXStyle>\n        </FormHelperText>;\n};\nErrorText.propTypes = {\n  error: PropTypes.string.isRequired,\n  touched: PropTypes.bool.isRequired,\n  showErrorText: PropTypes.bool\n};\nErrorText.defaultProps = {\n  showErrorText: true\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { Field } from 'react-final-form';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport { ErrorText } from './buildingBlocks/ErrorText';\n\nconst useFileBlobAsValue = input => event => {\n  event.persist();\n  input.onChange({\n    file: event.target.files[0],\n    value: event.target.value\n  });\n};\n\nconst formatBlobToString = data => data ? data.value : '';\n\nexport const File = props => <div className={\"jsx-1568741591\"}>\n        <Field name={props.name} type=\"file\" placeholder={props.placeholder} format={formatBlobToString} {...props.fieldProps}>\n            {({\n      input,\n      meta,\n      placeholder\n    }) => <FormControl>\n                    <ErrorText error={meta.error || ''} touched={meta.touched} />\n                    <FormHelperText>{placeholder}</FormHelperText>\n                    <FormHelperText>\n                        <label htmlFor={input.name} className={\"jsx-1568741591\"}>\n                            <Button variant=\"contained\" component=\"span\">\n                                {i18n.t('Select file')}\n                            </Button>\n                        </label>\n                    </FormHelperText>\n                    <input name={input.name} value={input.value} onChange={useFileBlobAsValue(input)} id={input.name} type=\"file\" className={\"jsx-1568741591\"} />\n                    <FormHelperText>\n                        {input.value.replace('C:\\\\fakepath\\\\', '') || i18n.t('No file chosen')}\n                    </FormHelperText>\n                </FormControl>}\n        </Field>\n        <_JSXStyle id={\"1568741591\"}>{[\"input.jsx-1568741591{display:none;}\"]}</_JSXStyle>\n    </div>;\nFile.propTypes = {\n  name: PropTypes.string.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  fieldProps: PropTypes.object\n};\nFile.defaultProps = {\n  fieldProps: {}\n};","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport { children } from '../../utils/react/propTypes';\nexport const FormRow = props => <React.Fragment>\n        <div className={\"jsx-1762692579\"}>{props.children}</div>\n\n        <_JSXStyle id={\"1762692579\"}>{[\"div.jsx-1762692579{margin-bottom:20px;}\"]}</_JSXStyle>\n    </React.Fragment>;\nFormRow.propTypes = {\n  children: children.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { children } from '../../utils/react/propTypes';\nexport const FormSection = ({\n  show,\n  render,\n  children\n}) => {\n  if (!show) return null;\n  return <section className={\"jsx-232685539\"}>\n            {children || render()}\n            <_JSXStyle id={\"232685539\"}>{[\"section.jsx-232685539{margin:0 0 10px;padding:0 2px;overflow:hidden;}\"]}</_JSXStyle>\n        </section>;\n};\nFormSection.propTypes = {\n  children,\n  render: PropTypes.func,\n  show: PropTypes.bool\n};\nFormSection.defaultProps = {\n  children: null,\n  render: () => null,\n  show: true\n};","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport { children } from '../../utils/react/propTypes';\nexport const FormSectionTitle = ({\n  children\n}) => <h2 className={\"jsx-4079111950\"}>\n        {children}\n        <_JSXStyle id={\"4079111950\"}>{[\"h2.jsx-4079111950{color:black;font-weight:bold;font-size:1.3em;line-height:2;margin:0 0 10px;}\"]}</_JSXStyle>\n    </h2>;\nFormSectionTitle.propTypes = {\n  children: children.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\n// eslint-disable-next-line no-unused-vars\nimport React from 'react';\nexport const section = {\n  styles: <_JSXStyle id={\"3980597411\"}>{[\".jsx-3980597411{margin:0 0 10px;}\"]}</_JSXStyle>,\n  className: \"jsx-3980597411\"\n};\nexport const sectionTitle = {\n  styles: <_JSXStyle id={\"254529828\"}>{[\".jsx-254529828{color:black;font-weight:bold;font-size:1.3em;line-height:2;margin:0 0 10px;}\"]}</_JSXStyle>,\n  className: \"jsx-254529828\"\n};\nexport const container = {\n  styles: <_JSXStyle id={\"2649160175\"}>{[\".jsx-2649160175{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:20px;}\"]}</_JSXStyle>,\n  className: \"jsx-2649160175\"\n};\nexport const inputWrapper = {\n  styles: <_JSXStyle id={\"516171561\"}>{[\".jsx-516171561{margin:0;width:100%;}\"]}</_JSXStyle>,\n  className: \"jsx-516171561\"\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport blue from '@material-ui/core/colors/blue';\nexport const HelpText = ({\n  children\n}) => <FormHelperText style={{\n  color: blue[800]\n}}>{children}</FormHelperText>;\nHelpText.propTypes = {\n  children: PropTypes.node.isRequired\n};","import MUIInput from '@material-ui/core/Input';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { ErrorText } from './buildingBlocks/ErrorText';\nimport { formInput, formInputMeta } from '../../utils/react/propTypes';\nimport { inputWrapper } from './styles';\nimport { HelpText } from './buildingBlocks/HelpText';\nexport const Input = props => <React.Fragment>\n        <FormControl className={inputWrapper.className}>\n            <InputLabel htmlFor={props.input.name}>\n                {props.placeholder}\n            </InputLabel>\n            <MUIInput {...props.input} label={props.placeholder} />\n            {props.helpText && <HelpText>{props.helpText}</HelpText>}\n            <ErrorText error={props.meta.error || ''} touched={props.meta.touched} />\n        </FormControl>\n\n        {inputWrapper.styles}\n    </React.Fragment>;\nInput.propTypes = {\n  input: formInput.isRequired,\n  meta: formInputMeta.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  helpText: PropTypes.string\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MUISelect from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { formInput, formInputMeta, formOptions } from '../../utils/react/propTypes';\nimport { inputWrapper } from './styles';\nimport { ErrorText } from './buildingBlocks/ErrorText';\nexport const SelectField = props => <MUISelect {...props.input} disabled={props.disabled}>\n        {props.showEmptyOption && <MenuItem value=\"\" />}\n        {props.options.map(option => <MenuItem key={option.value} value={option.value}>\n                {option.label}\n            </MenuItem>)}\n    </MUISelect>;\nSelectField.propTypes = {\n  disabled: PropTypes.bool.isRequired,\n  input: formInput.isRequired,\n  options: formOptions.isRequired,\n  showEmptyOption: PropTypes.bool.isRequired\n};\nconst {\n  className,\n  styles\n} = inputWrapper;\nexport const Select = props => <FormControl className={className}>\n        <InputLabel htmlFor={props.input.name}>{props.placeholder}</InputLabel>\n        <SelectField input={props.input} showEmptyOption={props.showEmptyOption} options={props.options} disabled={props.disabled} />\n        <ErrorText showErrorText={props.showErrorText} error={props.meta.error || ''} touched={props.meta.touched} />\n        {styles}\n    </FormControl>;\nSelect.propTypes = {\n  input: formInput.isRequired,\n  meta: formInputMeta.isRequired,\n  options: formOptions.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  showEmptyOption: PropTypes.bool,\n  showErrorText: PropTypes.bool\n};\nSelect.defaultProps = {\n  showEmptyOption: false,\n  showErrorText: false,\n  disabled: false\n};","import i18n from '../locales';\nexport const reportParameterOptions = [{\n  value: 'reportingPeriod',\n  label: i18n.t('Reporting Period')\n}, {\n  value: 'organisationUnit',\n  label: i18n.t('Organisation Unit')\n}];","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Button from '@material-ui/core/Button';\nimport i18n from '@dhis2/d2-i18n';\nimport { getApi } from '../../../utils/api';\nimport { reportTypes, REPORTS_ENDPOINT, REPORT_TEMPLATES_ENDPOINT } from '../standard.report.conf';\nexport const DesignFileDownloadButton = ({\n  isEditing,\n  reportType,\n  reportId\n}) => {\n  let url;\n  let label;\n  const api = getApi();\n  const type = reportType === reportTypes.HTML ? 'html' : 'xml';\n\n  if (isEditing) {\n    label = i18n.t('Get current design');\n    url = `${api.baseUrl}/${REPORTS_ENDPOINT}/${reportId}/design`;\n  } else {\n    label = reportType === reportTypes.HTML ? i18n.t('Get HTML Report Template') : i18n.t('Get Jasper Report Template');\n    url = `${api.baseUrl}/${REPORT_TEMPLATES_ENDPOINT}.${type}`;\n  }\n\n  return <div className={\"jsx-690866626\"}>\n            <FormHelperText>{label}</FormHelperText>\n            <FormHelperText>\n                <Button variant=\"contained\" component=\"span\">\n                    {\n          /* \n          Having an anchor to a HTML file with a download attribute \n          causes unexpected behavior in Chrome, see:\n          https://dhis2.slack.com/archives/G451J9KGR/p1570090946063500\n          */\n        }\n                    {\n          /* eslint-disable-next-line react/jsx-no-target-blank */\n        }\n                    <a href={url} target=\"_blank\" download={type !== 'html'} className={\"jsx-690866626\"}>\n                        {i18n.t('Download')}\n                    </a>\n                </Button>\n            </FormHelperText>\n            <FormHelperText />\n            <_JSXStyle id={\"690866626\"}>{[\"a.jsx-690866626{color:inherit;-webkit-text-decoration:none;text-decoration:none;}\"]}</_JSXStyle>\n        </div>;\n};\nDesignFileDownloadButton.propTypes = {\n  isEditing: PropTypes.bool.isRequired,\n  reportId: PropTypes.string.isRequired,\n  reportType: PropTypes.string.isRequired\n};","import { reportTypes } from '../standard.report.conf';\nexport const validateNewReport = values => {\n  const errors = {};\n  validateName(errors, values);\n  validateReportTable(errors, values);\n  validateDesignContent(errors, values);\n  validateCacheStrategy(errors, values);\n  return errors;\n};\nexport const validateReportUpdate = values => {\n  const errors = {};\n  validateName(errors, values);\n  validateReportTable(errors, values);\n  validateCacheStrategy(errors, values);\n  return errors;\n};\n\nconst validateName = (errors, values) => {\n  if (!values.name) {\n    errors.name = 'Required';\n  }\n};\n\nconst validateReportTable = (errors, values) => {\n  if (values.type === reportTypes.JASPER_REPORT_TABLE && !values.reportTable) {\n    errors.reportTable = 'Required';\n  }\n};\n\nconst validateDesignContent = (errors, values) => {\n  if (!values.designContent) {\n    errors.designContent = 'Required';\n  }\n};\n\nconst validateCacheStrategy = (errors, values) => {\n  if (!values.cacheStrategy) {\n    errors.cacheStrategy = 'Required';\n  }\n};","import PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport React, { useState, useRef } from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport Paper from '@material-ui/core/Paper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Popper from '@material-ui/core/Popper';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport red from '@material-ui/core/colors/red';\nimport { Input } from './Input';\nimport { formInput, formInputMeta } from '../../utils/react/propTypes';\nimport { loadFilteredStandardReportTables, clearSearch, MIN_CHAR_LENGTH } from '../../redux/actions/standardReportTables';\nconst centeredStyle = {\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  paddingTop: 16,\n  paddingBottom: 16\n};\nconst errorStyle = { ...centeredStyle,\n  color: red[500]\n};\nconst infoStyle = { ...centeredStyle,\n  color: '#494949,',\n  fontStyle: 'italic'\n};\n\nconst getListContent = ({\n  onClick,\n  loading,\n  error,\n  collection,\n  noMatches\n}) => {\n  if (loading) {\n    return <div style={centeredStyle}>\n                <CircularProgress />\n            </div>;\n  } else if (error) {\n    return <div style={errorStyle}>{error}</div>;\n  } else if (noMatches) {\n    return <div style={infoStyle}>{i18n.t('No matches found')}</div>;\n  } else if (collection.length > 0) {\n    return collection.map(item => {\n      return <MenuItem key={item.value} // use onMouseDown instead of onClick because this fires\n      // before the search-input's onBlur\n      onMouseDown={() => onClick(item.value, item.label)}>\n                    {item.label}\n                </MenuItem>;\n    });\n  } else {\n    return null;\n  }\n};\n\nexport const ReportTableSearchInputUI = props => {\n  const inputRef = useRef();\n  const [isSearchMode, setSearchMode] = useState(false);\n  const [reportTableName, setReportTableName] = useState('');\n  const showResults = isSearchMode && props.searchTerm.length >= MIN_CHAR_LENGTH;\n  const showHint = isSearchMode && props.searchTerm.length < MIN_CHAR_LENGTH;\n\n  const onFocus = () => {\n    if (!isSearchMode) {\n      setSearchMode(true);\n    }\n\n    props.input.onFocus && props.input.onFocus();\n  };\n\n  const onBlur = () => {\n    if (isSearchMode) {\n      setSearchMode(false);\n    }\n\n    props.input.onBlur && props.input.onBlur();\n  };\n\n  const onSearch = event => {\n    props.loadFilteredStandardReportTables(event.target.value);\n  };\n\n  const usedValue = isSearchMode ? props.searchTerm : reportTableName || props.persistedReportTableName;\n  const inputProps = { ...props,\n    helpText: showHint ? i18n.t('Please enter at least {{count}} characters', {\n      count: MIN_CHAR_LENGTH\n    }) : undefined,\n    input: { ...props.input,\n      value: usedValue,\n      onFocus: onFocus,\n      onChange: isSearchMode ? onSearch : props.input.onChange,\n      onBlur: isSearchMode ? onBlur : props.input.onBlur,\n      placeholder: i18n.t('Type to search a report table'),\n      inputRef,\n      autoComplete: 'off'\n    }\n  };\n\n  const onChange = (value, label) => {\n    setSearchMode(false);\n    setReportTableName(label);\n    props.clearSearch();\n    props.input.onChange(value);\n  };\n\n  return <React.Fragment>\n            <Input {...inputProps} />\n\n            <Popper open={showResults} anchorEl={inputRef.current} style={{\n      width: inputRef.current?.offsetWidth\n    }}>\n                <Paper style={{\n        maxHeight: 400,\n        overflow: 'auto'\n      }}>\n                    {getListContent({\n          onClick: onChange,\n          loading: props.loading,\n          error: props.error,\n          collection: props.collection,\n          noMatches: props.noMatches\n        })}\n                </Paper>\n            </Popper>\n        </React.Fragment>;\n};\nReportTableSearchInputUI.propTypes = {\n  clearSearch: PropTypes.func.isRequired,\n  input: formInput.isRequired,\n  loadFilteredStandardReportTables: PropTypes.func.isRequired,\n  meta: formInputMeta.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  collection: PropTypes.array,\n  error: PropTypes.string,\n  loading: PropTypes.bool,\n  noMatches: PropTypes.bool,\n  persistedReportTableName: PropTypes.string,\n  searchTerm: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  searchTerm: state.standardReportTables.searchTerm,\n  collection: state.standardReportTables.collection,\n  loading: state.standardReportTables.loading,\n  error: state.standardReportTables.error,\n  noMatches: state.standardReportTables.noMatches,\n  persistedReportTableName: state.standardReport.selectedReport.reportTable && state.standardReport.selectedReport.reportTable.displayName || ''\n});\n\nexport const ReportTableSearchInput = connect(mapStateToProps, {\n  loadFilteredStandardReportTables,\n  clearSearch\n})(ReportTableSearchInputUI);","import i18n from '@dhis2/d2-i18n';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Field, Form } from 'react-final-form';\nimport { Button } from '../../../components/form/Button';\nimport { CheckBoxes } from '../../../components/form/CheckBoxes';\nimport { CheckBoxGroups } from '../../../components/form/CheckBoxGroups';\nimport { File } from '../../../components/form/File';\nimport { FormRow } from '../../../components/form/FormRow';\nimport { FormSection } from '../../../components/form/FormSection';\nimport { FormSectionTitle } from '../../../components/form/FormSectionTitle';\nimport { Input } from '../../../components/form/Input';\nimport { Select } from '../../../components/form/Select';\nimport { reportParameterOptions } from '../../../config/standardReport';\nimport { RELATIVE_PERIODS } from '../../../utils/periods/relativePeriods';\nimport { DesignFileDownloadButton } from './DesignFileDownloadButton';\nimport { validateNewReport, validateReportUpdate } from './validate';\nimport { cacheStrategies, reportTypeOptions, reportTypes } from '../standard.report.conf';\nimport { ReportTableSearchInput } from '../../../components/form/ReportTableSearchInput';\n\nconst ReportForm = props => <Form onSubmit={props.onSubmit} validate={props.edit ? validateReportUpdate : validateNewReport} initialValues={props.report} subscription={{\n  values: true,\n  initialValues: false\n}}>\n        {({\n    handleSubmit,\n    values\n  }) => {\n    return <form onSubmit={handleSubmit}>\n                    <FormSection>\n                        <FormSectionTitle>{i18n.t('Details')}</FormSectionTitle>\n\n                        <FormRow>\n                            <Field name=\"name\" placeholder={i18n.t('Name*')} component={Input} />\n                        </FormRow>\n\n                        <FormRow>\n                            <Field name=\"type\" placeholder={i18n.t('Report Type*')} options={reportTypeOptions} showErrorText={false} component={Select} />\n                        </FormRow>\n\n                        {values.type === reportTypes.JASPER_REPORT_TABLE && <FormRow>\n                                <Field name=\"reportTable\" placeholder={i18n.t('Report Table*')} component={ReportTableSearchInput} />\n                            </FormRow>}\n\n                        <div className=\"row\">\n                            <div className=\"col-xs-6\">\n                                <File name=\"designContent\" placeholder={props.edit ? i18n.t('Design File') : i18n.t('Design File*')} />\n                            </div>\n\n                            <div className=\"col-xs-6\">\n                                <FormHelperText />\n                                <DesignFileDownloadButton isEditing={props.edit} reportType={values.type} reportId={props.edit ? props.report.id : ''} />\n                            </div>\n                        </div>\n                    </FormSection>\n\n                    <FormSection show={values.type !== reportTypes.JASPER_REPORT_TABLE} render={() => <React.Fragment>\n                                <FormSectionTitle>\n                                    {i18n.t('Relative periods')}\n                                </FormSectionTitle>\n\n                                <CheckBoxGroups name=\"relativePeriods\" groups={RELATIVE_PERIODS} displayError={false} />\n                            </React.Fragment>} />\n\n                    <FormSection show={values.type !== reportTypes.JASPER_REPORT_TABLE} render={() => <React.Fragment>\n                                <FormSectionTitle>\n                                    {i18n.t('Report parameters')}\n                                </FormSectionTitle>\n\n                                <CheckBoxes name=\"reportParams\" options={reportParameterOptions} />\n                            </React.Fragment>} />\n\n                    <FormSection>\n                        <FormSectionTitle>\n                            {i18n.t('Settings')}\n                        </FormSectionTitle>\n\n                        <FormRow>\n                            <Field name=\"cacheStrategy\" placeholder={i18n.t('Cache Strategy*')} options={cacheStrategies} component={Select} />\n                        </FormRow>\n                    </FormSection>\n                    <Button label={i18n.t('Submit')} isPrimary={true} onClick={handleSubmit} />\n\n                    <Button label={i18n.t('Cancel')} onClick={props.backToList} />\n                </form>;\n  }}\n    </Form>;\n\nReportForm.propTypes = {\n  backToList: PropTypes.func.isRequired,\n  edit: PropTypes.bool.isRequired,\n  report: PropTypes.object.isRequired,\n  onSubmit: PropTypes.func.isRequired\n};\nexport { ReportForm };","import i18n from '@dhis2/d2-i18n';\nimport { Card, CircularProgress } from '@material-ui/core';\nimport isEmpty from 'lodash.isempty';\nimport PropTypes from 'prop-types';\nimport React, { Fragment, PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { SectionHeadline } from '../../components/SectionHeadline';\nimport { STANDARD_REPORT_SECTION_KEY } from '../../config/sections.config';\nimport { loadStandardReportDetails, navigateToList, sendStandardReport } from '../../redux/actions/standardReport';\nimport { getEditFormInitialValues, getIsEdit } from '../../redux/selectors/standardReport/getEditFormInitialValues';\nimport { formCard, formLoader } from '../../utils/styles/shared';\nimport { ReportForm } from './add-edit-report/ReportForm';\nexport class AddEditStandardReport extends PureComponent {\n  componentDidMount() {\n    const {\n      edit,\n      loadStandardReportDetails,\n      match\n    } = this.props;\n\n    if (edit) {\n      loadStandardReportDetails(match.params.id);\n    }\n  }\n\n  onSubmit = values => {\n    const {\n      sendStandardReport,\n      edit\n    } = this.props;\n    sendStandardReport(values, edit);\n  };\n\n  render() {\n    const isLoading = isEmpty(this.props.report);\n    const headlineText = this.props.edit ? i18n.t('Edit standard report') : i18n.t('Create standard report');\n    return <Fragment>\n                <SectionHeadline label={headlineText} showBackButton={true} onBackClick={this.props.navigateToList} sectionKey={STANDARD_REPORT_SECTION_KEY} />\n                <Card className={formCard.className}>\n                    {isLoading ? <div className={formLoader.className}>\n                            <CircularProgress />\n                        </div> : <ReportForm {...this.props} backToList={this.props.navigateToList} onSubmit={this.onSubmit} />}\n                </Card>\n                {formCard.styles}\n                {formLoader.styles}\n            </Fragment>;\n  }\n\n}\nAddEditStandardReport.propTypes = {\n  loadStandardReportDetails: PropTypes.func.isRequired,\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string,\n      mode: PropTypes.oneOf(['new', 'edit'])\n    })\n  }).isRequired,\n  navigateToList: PropTypes.func.isRequired,\n  sendStandardReport: PropTypes.func.isRequired,\n  edit: ReportForm.propTypes.edit,\n  report: ReportForm.propTypes.report\n};\n\nconst mapStateToProps = state => {\n  return {\n    report: getEditFormInitialValues(state),\n    edit: getIsEdit(state)\n  };\n};\n\nconst ConnectedComponent = connect(mapStateToProps, {\n  loadStandardReportDetails,\n  sendStandardReport,\n  navigateToList\n})(AddEditStandardReport);\nexport { ConnectedComponent as ConnectedAddEditStdReport };","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { formInput } from '../../utils/react/propTypes';\nexport const RadioButton = props => <div className={\"jsx-2817873616\" + \" \" + \"form-checkbox\"}>\n        <div className={\"jsx-2817873616\" + \" \" + \"input-container\"}>\n            <input id={props.input.name + props.input.value} {...props.input} type=\"radio\" className={\"jsx-2817873616\" + \" \" + (props.input && props.input.className != null && props.input.className || \"\")} />\n        </div>\n\n        <label htmlFor={props.input.name + props.input.value} className={\"jsx-2817873616\" + \" \" + \"label-container\"}>\n            {props.label}\n        </label>\n\n        <_JSXStyle id={\"2817873616\"}>{[\".form-checkbox.jsx-2817873616{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:30px;width:100%;}\", \".input-container.jsx-2817873616{width:20px;}\", \"input.jsx-2817873616{display:block;margin:0;}\", \"label.jsx-2817873616{display:block;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\"]}</_JSXStyle>\n    </div>;\nRadioButton.propTypes = {\n  input: formInput.isRequired,\n  label: PropTypes.string.isRequired\n};","import { Field } from 'react-final-form';\nimport { withStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { RadioButton } from './RadioButton';\nconst styles = {\n  container: {\n    margin: '0'\n  },\n  label: {\n    margin: '0 0 10px',\n    fontSize: '1rem',\n    color: 'black'\n  }\n};\nexport const RadioButtons = withStyles(styles)(props => <FormControl className={props.classes.container}>\n        {props.label && <FormHelperText className={props.classes.label}>\n                {props.label}\n            </FormHelperText>}\n        {props.showError && <Field name={props.name} type=\"checkbox\">\n                {({\n      meta\n    }) => meta.error && meta.touched ? meta.error : ''}\n            </Field>}\n        {props.options.map(option => <div key={option.label}>\n                <Field type=\"radio\" value={option.value} label={option.label} component={RadioButton} name={props.name} />\n            </div>)}\n    </FormControl>);\nRadioButtons.propTypes = {\n  name: PropTypes.string.isRequired,\n  options: PropTypes.arrayOf(PropTypes.object).isRequired,\n  label: PropTypes.string,\n  showError: PropTypes.bool\n};\nRadioButtons.defaultProps = {\n  label: '',\n  showError: true\n};","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport { FormRow } from '../../../../components/form/FormRow';\nimport { RadioButtons } from '../../../../components/form/RadioButtons';\nexport const Attachment = () => <FormRow>\n        <p className={\"jsx-245692591\"}>{i18n.t('Do you want to use this file as an attachment?')}</p>\n        <RadioButtons name=\"attachment\" options={[{\n    value: 'yes',\n    label: i18n.t('Yes')\n  }, {\n    value: 'no',\n    label: i18n.t('No')\n  }]} showError={false} />\n        <_JSXStyle id={\"245692591\"}>{[\"p.jsx-245692591{margin-top:0;}\"]}</_JSXStyle>\n    </FormRow>;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport { File as FileInput } from '../../../../components/form/File';\nimport { FormRow } from '../../../../components/form/FormRow';\nimport { isRequired } from '../../../../utils/form/validators';\nexport const File = props => <FormRow>\n        <FileInput name=\"file\" placeholder={i18n.t('File')} fieldProps={props.isRequired ? {\n    validate: isRequired\n  } : {}} />\n    </FormRow>;\nFile.propTypes = {\n  isRequired: PropTypes.bool.isRequired\n};","import { Field } from 'react-final-form';\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport { FormRow } from '../../../../components/form/FormRow';\nimport { Input } from '../../../../components/form/Input';\nimport { isRequired } from '../../../../utils/form/validators';\nexport const Name = () => <FormRow>\n        <Field name=\"name\" placeholder={i18n.t('Name*')} component={Input} validate={isRequired} />\n    </FormRow>;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormSectionTitle } from '../../../../components/form/FormSectionTitle';\nexport const Title = props => <FormSectionTitle>{props.label}</FormSectionTitle>;\nTitle.propTypes = {\n  label: PropTypes.string.isRequired\n};","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport { Title } from './Title';\nexport const TitleDetails = () => <Title label={i18n.t('Details')} />;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport { Title } from './Title';\nexport const TitleResource = () => <Title label={i18n.t('Resource')} />;","import { Field } from 'react-final-form';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport { FormRow } from '../../../../components/form/FormRow';\nimport { Select } from '../../../../components/form/Select';\nimport { resourceTypeOptions } from '../../../../utils/resource/constants';\nexport const Type = props => <FormRow>\n        <Field name=\"type\" placeholder={i18n.t('Resource Type')} options={resourceTypeOptions} showErrorText={false} component={Select} disabled={props.disabled} />\n    </FormRow>;\nType.propTypes = {\n  disabled: PropTypes.bool\n};\nType.defaultProps = {\n  disabled: false\n};","import { Field } from 'react-final-form';\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport { FormRow } from '../../../../components/form/FormRow';\nimport { Input } from '../../../../components/form/Input';\nimport { isRequired } from '../../../../utils/form/validators';\nexport const Url = () => <FormRow>\n        <Field name=\"url\" placeholder={i18n.t('Url*')} component={Input} validate={isRequired} />\n    </FormRow>;","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React, { Fragment } from 'react';\nimport { Form } from 'react-final-form';\nimport { Button } from '../../../components/form/Button';\nimport { FormSection } from '../../../components/form/FormSection';\nimport { resourceTypes } from '../../../utils/resource/constants';\nimport { Attachment } from './ResourceForm/Attachment';\nimport { File } from './ResourceForm/File';\nimport { Name } from './ResourceForm/Name';\nimport { TitleDetails } from './ResourceForm/TitleDetails';\nimport { TitleResource } from './ResourceForm/TitleResource';\nimport { Type } from './ResourceForm/Type';\nimport { Url } from './ResourceForm/Url';\nexport const ResourceForm = props => <Form onSubmit={props.onSubmit} initialValues={props.initialValues}>\n        {({\n    handleSubmit,\n    values,\n    valid\n  }) => <form onSubmit={handleSubmit} className={\"jsx-612925129\"}>\n                {props.isEditingFileResource && <p className={\"jsx-612925129\" + \" \" + \"edit-unavailable\"}>\n                        {i18n.t('File resources can not be edited, only created')}\n                    </p>}\n                <fieldset disabled={props.isEditingFileResource} className={\"jsx-612925129\"}>\n                    <FormSection>\n                        <TitleDetails />\n                        <Name />\n                        <Type />\n                    </FormSection>\n\n                    <FormSection show={values.type === resourceTypes.EXTERNAL_URL} render={() => <Fragment>\n                                <TitleResource />\n                                <Url />\n                            </Fragment>} />\n\n                    <FormSection show={values.type === resourceTypes.UPLOAD_FILE} render={() => <Fragment>\n                                <TitleResource />\n                                <Attachment />\n                                <File isRequired={props.isFileRequired} />\n                            </Fragment>} />\n                </fieldset>\n\n                <Button label={props.onSubmitLabel} isPrimary={true} onClick={handleSubmit} disabled={!valid || props.isEditingFileResource} />\n\n                <Button label={i18n.t('Cancel')} onClick={props.onCancel} />\n\n                <_JSXStyle id={\"612925129\"}>{[\"fieldset.jsx-612925129{position:relative;border:none;margin:0;padding:0;}\", \"fieldset.jsx-612925129:disabled.jsx-612925129::after{content:' ';display:block;position:absolute;top:0;left:0;height:100%;width:100%;background-color:rgba(255,255,255,0.5);pointer-events:none;}\", \"p.edit-unavailable.jsx-612925129{color:red;}\"]}</_JSXStyle>\n            </form>}\n    </Form>;\nResourceForm.propTypes = {\n  initialValues: PropTypes.object.isRequired,\n  isEditingFileResource: PropTypes.bool.isRequired,\n  isFileRequired: PropTypes.bool.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onSubmitLabel: PropTypes.string.isRequired\n};","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport { connect } from 'react-redux';\nimport { loadResource, addNewResource, updateResource, backToList } from '../../redux/actions/resource';\nimport { extractFileAndFormattedResource } from './helper';\nimport { resourceTypeOptions } from '../../utils/resource/constants';\nimport { ResourceForm } from './add-edit-resource/ResourceForm';\nimport { formCard, formLoader } from '../../utils/styles/shared';\nimport { SectionHeadline } from '../../components/SectionHeadline';\nimport { RESOURCE_SECTION_KEY } from '../../config/sections.config';\nimport { Card, CircularProgress } from '@material-ui/core';\n\nclass AddEditResource extends Component {\n  componentDidMount() {\n    if (!this.isResourceLoaded()) {\n      this.props.loadResource(this.getResourceIdFromUrl());\n    }\n  }\n\n  onSubmit = values => {\n    const {\n      file,\n      resource\n    } = extractFileAndFormattedResource(values);\n    const submitHandler = this.isEdit() ? this.props.updateResource : this.props.addNewResource;\n    submitHandler(resource, file);\n    this.props.backToList();\n  };\n\n  getInitialValues() {\n    const {\n      resource\n    } = this.props;\n    return this.isEdit() ? {\n      name: resource.displayName,\n      type: resourceTypeOptions[resource.external ? 0 : 1].value,\n      attachment: resource.attachment ? 'yes' : 'no',\n      url: resource.url\n    } : {\n      name: '',\n      type: resourceTypeOptions[1].value,\n      attachment: 'no'\n    };\n  }\n\n  isEdit() {\n    return this.props.match.params.mode === 'edit';\n  }\n\n  isResourceLoaded() {\n    return !(this.isEdit() && !this.props.resource.id);\n  }\n\n  isEditingFileResource() {\n    return this.isEdit() && !this.props.resource.external;\n  }\n\n  getResourceIdFromUrl() {\n    return this.props.match.params.id;\n  }\n\n  getFormTexts(isEdit) {\n    const editTitle = i18n.t('Edit resource');\n    const editSubmitLabel = i18n.t('Save resource');\n    const addText = i18n.t('Add resource');\n    return {\n      title: isEdit ? editTitle : addText,\n      submitLabel: isEdit ? editSubmitLabel : addText\n    };\n  }\n\n  render() {\n    const isEdit = this.isEdit();\n    const {\n      title,\n      submitLabel\n    } = this.getFormTexts(isEdit);\n    return <Fragment>\n                <SectionHeadline label={title} showBackButton={true} onBackClick={this.props.backToList} sectionKey={RESOURCE_SECTION_KEY} />\n                <Card className={formCard.className}>\n                    {this.isResourceLoaded() ? <ResourceForm open={true} title={title} isFileRequired={!isEdit} onSubmitLabel={submitLabel} initialValues={this.getInitialValues()} onSubmit={this.onSubmit} onCancel={this.props.backToList} isEditingFileResource={this.isEditingFileResource()} /> : <div className={formLoader.className}>\n                            <CircularProgress />\n                        </div>}\n                </Card>\n                {formCard.styles}\n                {formLoader.styles}\n            </Fragment>;\n  }\n\n}\n\nAddEditResource.propTypes = {\n  addNewResource: PropTypes.func.isRequired,\n  backToList: PropTypes.func.isRequired,\n  loadResource: PropTypes.func.isRequired,\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      mode: PropTypes.oneOf(['new', 'edit']).isRequired,\n      id: PropTypes.string\n    }).isRequired\n  }).isRequired,\n  resource: PropTypes.object.isRequired,\n  updateResource: PropTypes.func.isRequired\n};\nconst ConnectedAddEditResource = connect(state => ({\n  resource: state.resource.selectedResource\n}), {\n  loadResource,\n  updateResource,\n  addNewResource,\n  backToList\n})(AddEditResource);\nexport { ConnectedAddEditResource as AddEditResource, AddEditResource as AddEditResourceComponent };","import { Route, Switch } from 'react-router-dom';\nimport React from 'react'; // import PropTypes from 'prop-types'\n\nimport { DATA_SET_REPORT_SECTION_KEY, ORG_UNIT_DIST_REPORT_SECTION_KEY, REPORTING_RATE_SUMMARY_SECTION_KEY, RESOURCE_SECTION_KEY, STANDARD_REPORT_SECTION_KEY } from '../config/sections.config';\nimport { DataSetReport } from '../pages/DataSetReport';\nimport { OrganisationUnitDistributionReport } from '../pages/OrganisationUnitDistributionReport';\nimport { ReportingRateSummary } from '../pages/ReportingRateSummary';\nimport { Resource } from '../pages/Resource';\nimport { StandardReport } from '../pages/StandardReport';\nimport StyledHtmlReport from '../pages/standard-report/StyledHtmlReport';\nimport { sections } from '../config/sections.config';\nimport Home from '../pages/home/Home';\nimport NoMatch from './NoMatch';\nimport { ConnectedAddEditStdReport } from '../pages/standard-report/AddEditStdReport';\nimport { AddEditResource } from '../pages/resource/AddEditResource';\nconst standardReportPath = sections[STANDARD_REPORT_SECTION_KEY].path;\nconst resourcePath = sections[RESOURCE_SECTION_KEY].path;\n\nconst AppRouter = () => <main>\n        <Switch>\n            <Route key=\"home\" exact path=\"/\" component={Home} />\n            <Route exact key={STANDARD_REPORT_SECTION_KEY} path={standardReportPath} component={StandardReport} />\n            <Route exact key={`${STANDARD_REPORT_SECTION_KEY}-viewHTMLReport`} path={`${standardReportPath}/view/:id`} component={StyledHtmlReport} />\n            <Route exact key={`${STANDARD_REPORT_SECTION_KEY}-addEdit`} // /edit/id or /new\n    path={`${standardReportPath}/:mode/:id?`} component={ConnectedAddEditStdReport} />\n            <Route exact key={DATA_SET_REPORT_SECTION_KEY} path={sections[DATA_SET_REPORT_SECTION_KEY].path} component={DataSetReport} />\n            <Route exact key={REPORTING_RATE_SUMMARY_SECTION_KEY} path={sections[REPORTING_RATE_SUMMARY_SECTION_KEY].path} component={ReportingRateSummary} />\n            <Route exact key={RESOURCE_SECTION_KEY} path={resourcePath} component={Resource} />\n            <Route exact key={`${RESOURCE_SECTION_KEY}-addEdit`} // /edit/id or /new\n    path={`${resourcePath}/:mode/:id?`} component={AddEditResource} />\n            <Route exact key={ORG_UNIT_DIST_REPORT_SECTION_KEY} path={sections[ORG_UNIT_DIST_REPORT_SECTION_KEY].path} component={OrganisationUnitDistributionReport} />\n            <Route key=\"no-match-route\" component={NoMatch} />\n        </Switch>\n    </main>;\n\nexport default AppRouter;","import { sections } from '../../../config/sections.config';\nexport const getCurrentSection = state => state.router.location.pathname.substring(1);\nexport const getShowSidebar = state => !!sections[getCurrentSection(state)];","import _JSXStyle from \"styled-jsx/style\";\nimport { Link } from 'react-router-dom';\nimport { Sidebar } from '@dhis2/d2-ui-core';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport { Loader } from './components/feedback/Loader';\nimport { loadDataSetOptions } from './redux/actions/dataSet';\nimport { loadOrganisationUnits } from './redux/actions/organisationUnits';\nimport { loadPeriodTypes } from './redux/actions/reportPeriod';\nimport { sectionOrder, sections } from './config/sections.config';\nimport AppRouter from './components/AppRouter';\nimport { getCurrentSection, getShowSidebar } from './redux/selectors/sidebar'; // is not \"marked\" as required but it's used by Sidebar\n\nconst nonOnChangeSection = () => null;\n\nconst sidebarSections = sectionOrder.map(sectionKey => {\n  const section = sections[sectionKey];\n  return { ...section,\n    icon: section.info.icon,\n    label: section.info.label,\n    containerElement: <Link to={section.path} />\n  };\n});\n\nclass App extends PureComponent {\n  getChildContext() {\n    return {\n      d2: this.props.d2\n    };\n  }\n\n  componentDidMount() {\n    this.props.loadOrganisationUnits();\n    this.props.loadPeriodTypes();\n    this.props.loadDataSetOptions();\n  }\n\n  render() {\n    return <div>\n                {this.props.showSidebar && <Sidebar sections={sidebarSections} onChangeSection={nonOnChangeSection} currentSection={this.props.currentSection} />}\n                <div className={\"jsx-2459228718 \" + _JSXStyle.dynamic([[\"3655102473\", [this.props.showSidebar ? '295px' : '0']]]) + \" \" + \"content-wrapper\"}>\n                    <div className={\"jsx-2459228718 \" + _JSXStyle.dynamic([[\"3655102473\", [this.props.showSidebar ? '295px' : '0']]]) + \" \" + \"content-area\"}>\n                        <AppRouter />\n                    </div>\n                    <_JSXStyle id={\"3655102473\"} dynamic={[this.props.showSidebar ? '295px' : '0']}>{[`.content-wrapper.__jsx-style-dynamic-selector{margin-left:${this.props.showSidebar ? '295px' : '0'};}`, \".content-area.__jsx-style-dynamic-selector{padding:1rem 20px 20px;}\"]}</_JSXStyle>\n                    <_JSXStyle id={\"2459228718\"}>{[\"body{margin:0;padding:0;}\", \"html{background:#f3f3f3;font-family:'Roboto',sans-serif;}\", \"h1{font-size:24px;font-weight:300;-webkit-letter-spacing:1.2px;-moz-letter-spacing:1.2px;-ms-letter-spacing:1.2px;letter-spacing:1.2px;color:rgba(0,0,0,0.87);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:48px;}\", \".left-bar{width:295px;position:fixed;bottom:0;top:0;left:0;margin-top:3rem;}\", \".d2-ui-table{margin-bottom:0 !important;margin-top:0 !important;}\", \".d2-ui-table__rows__row{font-size:14px;}\", \".data-table-pager--page-info{padding:0 !important;}\", \".data-table-pager--buttons{margin-top:10px !important;margin-bottom:10px !important;}\", \".data-table-pager--buttons .material-icons{margin:0 !important;padding:0 !important;}\", \"#report-container table{width:100% !important;}\"]}</_JSXStyle>\n                </div>\n                <Loader />\n            </div>;\n  }\n\n}\n\nApp.propTypes = {\n  currentSection: PropTypes.string.isRequired,\n  d2: PropTypes.object.isRequired,\n  loadDataSetOptions: PropTypes.func.isRequired,\n  loadOrganisationUnits: PropTypes.func.isRequired,\n  loadPeriodTypes: PropTypes.func.isRequired,\n  showSidebar: PropTypes.bool.isRequired\n};\nApp.childContextTypes = {\n  d2: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  currentSection: getCurrentSection(state),\n  showSidebar: getShowSidebar(state)\n});\n\nexport default connect(mapStateToProps, {\n  loadOrganisationUnits,\n  loadPeriodTypes,\n  loadDataSetOptions\n})(App);","import 'material-design-icons-iconfont/dist/material-design-icons.css';\nimport 'flexboxgrid/css/flexboxgrid.css';\nimport './locales';\nimport React from 'react';\nimport { Provider } from 'react-redux';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { MuiThemeProvider as Mui3ThemeProvider, createMuiTheme as createMui3Theme } from '@material-ui/core/styles';\nimport { useConfig } from '@dhis2/app-runtime';\nimport { useD2 } from '@dhis2/app-runtime-adapter-d2';\nimport { mui3theme } from '@dhis2/d2-ui-core';\nimport D2UIApp from '@dhis2/d2-ui-app';\nimport { initApi } from './utils/api';\nimport history from './utils/history';\nimport injectTranslationsToD2 from './utils/injectTranslationsToD2';\nimport store from './redux/store';\nimport App from './App';\nconst MUI3Theme = createMui3Theme(mui3theme);\n\nconst AppWrapper = () => {\n  const {\n    baseUrl\n  } = useConfig();\n  const {\n    d2\n  } = useD2({\n    d2Config: {\n      baseUrl: baseUrl + '/api',\n      schemas: ['dataApprovalLevel', 'dataSet', 'organisationUnit', 'organisationUnitGroupSet', 'report', 'reportTable']\n    },\n    onInitialized: d2 => {\n      initApi(d2);\n      injectTranslationsToD2(d2);\n    }\n  });\n\n  if (!d2) {\n    return null;\n  }\n\n  return <D2UIApp>\n            <Mui3ThemeProvider theme={MUI3Theme}>\n                <Provider store={store}>\n                    <ConnectedRouter history={history}>\n                        <App d2={d2} />\n                    </ConnectedRouter>\n                </Provider>\n            </Mui3ThemeProvider>\n        </D2UIApp>;\n};\n\nexport default AppWrapper;"],"sourceRoot":""}