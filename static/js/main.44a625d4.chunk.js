(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1494:function(e,t){},1495:function(e,t){},1732:function(e,t,n){"use strict";n.r(t);n(809);var a,r=n(77),o=n(448),i=(n(927),n(0)),l=n.n(i),c=n(30),s=n.n(c),u=n(20),d=n(11),p=n(93),m=n(94),E=n(96),h=n(95),R=n(97),f=n(2),g=n.n(f),b=n(1737),S=n(50),O=n(23),y=n(740),_=n(735),T=n.n(_),v=n(1),A=n.n(v),D=n(21),N=["standard-report","data-set-report","reporting-rate-summary","resource","organisation-unit-distribution-report"],C=(a={},Object(D.a)(a,"standard-report",{key:"standard-report",path:"/".concat("standard-report"),info:{label:g.a.t("Standard Report"),icon:g.a.t("bar_chart"),description:g.a.t("View and add reports based on the JasperReports library. These can be based on report tables and can be designed in iReport."),actionText:g.a.t("View Reports"),docs:"using_reporting_standard_reports"}}),Object(D.a)(a,"data-set-report",{key:"data-set-report",path:"/".concat("data-set-report"),info:{label:g.a.t("Data Set Report"),icon:"assignment",description:g.a.t("View data set reports. These reports are based on data entry screens and will produce a report with aggregated data."),actionText:g.a.t("Get Report"),docs:"using_reporting_dataset_reports"}}),Object(D.a)(a,"reporting-rate-summary",{key:"reporting-rate-summary",path:"/".concat("reporting-rate-summary"),info:{label:g.a.t("Reporting Rate Summary"),description:g.a.t("Browse the reporting rates of data sets by organisation unit and period based on various criteria for submission."),actionText:g.a.t("Get Report"),icon:"format_list_bulleted",docs:"using_reporting_reporting_rate_summary"}}),Object(D.a)(a,"resource",{key:"resource",path:"/".concat("resource"),info:{label:g.a.t("Resource"),description:g.a.t("View and add resources. These resources can be uploaded documents or URLs on the web."),actionText:g.a.t("View Resources"),icon:"cloud_upload",docs:"using_reporting_resources"}}),Object(D.a)(a,"organisation-unit-distribution-report",{key:"organisation-unit-distribution-report",path:"/".concat("organisation-unit-distribution-report"),info:{label:g.a.t("Organisation Unit Distribution Report"),description:g.a.t("Browse the organisation unit distribution report based on the organisation unit group sets and its groups."),actionText:g.a.t("Get Report"),icon:"device_hub",docs:"using_reporting_orgunit_distribution_reports"}}),a),P=function(e){return e.router.location.pathname===C["organisation-unit-distribution-report"].path},x=function(e){return e.feedback.showLoader||function(e){return e.organisationUnits.loading||e.reportPeriod.loading||e.dataSet.loading||e.standardReport.loadingSendReport||e.resource.addEditLoading||P(e)&&e.orgUnitGroupSets.loading}(e)},w=Object(u.c)(function(e){return{show:x(e)}})(function(e){return e.show?l.a.createElement("div",{className:"loading-container"},l.a.createElement("div",{className:"progress-wrap"},l.a.createElement(O.CircularProgress,null)),l.a.createElement("style",{jsx:!0},"\n                .loading-container {\n                    position: fixed;\n                    top: 0;\n                    left: 0;\n                    height: 100%;\n                    width: 100%;\n                    background: rgba(0, 0, 0, 0.4);\n                    z-index: 3000;\n                }\n                .progress-wrap {\n                    position: absolute;\n                    top: 50%;\n                    left: 50%;\n                    transform: 'translate(-50%, -50%)';\n                }\n            ")):null}),j=g.a.t("Something went wrong when processing your request.");function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j,n=e.messages,a=e.httpStatusCode,r=e.message,o=a&&a>=400&&a<500||!a&&n&&n.length>0;return!r&&n&&n.length>0&&(r=n.map(function(e){return e.message}).join(", ")),o?r:t}var L,U,k=n(98),G=n(206),M=n.n(G),W=n(741),H=n(451),F=function(e){return e.toArray().map(function(e){return e.toJSON()})},B=["displayName","type","id","reportTable[id,displayName]","access"],q=function(e){return{reports:F(e),pager:{pageSize:e.pager.query.pageSize,page:e.pager.page,pageCount:e.pager.pageCount,total:e.pager.total}}},V=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return[].concat(Object(k.a)(e),Object(k.a)(Object.keys(t).map(function(e){return"".concat(e,":").concat(t[e])})))},[])},Y=function(e,t){var n=e.buildQuery(),a=Object.keys(n).reduce(function(e,t){return e+"&".concat(t,"=").concat(n[t])},""),r="".concat(te().baseUrl,"/").concat(e.buildUrl()).concat(a);return t.reduce(function(e,t){return e.push({extension:t,url:r.replace("analytics.json?","analytics.".concat(t,"?"))}),e},[])},Q=function(e){return e.includes("../api")?e.replace("../api",".."):e},z=function(e,t){var n=new FormData;return n.append("file",t),n.append("domain","DOCUMENT"),e.post("fileResources",n)},J=function(e,t){return Object(d.a)({},e,{url:t.id||e.url})},K=function(e,t,n){return n.map(function(n){return{extension:n,url:"".concat(te().baseUrl,"/").concat(e,".").concat(n,"?").concat(t)}})},X=function(e){return Object.keys(e).reduce(function(t,n){var a=Array.isArray(e[n])?e[n].join(";"):e[n];return t.push("".concat(n,"=").concat(a)),t},[]).join("&")},$=function(e){return"CUSTOM"===e},Z=["ACTUAL_REPORTS","EXPECTED_REPORTS","REPORTING_RATE","ACTUAL_REPORTS_ON_TIME","REPORTING_RATE_ON_TIME"],ee=function(){return L},te=function(){return U},ne=function(e){var t=$(e.dataSet.formType)?"".concat("dataSetReport","/custom"):"dataSetReport",n={ds:e.dataSet.id,pe:e.period,ou:e.orgUnit,selectedUnitOnly:e.selectedUnitOnly,filter:V(e.dataSetDimensions,e.orgUnitGroupsOptions)},a=$(e.dataSet.formType)?{headers:{Accept:"text/html"}}:{},r=function(e,t){var n=Object(d.a)({},t.dataSetDimensions,t.orgUnitGroupsOptions),a=X({ds:t.dataSet.id,pe:t.period,ou:t.orgUnit,selectedUnitOnly:t.selectedUnitOnly}),r=Object.keys(n).map(function(e){return"filter=".concat(e,":").concat(n[e])}).join("&"),o=r?"".concat(a,"&").concat(r):a;return K(e,o,["xls","pdf"])}("dataSetReport",e);return U.get(t,n,a).then(function(e){return{data:e,fileUrls:r}})},ae=function(){var e=Object(H.a)(M.a.mark(function e(t,n,a,r){var o,i,l,c,s,u,p,m;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t);case 2:for(c in o=e.sent,i=Z.map(function(e){return"".concat(n,".").concat(e)}),l=(new L.analytics.request).addDataDimension(i).addOrgUnitDimension(o).addPeriodFilter(a).withColumns("dx").withRows("ou").withTableLayout().withHideEmptyRows().withDisplayProperty("SHORTNAME").withIncludeNumDen(!1),r)r[c]&&l.addFilter(c,r[c]);return s=Y(l,["json","xls","csv"]),u=Object(W.a)(s),p=u[0].url,m=u.slice(1),e.abrupt("return",U.get(Q(p)).then(function(e){return Object(d.a)({},e,{fileUrls:m})}));case 9:case"end":return e.stop()}},e)}));return function(t,n,a,r){return e.apply(this,arguments)}}(),re=function(e){return(e.children.size?Promise.resolve(e.children):L.models.organisationUnits.get(e.id,{fields:["children[id]"]}).then(function(e){return e.children})).then(function(t){return[e.id].concat(Object(k.a)(t.toArray().map(function(e){return e.id})))})},oe=function(){var e=Object(H.a)(M.a.mark(function e(t,n,a){var r,o,i,l;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=4;break}e.t0=t.id,e.next=7;break;case 4:return e.next=6,re(t);case 6:e.t0=e.sent;case 7:return r=e.t0,"orgUnitAnalytics",o=X({ou:r,ougs:n,columns:n}),i="".concat("orgUnitAnalytics","?").concat(o),l=K("orgUnitAnalytics",o,["xls","pdf"]),e.abrupt("return",U.get(i).then(function(e){return Object(d.a)({},e,{fileUrls:l})}));case 13:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),ie=function(e,t){return e.post("documents",t)},le=function(e,t,n){return e.update("".concat("documents","/").concat(t),n)},ce="FEEDBACK_CLEAR",se="FEEDBACK_SHOW_LOADER",ue="FEEDBACK_SHOW_SNACKBAR",de=function(){return{type:ce}},pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ACTION_MESSAGE";return{type:ue,payload:{message:e,type:t}}},me=function(e){return pe(e,"SUCCESS")},Ee=function(e){return pe(e,"ERROR")},he=function(e){return pe(e,"ACTION_MESSAGE")},Re="SELECT_DATA_SET",fe="LOADING_DATA_SET_OPTIONS_START",ge="LOADING_DATA_SET_OPTIONS_SUCCESS",be="LOADING_DATA_SET_OPTIONS_ERROR",Se=function(e){return{type:Re,payload:e}},Oe=function(e){return function(t){var n=g.a.t("An error occurred whole loading the data set options"),a=I(e,n);t(Ee(a)),t({type:be})}},ye={LOADING_GROUP_SETS_START:"LOADING_GROUP_SETS_START",LOADING_GROUP_SETS_SUCCESS:"LOADING_GROUP_SETS_SUCCESS",LOADING_GROUP_SETS_ERROR:"LOADING_GROUP_SETS_ERROR",SET_GROUP_SET:"SET_GROUP_SET"},_e=g.a.t("An error occurred while loading the group sets!"),Te=function(){return function(e){return e({type:ye.LOADING_GROUP_SETS_START}),L.models.organisationUnitGroupSet.list({paging:!1,fields:"id,displayName,organisationUnitGroups[id,displayName]"}).then(function(t){return e((n=t.toArray(),{type:ye.LOADING_GROUP_SETS_SUCCESS,payload:n}));var n}).catch(function(t){return e(function(e){return function(t){var n=I(e,_e);t(Ee(n)),t({type:ye.LOADING_GROUP_SETS_ERROR,payload:n})}}(t))})}},ve={ORGANISATION_UNITS_LOADING_START:"ORGANISATION_UNITS_LOADING_START",ORGANISATION_UNITS_RECEIVED:"ORGANISATION_UNITS_RECEIVED",ORGANISATION_UNITS_ERRORED:"ORGANISATION_UNITS_ERRORED",ORGANISATION_UNIT_SELECTED:"ORGANISATION_UNIT_SELECTED",ORGANISATION_UNITS_OPTION_SELECTED:"ORGANISATION_UNITS_OPTION_SELECTED",TOGGLE_SHOW_OPTIONS:"TOGGLE_SHOW_OPTIONS"},Ae=(g.a.t("Could not load organisation units"),g.a.t("An error occurred while loading the organisation units!")),De=function(e){return function(t){var n=I(e,Ae);t(Ee(n)),t({type:ve.ORGANISATION_UNITS_ERRORED})}},Ne={REPORT_PERIOD_TYPES_LOADING_START:"REPORT_PERIOD_TYPES_LOADING_START",REPORT_PERIOD_TYPES_RECEIVED:"REPORT_PERIOD_TYPES_RECEIVED",REPORT_PERIOD_TYPES_ERRORED:"REPORT_PERIOD_TYPES_ERRORED",REPORT_PERIOD_TYPE_SELECTED:"REPORT_PERIOD_TYPE_SELECTED",REPORT_PERIOD_SELECTED:"REPORT_PERIOD_SELECTED"},Ce=g.a.t("Could not load period types"),Pe=function(e){return function(t){var n=I(e,Ce);t(Ee(n)),t({type:Ne.REPORT_PERIOD_TYPES_ERRORED})}},xe=n(1736),we=n(1738),je=n(68),Ie=n.n(je),Le=function(){var e=L.system.version,t=e.major,n=e.minor;return e.snapshot?"master":"".concat(t,".").concat(n)},Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n="".concat("https://ci.dhis2.org/docs","/").concat(Le(),"/").concat(t,"/user/html/");return"".concat(n).concat(C[e].info.docs,".html")},ke=function(e){return l.a.createElement("a",{className:"helper-icon material-icons",href:e.url,target:"_blank",rel:"noopener noreferrer"},"help",l.a.createElement("style",{jsx:!0},"\n            a {\n                padding-left: 12px;\n                color: #276696;\n                text-decoration: none;\n            }\n        "))},Ge=function(e){return l.a.createElement("h1",null,e.showBackButton&&l.a.createElement("span",{id:"back-button",className:"material-icons back-button",role:"button",tabIndex:"0",onClick:e.onBackClick},"arrow_back"),e.label,l.a.createElement(ke,{url:Ue(e.sectionKey)}),l.a.createElement("style",{jsx:!0},"\n            .back-button {\n                cursor: pointer;\n                outline: none;\n            }\n        "))};Ge.defaultProps={showBackButton:!1,onBackClick:function(){}};var Me=function(e){var t=e.showSnackbar,n=e.message,a=e.type,r=e.action,o=e.onActionClick,i=e.onClose,c={message:n,type:a,action:r,onActionClick:o};return l.a.createElement("span",{id:"feedbackSnackbarId"},l.a.createElement(O.FeedbackSnackbar,{onClose:i,show:t,conf:c}))};Me.defaultProps={action:"",onActionClick:function(){return null}};var We={onClose:de},He=Object(u.c)(function(e){var t=e.feedback;return{showSnackbar:t.showSnackbar,message:t.message,type:t.type}},We)(Me),Fe="LOADING_DIMENSIONS_START",Be="LOADING_DIMENSIONS_SUCCESS",qe="LOADING_DIMENSIONS_ERROR",Ve="SELECT_DIMENSION_OPTION",Ye=function(e){return function(t){var n=g.a.t("An error occurred while loading the data set dimensions"),a=I(e,n);t(pe(a,"WARNING")),t({type:qe})}},Qe=function(){return function(e,t){e({type:Fe});var n,a=t().dataSet;return(n=a.selected.id,U.get("dimensions/dataSet/".concat(n),{fields:["id","displayName","items[id,displayName]"].join(","),order:"name:asc",paging:!1}).then(function(e){return e.dimensions})).then(function(t){return e(function(e){return{type:Be,payload:e}}(t))}).catch(function(t){return e(Ye(t))})}},ze=(n(207),"LOADING_REPORT_DATA_START"),Je="LOADING_REPORT_DATA_SUCCESS",Ke="LOADING_REPORT_DATA_ERROR",Xe="SET_DATA_SET_REPORT_COMMENT",$e="SHARING_DATA_SET_REPORT_COMMENT_SUCCESS",Ze="SHARING_DATA_SET_REPORT_COMMENT_START",et="SHARING_DATA_SET_REPORT_COMMENT_ERROR",tt="UNSET_REPORT_DATA",nt=function(){return{type:ze}},at=function(e){return{type:Je,payload:e}},rt=function(){return{type:Ke}},ot=function(e,t){return function(n){var a=g.a.t("Successfully loaded the {{ outputType }}",{outputType:t?g.a.t("chart"):g.a.t("table")});n(me(g.a.t(a))),n(at(e))}},it=function(e){return function(t){var n=g.a.t("An error occurred while loading the report!"),a=I(e,n);t(Ee(a)),t(rt())}},lt=function(){return function(e){e({type:se}),e({type:Ze})}},ct=function(){return function(e){e(me(g.a.t("Successfully added comment"))),e({type:$e})}},st=function(e){return function(t){var n=g.a.t("An error occurred while submitting your comment!"),a=I(e,n);t(Ee(a)),t({type:et})}},ut="TOGGLE_SELECTED_UNIT_ONLY",dt=function(e){return function(t,n){var a=n(),r=a.dataSet,o=a.organisationUnits,i=a.reportPeriod,l=r.selected.id,c=o.selected.id,s=i.selectedPeriod;return t(lt()),function(e,t,n,a){var r=function(e,t,n){return"interpretations/dataSetReport/".concat(e,"?pe=").concat(n,"&ou=").concat(t)}(e,t,n);return U.post(r,a,{headers:{"Content-Type":"text/plain"}})}(l,c,s,e).then(function(){return t(ct())}).catch(function(e){return t(st(e))})}},pt=function(e){return!(!e.organisationUnits.selected||!e.dataSet.selected.id||!e.reportPeriod.selectedPeriod||e.dataSet.loading||e.dataSetDimensions.loading||e.reportData.loading)},mt=n(78),Et=n.n(mt);function ht(){var e=null,t=null;return{hasValidCacheFor:function(t){return!!e&&t===e},getCachedResult:function(){return t},setCachedResult:function(n,a){e=n,t=a}}}var Rt=function(e){return!!e&&!!e.data&&"string"===typeof e.data},ft=ht();function gt(e){var t=e.reportData.content;if(Et()(t)||Rt(t))return t;if(ft.hasValidCacheFor(t))return ft.getCachedResult();var n=t.data.map(bt);return ft.setCachedResult(t,n),n}function bt(e){return{title:e.title,headers:e.headers.map(function(e){return e.column}),rows:e.rows.map(function(e){return e.map(function(e){return e||0===e?e:""})})}}var St=Object(u.c)(function(e){return{isHtmlReport:Rt(e.reportData.content),reportContent:gt(e),fileUrls:e.reportData.content.fileUrls||[],isReportLoading:e.reportData.loading,reportComment:e.reportData.comment,selectedUnitOnly:e.dataSetReport.selectedUnitOnly,isActionEnabled:pt(e)}},function(e){return{loadReportData:function(){return e(function(e,t){e(nt());var n=t(),a=n.dataSet,r=n.dataSetDimensions,o=n.dataSetReport,i=n.organisationUnits,l=n.reportPeriod;return ne({dataSet:a.selected,dataSetDimensions:r.selected,orgUnitGroupsOptions:i.selectedOptions,orgUnit:i.selected.id,period:l.selectedPeriod,selectedUnitOnly:o.selectedUnitOnly}).then(function(t){return e(ot(t))}).catch(function(t){return e(it(t))})})},selectDataSet:function(t){return e((n=t.target.value,function(e,t){e(Se(n));var a=t().dataSet;e(Qe(a.selected.id))}));var n},toggleSelectedUnitOnly:function(t,n){return e(function(e){return{type:ut,payload:e}}(n))},shareDataSetReportComment:function(t){return e(dt(t))},setDataSetReportComment:function(t){return e(function(e){return{type:Xe,payload:e}}(t))}}}),Ot=n(32),yt=n.n(Ot),_t={styles:l.a.createElement(yt.a,{id:"4279021995"},[".jsx-4279021995{text-align:left;color:#757575;margin-bottom:5px;font-size:14px;}"]),className:"jsx-4279021995"},Tt={styles:l.a.createElement(yt.a,{id:"3946435532"},[".jsx-3946435532{padding:16px;}"]),className:"jsx-3946435532"},vt={styles:l.a.createElement(yt.a,{id:"2551733070"},[".jsx-2551733070{box-sizing:border-box;display:inline-block;position:relative;min-width:200px;min-height:218px;height:100%;padding-left:30px;padding-right:30px;padding-bottom:20px;background-color:#ffffff;box-shadow:rgba(0,0,0,0.12) 0px 1px 6px, rgba(0,0,0,0.12) 0px 1px 4px;border-radius:5px;width:100%;}"]),className:"jsx-2551733070"},At={styles:l.a.createElement(yt.a,{id:"3492242264"},[".jsx-3492242264{display:block;margin-top:48px;margin-bottom:16px;}"]),className:"jsx-3492242264"},Dt=(A.a.oneOfType([A.a.arrayOf(A.a.node),A.a.node]),A.a.oneOfType([A.a.string,A.a.array,A.a.object]),A.a.shape({name:A.a.string.isRequired,value:A.a.string.isRequired,onBlur:A.a.func.isRequired,onFocus:A.a.func.isRequired,onChange:A.a.func.isRequired}),A.a.shape({error:A.a.string,touched:A.a.bool.isRequired}),A.a.shape({value:A.a.string.isRequired,label:A.a.string.isRequired})),Nt=(A.a.arrayOf(Dt),g.a.t("Download as")),Ct=function(e){var t=e.file;return l.a.createElement("a",{className:"download-button",href:t.url,download:!0,tabIndex:"0",target:"pdf"===t.extension?"_blank":"_self"},Nt," ",t.extension,l.a.createElement("style",{jsx:!0},"\n            .download-button {\n                cursor: pointer;\n                outline: none;\n                color: #757575;\n                font-size: 12px;\n                text-transform: uppercase;\n                margin-left: 8px;\n            }\n        "))},Pt=function(e){var t=e.fileUrls;return l.a.createElement("div",{id:"download-options-container"},t.map(function(e,t){return l.a.createElement(Ct,{file:e,key:t})}),l.a.createElement("style",{jsx:!0},"\n            div {\n                display: flex;\n                justify-content: flex-end;\n            }\n        "))},xt=function(e){var t=e.cells;return l.a.createElement("tr",null,t.map(function(e,t){return l.a.createElement("td",{key:"c-".concat(e,"-").concat(t)},e)}))},wt=function(e){var t=e.content,n=t.title,a=t.headers,r=t.rows;return l.a.createElement(i.Fragment,null,l.a.createElement("h1",null,n),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,a.map(function(e,t){return l.a.createElement("th",{key:"h-".concat(e,"-").concat(t)},e)}))),l.a.createElement("tbody",null,r.map(function(e,t){return l.a.createElement(xt,{cells:e,key:"r-".concat(e[0],"-").concat(t)})}))),l.a.createElement("style",{jsx:!0},"\n            table {\n                border-collapse: collapse;\n            }\n            tr {\n                border-bottom: 2px solid #e0e0e0;\n            }\n            tbody :global(tr) {\n                border-bottom: 1px solid #e0e0e0;\n            }\n            th,\n            tbody :global(td) {\n                border: none;\n                font-size: 14px;\n                padding: 16px 16px;\n            }\n            th {\n                text-align: left;\n                font-weight: bold;\n            }\n            tbody :global(td):not(:first-child),\n            thead :global(th):not(:first-child) {\n                text-align: center;\n            }\n        "))},jt=g.a.t("Share"),It=g.a.t("Write a comment, question or interpretation of this report"),Lt=function(e){return l.a.createElement("div",{id:"share-component"},l.a.createElement("div",null,l.a.createElement(O.InputField,{placeholder:It,type:"text",multiline:!0,fullWidth:!0,value:e.comment,onChange:e.setDataSetReportComment}),l.a.createElement(O.Button,{raised:!0,color:"primary",onClick:e.shareDataSetReportComment,disabled:(t=e.comment,!t.trim())},jt)),l.a.createElement("style",{jsx:!0},"\n            div > div {\n                margin: 16px 0;\n            }\n        "));var t},Ut=function(e){var t=e.isLoading,n=e.content,a=e.children;return t?l.a.createElement("div",{className:"report-loader"},l.a.createElement(O.CircularProgress,null),l.a.createElement("style",{jsx:!0},"\n                    div {\n                        margin: 48px 0;\n                        text-align: center;\n                    }\n                ")):Et()(n)?null:a},kt=function(e){return l.a.createElement(Ut,{content:e.content,isLoading:e.isLoading},l.a.createElement("div",{className:"tabular-report"},l.a.createElement(Lt,{comment:e.reportComment,shareDataSetReportComment:e.shareDataSetReportComment,setDataSetReportComment:e.setDataSetReportComment}),l.a.createElement(Pt,{fileUrls:e.fileUrls}),e.isHtmlReport?l.a.createElement("div",{className:"dataset-html-report",dangerouslySetInnerHTML:{__html:e.content.data}}):!!e.content.length&&e.content.map(function(e){return l.a.createElement(wt,{key:e.title,content:e})})),l.a.createElement("style",{jsx:!0},"\n            .dataset-html-report :global(table) {\n                margin-top: 16px;\n                border-collapse: collapse;\n            }\n            .dataset-html-report :global(table) :global(td),\n            .dataset-html-report :global(table) :global(th) {\n                border: 1px solid #bcbcbc;\n                padding: 4px;\n            }\n        "))},Gt=g.a.t("Loading options..."),Mt=g.a.t("Select Data Set"),Wt=function(e){return l.a.createElement("div",null,l.a.createElement("span",{className:_t.className},e.label),l.a.createElement(O.DropDown,{fullWidth:e.fullWidth,value:e.selected.id,onChange:e.onChange?e.onChange:e.selectDataSet,menuItems:e.options,hintText:e.loading?Gt:Mt,disabled:e.loading}),_t.styles)};Wt.defaultProps={onChange:null,label:g.a.t("Data set"),fullWidth:!0,filter:null};var Ht=Object(u.c)(function(e){var t=e.dataSet;return{loading:t.loading,selected:t.selected,options:t.options}},function(e){return{selectDataSet:function(t){return e(Se(t.target.value))}}})(Wt),Ft=n(742),Bt=n(130),qt=n.n(Bt),Vt=function(e){return l.a.createElement("div",{key:e.dimension.id,className:"data-set-dimension"},l.a.createElement("span",{className:_t.className},e.dimension.displayName),l.a.createElement(O.DropDown,{fullWidth:e.fullWidth,value:e.values[e.dimension.id],onChange:e.onChange,menuItems:e.dimension.items,includeEmpty:!0,emptyLabel:g.a.t("Select Option"),hintText:g.a.t("Select Option")}),_t.styles)},Yt=function(e){return e.isLoading?l.a.createElement("div",null,l.a.createElement(qt.a,{size:24,thickness:3}),l.a.createElement("style",{jsx:!0},"\n                    div {\n                        margin-bottom: 16px;\n                        text-align: center;\n                    }\n                ")):0===e.options.length?l.a.createElement("div",{className:"no-results"},g.a.t("No dimensions connected to the current data set"),l.a.createElement("style",{jsx:!0},"\n                    div {\n                        margin-bottom: 16px;\n                        font-style: italic;\n                        font-size: 13px;\n                        color: #757575;\n                    }\n                ")):l.a.createElement("div",{className:"box"},e.options.map(function(t){return l.a.createElement(Vt,{key:t.id,dimension:t,fullWidth:e.fullWidth,values:e.selected,onChange:(n=e.onChange,a=t.id,function(e){return n(a,e)})});var n,a}),l.a.createElement("style",{jsx:!0},"\n                div {\n                    border: 1px solid #bcbcbc;\n                    padding: 4px;\n                    margin-bottom: 16px;\n                }\n            "))},Qt=function(e){var t=e.hide,n=Object(Ft.a)(e,["hide"]);return t?null:l.a.createElement(l.a.Fragment,null,l.a.createElement("h6",{className:"header"},g.a.t("Data set dimensions")),l.a.createElement(Yt,n),l.a.createElement("style",{jsx:!0},"\n                h6 {\n                    color: #757575;\n                    font-size: 14px;\n                    margin-bottom: 5px;\n                    margin-top: 0;\n                    text-align: left;\n                    font-weight: normal;\n                }\n            "))};Qt.defaultProps={fullWidth:!0};var zt=Object(u.c)(function(e){return{hide:!e.dataSet.selected.id,isLoading:e.dataSetDimensions.loading,options:e.dataSetDimensions.options,selected:e.dataSetDimensions.selected}},function(e){return{onChange:function(t,n){return e((a=t,r=n.target.value,{type:Ve,payload:{dimension:a,value:r}}));var a,r}}})(Qt),Jt=n(727),Kt=n.n(Jt),Xt={Daily:g.a.t("Daily"),Weekly:g.a.t("Weekly"),WeeklyWednesday:g.a.t("Weekly Wednesday"),WeeklyThursday:g.a.t("Weekly Thursday"),WeeklySaturday:g.a.t("Weekly Saturday"),WeeklySunday:g.a.t("Weekly Sunday"),BiWeekly:g.a.t("Bi-Weekly"),Monthly:g.a.t("Monthly"),BiMonthly:g.a.t("Bi-Monthly"),Quarterly:g.a.t("Quarterly"),SixMonthly:g.a.t("Six-Monthly"),SixMonthlyApril:g.a.t("Six-Monthly April"),SixMonthlyNov:g.a.t("Six-Monthly November"),Yearly:g.a.t("Yearly"),FinancialApril:g.a.t("Financial-April"),FinancialJuly:g.a.t("Financial-July"),FinancialOct:g.a.t("Financial-Oct")},$t=function(e){return e.reportPeriod.collection.map(function(e){return{id:e.name,displayName:Xt[e.name]}})},Zt=g.a.t("Select Period Type");var en=Object(u.c)(function(e){return Object(d.a)({},e.reportPeriod,{collection:$t(e)})},{selectPeriodType:function(e){return{type:Ne.REPORT_PERIOD_TYPE_SELECTED,payload:e.target.value}},selectPeriod:function(e){return{type:Ne.REPORT_PERIOD_SELECTED,payload:e}}})(function(e){var t=e.selectPeriodType,n=e.selectPeriod,a=e.label,r=e.collection,o=e.selectedPeriodType,i=e.selectedPeriod;return l.a.createElement("div",null,l.a.createElement("span",{className:_t.className},a),l.a.createElement(O.DropDown,{fullWidth:!0,emptyLabel:Zt,hintText:Zt,menuItems:r,onChange:t,value:o}),o&&l.a.createElement(O.PeriodPicker,{periodType:o,onPickPeriod:n}),i&&l.a.createElement("div",{className:"parsed-period"},Kt()(i).name),l.a.createElement("style",{jsx:!0},"\n                .parsed-period {\n                    margin-bottom: 16px;\n                }\n            "),_t.styles)}),tn=n(728);var nn=Object(u.c)(function(e){var t=e.organisationUnits;return{loading:t.loading,collection:t.collection,selected:t.selected}},{selectOrganisationUnit:function(e,t){var n=t.id,a=t.path,r=t.displayName,o=t.children;return{type:ve.ORGANISATION_UNIT_SELECTED,payload:{id:n,path:a,displayName:r,children:o}}}})(function(e){var t=e.selectOrganisationUnit,n=e.loading,a=e.collection,r=e.selected;return n?l.a.createElement("span",null,g.a.t("Updating Organisation Units Tree...")):l.a.createElement("div",{className:"org-unit-tree-wrapper"},l.a.createElement(tn.OrgUnitTreeMultipleRoots,{hideMemberCount:!0,roots:a,selected:r?[r.path]:[],initiallyExpanded:a.map(function(e){return"/".concat(e.id)}),onSelectClick:t}),l.a.createElement("style",{jsx:!0},"\n                div {\n                    border: 1px solid #bcbcbc;\n                    overflow: auto;\n                    width: 100%;\n                    box-sizing: border-box;\n                    font-weight: 300;\n                }\n            "))}),an=n(729),rn=g.a.t("Select Option"),on=function(e){var t=e.groupSet,n=e.fullWidth,a=e.value,r=e.onChange;return l.a.createElement("div",{key:t.id},l.a.createElement("span",{className:_t.className},t.displayName),l.a.createElement(O.DropDown,{fullWidth:n,value:a,onChange:r,menuItems:t.organisationUnitGroups,includeEmpty:!0,emptyLabel:rn,hintText:rn}),_t.styles)};on.defaultProps={value:""};var ln=function(e){var t=e.groupSets,n=e.isLoading,a=e.selectGroupSet,r=e.values,o=e.fullWidth;return n?l.a.createElement("div",null,l.a.createElement(an.a,{size:24,thickness:3}),l.a.createElement("style",{jsx:!0},"\n                div {\n                    padding-top: 16px;\n                    text-align: center;\n                }\n            ")):t.map(function(e){return l.a.createElement(on,{groupSet:e,key:e.id,onChange:(t=e.id,n=a,function(e){n(t,e.target.value)}),value:r[e.id],fullWidth:o});var t,n})};ln.defaultProps={fullWidth:!0};var cn=Object(u.c)(function(e){return{isLoading:e.orgUnitGroupSets.loading,groupSets:e.orgUnitGroupSets.collection,values:e.organisationUnits.selectedOptions}},{selectGroupSet:function(e,t){return{type:ve.ORGANISATION_UNITS_OPTION_SELECTED,payload:{id:e,value:t}}}})(ln),sn=function(e){return e?"show-options":"hide-options"},un=Object(u.c)(function(e){return{showOptions:e.organisationUnits.showOptions,isLoadingOptions:e.orgUnitGroupSets.loading}},{toggleShowOptions:function(){return function(e,t){var n=t().orgUnitGroupSets;e({type:ve.TOGGLE_SHOW_OPTIONS}),0===n.collection.length&&e(Te())}}})(function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:_t.className},g.a.t("Report organisation unit")),l.a.createElement(nn,null),l.a.createElement("div",null,!e.isLoadingOptions&&l.a.createElement("span",{id:"extra-options-action",className:"show-more-options-button",role:"button",tabIndex:"0",onClick:e.toggleShowOptions},e.showOptions?g.a.t("Show fewer options"):g.a.t("Show more options")),l.a.createElement("div",{id:"extra-options",className:sn(e.showOptions)},l.a.createElement(cn,null))),_t.styles,l.a.createElement("style",{jsx:!0},"\n            .hide-options {\n                display: none;\n            }\n            .show-options {\n                display: block;\n            }\n            .show-more-options-button {\n                display: block;\n                cursor: pointer;\n                color: #004ba0;\n                margin-top: 5;\n                margin-bottom: 5;\n                outline: none;\n            }\n        "))}),dn=function(e){return l.a.createElement("div",{id:"data-set-report-form"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12 col-md-6"},l.a.createElement(un,null)),l.a.createElement("div",{className:"col-xs-12 col-md-6"},l.a.createElement("div",{id:"data-set-selection"},l.a.createElement(Ht,{onChange:e.onDataSetChange})),l.a.createElement("div",{id:"data-set-dimensions-container"},l.a.createElement(zt,null)),l.a.createElement("div",{id:"report-period"},l.a.createElement(en,{label:g.a.t("Report period")})),l.a.createElement(O.CheckBox,{id:"selected-unit-only",onChange:e.onSelectedUnitOnlyChange,value:e.selectedUnitOnly,label:g.a.t("Use data for selected unit only")}))),l.a.createElement("div",{id:"main-action-button"},l.a.createElement(O.Button,{id:"main-action-button",raised:!0,color:"primary",onClick:e.onGetReportClick,disabled:e.isGetReportDisabled},g.a.t("Get Report")),l.a.createElement("style",{jsx:!0},"\n                div {\n                    display: block;\n                    margin-top: 48px;\n                    margin-bottom: 16px;\n                }\n            ")))},pn=St(function(e){return l.a.createElement("div",null,l.a.createElement(Ge,{label:C["data-set-report"].info.label,sectionKey:"data-set-report"}),l.a.createElement(Ie.a,{className:Tt.className},l.a.createElement("div",{id:"data-set-report-form"},l.a.createElement(dn,{selectedUnitOnly:e.selectedUnitOnly,onDataSetChange:e.selectDataSet,onSelectedUnitOnlyChange:e.toggleSelectedUnitOnly,onGetReportClick:e.loadReportData,isGetReportDisabled:!e.isActionEnabled})),l.a.createElement(kt,{isHtmlReport:e.isHtmlReport,content:e.reportContent,isLoading:e.isReportLoading,fileUrls:e.fileUrls,reportComment:e.reportComment,shareDataSetReportComment:e.shareDataSetReportComment,setDataSetReportComment:e.setDataSetReportComment}),Tt.styles),l.a.createElement(He,null))}),mn=g.a.t("Group Set"),En=g.a.t("Select Group Set"),hn=function(e){return l.a.createElement("div",null,l.a.createElement("span",{className:_t.className},mn),l.a.createElement(O.DropDown,{fullWidth:e.fullWidth,value:e.selected,onChange:e.selectGroupSet,menuItems:e.collection,includeEmpty:!0,emptyLabel:En,hintText:En}),_t.styles)};hn.defaultProps={fullWidth:!0};var Rn=Object(u.c)(function(e){return{collection:e.orgUnitGroupSets.collection,selected:e.orgUnitGroupSets.selected}},function(e){return{selectGroupSet:function(t){return e((n=t.target.value,{type:ye.SET_GROUP_SET,payload:n}));var n}}})(hn),fn=function(e){return l.a.createElement("div",{id:"org-unit-dist-report-form"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12 col-md-6"},l.a.createElement("div",{className:_t.className},g.a.t("Report organisation unit")),l.a.createElement(nn,null)),l.a.createElement("div",{className:"col-xs-12 col-md-6"},l.a.createElement("div",{id:"group-sets-selection"},l.a.createElement(Rn,null)))),l.a.createElement("div",{id:"actions",className:At.className},l.a.createElement(O.Button,{raised:!0,color:"primary",onClick:e.onGetReportClick,disabled:!e.isActionEnabled},g.a.t("Get Report")),l.a.createElement(O.Button,{raised:!0,color:"accent",onClick:e.onGetChartClick,disabled:!e.isActionEnabled},g.a.t("Get Chart"))),_t.styles,At.styles,l.a.createElement("style",{jsx:!0},"\n            div #actions :global(.d2-ui-button):first-child {\n                margin-right: 16px;\n            }\n        "))},gn="SET_TABULAR_OUTPUT",bn="SET_CHART_OUTPUT",Sn=function(){return function(e,t){e(nt());var n=t(),a=n.organisationUnits,r=n.orgUnitGroupSets,o=n.orgUnitDistReport.shouldShowChart,i=a.selected,l=r.selected;return oe(i,l,o).then(function(t){return e(ot(t,o))}).catch(function(t){return e(it(t))})}},On=function(e){return!(!e.organisationUnits.selected||!e.orgUnitGroupSets.selected||e.reportData.loading)};function yn(e){return[e.reportData.content.headers[1].column,e.organisationUnits.selected.displayName].join(" - ")}var _n=g.a.t("Organisation Unit"),Tn=g.a.t("Total"),vn=ht();function An(e){var t=e.reportData.content;if(Et()(t))return t;if(vn.hasValidCacheFor(t))return vn.getCachedResult();var n,a={title:yn(e),headers:(n=t.headers,[].concat(Object(k.a)(n.map(function(e){return"ou"===e.name?_n:e.column})),[Tn])),rows:Dn(e)};return vn.setCachedResult(t,a),a}function Dn(e){var t=e.reportData.content.rows,n=e.organisationUnits.selected.displayName;return t.map(Nn).sort(function(e,t){return function(e,t,n){var a=e[0].toUpperCase(),r=t[0].toUpperCase(),o=n.toUpperCase();return r===o?-1:a===o?1:a.localeCompare(r)}(e,t,n)})}function Nn(e){var t=e.reduce(function(e,t,n){if(0===n)e.cells.push(t);else{var a=t?parseInt(t,10):0;e.cells.push(a),e.total+=a}return e},{cells:[],total:0});return[].concat(Object(k.a)(t.cells),[t.total])}var Cn="'Roboto', sans-serif",Pn="39, 102, 150",xn=ht();function wn(e){var t=e.reportData.content;if(Et()(t))return t;if(xn.hasValidCacheFor(t))return xn.getCachedResult();var n=function(e,t,n){return{data:{labels:e,datasets:[{label:g.a.t("Count"),backgroundColor:"rgba(".concat(Pn,", 0.6)"),borderColor:"rgb(".concat(Pn,")"),borderWidth:1,hoverBackgroundColor:"rgba(".concat(Pn,", 0.8)"),data:t}]},options:{title:{display:!0,text:n,fontSize:"16",fontFamily:Cn},legend:{position:"bottom",fontFamily:Cn},animation:{duration:180}}}}(t.headers.reduce(function(e,t,n){return n>0&&e.push(t.column),e},[]),t.rows[0].reduce(function(e,t,n){return n>0&&e.push(parseInt(t,10)),e},[]),yn(e));return xn.setCachedResult(t,n),n}var jn={loadChart:function(){return function(e){e({type:bn}),e(Sn())}},loadTable:function(){return function(e){e({type:gn}),e(Sn())}},loadGroupSetOptions:Te},In=Object(u.c)(function(e){return{shouldShowChart:e.orgUnitDistReport.shouldShowChart,loading:e.reportData.loading,reportContent:e.orgUnitDistReport.shouldShowChart?wn(e):An(e),fileUrls:e.reportData.content.fileUrls||[],isActionEnabled:On(e),groupSetsReady:!!e.orgUnitGroupSets.collection.length}},jn),Ln=n(730),Un=function(e){var t=e.content,n=e.isLoading;return l.a.createElement(Ut,{content:t,isLoading:n},l.a.createElement("div",{className:"chart"},l.a.createElement(Ln.a,{data:t.data,options:t.options})))},kn=function(e){var t=e.content,n=e.isLoading,a=e.fileUrls;return l.a.createElement(Ut,{content:t,isLoading:n},l.a.createElement("div",{className:"tabular-report"},l.a.createElement(Pt,{fileUrls:a}),l.a.createElement(wt,{content:t})))},Gn=In(function(e){function t(){return Object(p.a)(this,t),Object(E.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.groupSetsReady||this.props.loadGroupSetOptions()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(Ge,{label:C["organisation-unit-distribution-report"].info.label,sectionKey:"organisation-unit-distribution-report"}),l.a.createElement(Ie.a,{className:Tt.className},l.a.createElement(fn,{isActionEnabled:this.props.isActionEnabled,onGetReportClick:this.props.loadTable,onGetChartClick:this.props.loadChart}),l.a.createElement("div",{id:"report-container"},!this.props.shouldShowChart&&l.a.createElement(kn,{content:this.props.reportContent,isLoading:this.props.loading,fileUrls:this.props.fileUrls}),this.props.shouldShowChart&&l.a.createElement(Un,{content:this.props.reportContent,isLoading:this.props.loading}))),l.a.createElement(He,null),Tt.styles)}}]),t}(l.a.Component)),Mn=function(e){return l.a.createElement("div",{id:"report-rate-summary-form"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12 col-md-6"},l.a.createElement(un,null)),l.a.createElement("div",{className:"col-xs-12 col-md-6"},l.a.createElement("div",{id:"data-set-selection"},l.a.createElement(Ht,null)),l.a.createElement("div",{id:"report-period"},l.a.createElement(en,{label:g.a.t("Report period")})))),l.a.createElement("div",{id:"main-action-button",className:At.className},l.a.createElement(O.Button,{raised:!0,color:"primary",onClick:e.loadReportData,disabled:!e.isActionEnabled},g.a.t("Get Report"))),At.styles)};Mn.defaultProps={showForm:!0};var Wn=function(e){return!(!(e.organisationUnits.selected&&e.reportPeriod.selectedPeriod&&e.dataSet.selected.id)||e.reportData.loading)},Hn=ht(),Fn=g.a.t("Name"),Bn=[1,4,5,6,7,8];function qn(e){var t=e.reportData.content;if(Et()(t))return t;if(Hn.hasValidCacheFor(t))return Hn.getCachedResult();var n,a={title:Vn(e),headers:Yn(t),rows:(n=t.rows,n.map(function(e){return Bn.reduce(function(t,n){return t.push(e[n]),t},[])}).sort(function(e,t){return parseFloat(t[t.length-1])-parseFloat(e[e.length-1])}))};return Hn.setCachedResult(t,a),a}function Vn(e){return[e.organisationUnits.selected.displayName,e.dataSet.selected.displayName,e.reportData.content.title].join(" - ")}function Yn(e){return e.metaData.dimensions.dx.reduce(function(t,n){return t.push(e.metaData.items[n].name),t},[Fn])}var Qn,zn=Object(u.c)(function(e){return{reportContent:qn(e),fileUrls:e.reportData.content.fileUrls||[],isReportLoading:e.reportData.loading,isActionEnabled:Wn(e)}},function(e){return{loadReportData:function(){return e(function(e,t){e(nt());var n=t(),a=n.organisationUnits,r=n.dataSet,o=n.reportPeriod;return ae(a.selected,r.selected.id,o.selectedPeriod,a.selectedOptions).then(function(t){return e(ot(t))}).catch(function(t){return e(it(t))})})}}})(function(e){return l.a.createElement("div",null,l.a.createElement(Ge,{label:C["reporting-rate-summary"].info.label,sectionKey:"reporting-rate-summary"}),l.a.createElement(Ie.a,{className:Tt.className},l.a.createElement(Mn,{loadReportData:e.loadReportData,isActionEnabled:e.isActionEnabled}),l.a.createElement(kn,{content:e.reportContent,isLoading:e.isReportLoading,fileUrls:e.fileUrls})),l.a.createElement(He,null),Tt.styles)}),Jn=n(271),Kn=n.n(Jn),Xn={GO_TO_NEXT_PAGE:"GO_TO_NEXT_PAGE",GO_TO_PREV_PAGE:"GO_TO_PREV_PAGE",SET_PAGINATION:"SET_PAGINATION",RESET_PAGINATION:"RESET_PAGINATION"},$n=function(){return{type:Xn.GO_TO_NEXT_PAGE}},Zn=function(){return{type:Xn.GO_TO_PREV_PAGE}},ea=function(e){return{type:Xn.SET_PAGINATION,payload:e}},ta="LOADING_RESOURCES_START",na="LOADING_RESOURCES_SUCCESS",aa="LOADING_RESOURCES_ERROR",ra="SET_RESOURCE_SEARCH",oa="VIEW_RESOURCE",ia="SHOW_SHARING_SETTINGS",la="EDIT_RESOURCE",ca="ADD_RESOURCE",sa="REQUEST_DELETE_RESOURCE",ua="DELETE_RESOURCE_START",da="DELETE_RESOURCE_SUCCESS",pa="DELETE_RESOURCE_ERROR",ma="RESET_CONTEXT_MENU",Ea="RESOURCE_ADD_LOADING_START",ha="RESOURCE_ADD_LOADING_SUCCESS",Ra="RESOURCE_ADD_LOADING_ERROR",fa="RESOURCE_EDIT_LOADING_START",ga="RESOURCE_EDIT_LOADING_SUCCESS",ba="RESOURCE_EDIT_LOADING_ERROR",Sa=function(e){return function(t){var n=g.a.t("An error occurred while loading the resources!"),a=I(e,n);t(Ee(a)),t({type:aa})}},Oa=function(){return function(e,t){e({type:ta});var n=t(),a=n.pagination,r=n.resource;return function(e,t,n){var a={page:e,pageSize:t,fields:"displayName,id,url,external,access"};return n&&(a.filter="displayName:ilike:".concat(n)),U.get("documents",a)}(a.page,a.pageSize,r.search).then(function(t){var n;e((n=t.documents,{type:na,payload:n})),e(ea(t.pager))}).catch(function(t){e(Sa(t))})}},ya=Kn()(function(e){return e(Oa())},500),_a=function(e){return function(t){t(function(e){return{type:ra,payload:e}}(e)),ya(t)}},Ta=g.a.t("Do you really want to delete this resource?"),va=g.a.t("The resource has been deleted successfully"),Aa=function(){return function(e){e(me(va)),e({type:da})}},Da=g.a.t("An error occurred when deleting the resource!"),Na=function(e){return function(t){var n=I(e,Da);t(Ee(n)),t({type:pa})}},Ca=function(e){return function(t){t({type:ma}),e&&(t({type:Xn.RESET_PAGINATION}),t(Oa()))}},Pa=function(){return{type:Ra}},xa=function(e,t){return function(n){n({type:Ea}),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?z(U,t).then(function(t){var n=t.response;return Promise.resolve(J(e,n.fileResource))}).then(function(e){return ie(U,e)}):ie(U,e)}(e,t).then(function(){n({type:ha}),n(Oa())}).catch(function(e){n(function(e){return function(t){var n=g.a.t("An error occurred while adding the resource!"),a=I(e,n);t(Ee(a)),t(Pa())}}(e))})}},wa=function(e,t){return function(n,a){n({type:fa}),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n?z(U,n).then(function(e){var n=e.response;return Promise.resolve(J(t,n.fileResource))}).then(function(t){return le(U,e,t)}):le(U,e,t)}(a().resource.selectedResource.id,e,t).then(function(){n({type:ga}),n(Oa())}).catch(function(e){n(function(e){return function(t){var n=g.a.t("An error occurred while saving the modifications!"),a=I(e,n);t(Ee(a)),t(Pa())}}(e))})}},ja={goToNextPage:function(){return function(e){e($n()),e(Oa())}},goToPrevPage:function(){return function(e){e(Zn()),e(Oa())}},loadResources:Oa,requestDeleteResource:function(e){return function(t){t({type:sa,payload:e}),t(he(Ta))}},deleteResource:function(){return function(e,t){e({type:ua});var n,a=t().resource.selectedResource;return(n=a.id,U.delete("".concat("documents","/").concat(n))).then(function(){e(Aa()),e(Oa())}).catch(function(t){return e(Na(t))})}},setSearch:function(e){return _a(e.target.value)},addResource:function(e){return{type:ca,payload:e}},viewResource:function(e){var t=e.id,n=te().baseUrl,a="".concat(n,"/").concat("documents","/").concat(t,"/data");return window.open(a),{type:oa,payload:e}},editResource:function(e){return{type:la,payload:e}},showSharingSettings:function(e){return{type:ia,payload:e}},closeContextMenu:Ca},Ia=Object(u.c)(function(e){return{open:e.resource.open,resources:e.resource.collection,selectedAction:e.resource.selectedAction,selectedResource:e.resource.selectedResource,loadingResources:e.resource.loading,search:e.resource.search,pager:e.pagination}},ja),La="UPLOAD_FILE",Ua="EXTERNAL_URL",ka=[{value:Ua,label:g.a.t("External url")},{value:La,label:g.a.t("Upload file")}],Ga="newResource",Ma="viewResource",Wa="editResource",Ha="sharingSettings",Fa="delete",Ba=(Qn={},Object(D.a)(Qn,Ma,"arrow_right"),Object(D.a)(Qn,Wa,"edit"),Object(D.a)(Qn,Ha,"people"),Object(D.a)(Qn,Fa,"delete"),Qn),qa=n(272),Va=n.n(qa),Ya=function(e){return e?void 0:"Required"},Qa=function(e){return function(t,n){return e(n)?Ya(t):void 0}},za=function(e){var t=e.type===La&&e.file?e.file.file:null,n=Va()(e,"file");return{file:t,resource:Object(d.a)({},n,{attachment:"yes"===e.attachment,external:e.type===Ua})}},Ja=(Qa(function(e){return e.type===Ua}),Qa(function(e){return e.type===La}),n(273)),Ka=n.n(Ja),Xa=n(41),$a=n(88),Za=n.n($a),er=n(103),tr=n.n(er),nr=n(104),ar=n.n(nr),rr=function(e){return l.a.createElement(tr.a,{open:e.open,onClose:e.onClose,maxWidth:"md",fullWidth:!0},l.a.createElement("div",{className:"form-dialog-title"},l.a.createElement(ar.a,null,e.title)),l.a.createElement("div",{className:"form-dialog-content"},e.children),l.a.createElement("style",{jsx:!0},"\n            .form-dialog-title {\n                border-bottom: 1px solid black;\n            }\n\n            .form-dialog-content {\n                width: ".concat(e.maxWidth,"px;\n                max-width: 100%;\n                box-sizing: border-box;\n                margin-left: 0;\n                margin-right: 0;\n            }\n        ")))};rr.defaultProps={maxWidth:600};var or=function(e){var t=e.show,n=e.render,a=e.children;return t?l.a.createElement("section",null,a||n(),l.a.createElement("style",{jsx:!0},"\n                section {\n                    margin: 0 0 10px;\n                    padding: 0 2px;\n                    overflow: hidden;\n                }\n            ")):null};or.defaultProps={children:null,render:function(){return null},show:!0};var ir=n(131),lr=n.n(ir),cr=function(e){return l.a.createElement("span",null,l.a.createElement(O.Button,{raised:!0,type:e.type,onClick:e.onClick,color:e.isPrimary?"primary":"default",disabled:e.disabled},e.label),l.a.createElement("style",{jsx:!0},"\n            span {\n                display: inline-block;\n                margin-right: 10px;\n            }\n        "))};cr.defaultProps={isPrimary:!1,type:"submit"};var sr=function(e){return l.a.createElement(lr.a,null,l.a.createElement(cr,{label:e.onSubmitLabel,isPrimary:!0,onClick:e.onSubmit,disabled:e.submitDisabled}),l.a.createElement(cr,{label:e.onCancelLabel,onClick:e.onCancel}))};sr.defaultProps={onCancelLabel:g.a.t("Cancel")};var ur=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,e.children),l.a.createElement("style",{jsx:!0},"\n            div {\n                margin-bottom: 20px;\n            }\n        "))},dr=n(71),pr=n.n(dr),mr=n(44),Er=n.n(mr),hr=function(e){return l.a.createElement("div",{className:"form-checkbox"},l.a.createElement("div",{className:"input-container"},l.a.createElement("input",Object.assign({id:e.input.name+e.input.value},e.input,{type:"radio"}))),l.a.createElement("label",{className:"label-container",htmlFor:e.input.name+e.input.value},e.label),l.a.createElement("style",{jsx:!0},"\n            .form-checkbox {\n                align-items: center;\n                display: flex;\n                height: 30px;\n                width: 100%;\n            }\n\n            .input-container {\n                width: 20px;\n            }\n\n            input {\n                display: block;\n                margin: 0;\n            }\n\n            label {\n                display: block;\n                flex-grow: 1;\n            }\n        "))},Rr=Object(S.withStyles)({container:{margin:"0"},label:{margin:"0 0 10px",fontSize:"1rem",color:"black"}})(function(e){return l.a.createElement(pr.a,{className:e.classes.container},e.label&&l.a.createElement(Er.a,{className:e.classes.label},e.label),e.showError&&l.a.createElement(Xa.a,{name:e.name,type:"checkbox"},function(e){var t=e.meta;return t.error&&t.touched?t.error:""}),e.options.map(function(t){return l.a.createElement("div",{key:t.label},l.a.createElement(Xa.a,{type:"radio",value:t.value,label:t.label,component:hr,name:e.name}))}))});Rr.propTypes={name:A.a.string.isRequired,options:A.a.arrayOf(A.a.object).isRequired,label:A.a.string,showError:A.a.bool},Rr.defaultProps={label:"",showError:!0};var fr=function(){return l.a.createElement(ur,null,l.a.createElement("p",null,g.a.t("Do you want to use this file as an attachment?")),l.a.createElement(Rr,{name:"attachment",options:[{value:"yes",label:g.a.t("Yes")},{value:"no",label:g.a.t("No")}],showError:!1}),l.a.createElement("style",{jsx:!0},"\n            p {\n                margin-top: 0;\n            }\n        "))},gr=n(70),br=n.n(gr),Sr=n(205),Or=n.n(Sr),yr=Or.a[500],_r=function(e){return e.showErrorText?l.a.createElement(Er.a,null,l.a.createElement("span",null,e.error&&e.touched?e.error:""),l.a.createElement("style",{jsx:!0},"\n                span {\n                    color: ".concat(yr,";\n                }\n            "))):null};_r.defaultProps={showErrorText:!0};var Tr=function(e){return function(t){t.persist(),e.onChange({file:t.target.files[0],value:t.target.value})}},vr=function(e){return e?e.value:""},Ar=function(e){return l.a.createElement("div",null,l.a.createElement(Xa.a,Object.assign({name:e.name,type:"file",placeholder:e.placeholder,format:vr},e.fieldProps),function(e){var t=e.input,n=e.meta,a=e.placeholder;return l.a.createElement(pr.a,null,l.a.createElement(_r,{error:n.error||"",touched:n.touched}),l.a.createElement(Er.a,null,a),l.a.createElement(Er.a,null,l.a.createElement("label",{htmlFor:t.name},l.a.createElement(br.a,{variant:"contained",component:"span"},g.a.t("Select file")))),l.a.createElement("input",{name:t.name,value:t.value,onChange:Tr(t),id:t.name,type:"file"}),l.a.createElement(Er.a,null,t.value.replace("C:\\fakepath\\","")||g.a.t("No file chosen")))}),l.a.createElement("style",{jsx:!0},"\n            input {\n                display: none;\n            }\n        "))};Ar.defaultProps={fieldProps:{}};var Dr=function(e){return l.a.createElement(ur,null,l.a.createElement(Ar,{name:"file",placeholder:g.a.t("File"),fieldProps:e.isRequired?{validate:Ya}:{}}))},Nr=n(127),Cr=n.n(Nr),Pr=n(132),xr=n.n(Pr),wr=(l.a.createElement(yt.a,{id:"3980597411"},[".jsx-3980597411{margin:0 0 10px;}"]),l.a.createElement(yt.a,{id:"254529828"},[".jsx-254529828{color:black;font-weight:bold;font-size:1.3em;line-height:2;margin:0 0 10px;}"]),l.a.createElement(yt.a,{id:"2649160175"},[".jsx-2649160175{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:20px;}"]),{styles:l.a.createElement(yt.a,{id:"516171561"},[".jsx-516171561{margin:0;width:100%;}"]),className:"jsx-516171561"}),jr=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(pr.a,{className:wr.className},l.a.createElement(xr.a,{htmlFor:e.input.name},e.placeholder),l.a.createElement(Cr.a,Object.assign({},e.input,{label:e.placeholder})),l.a.createElement(_r,{error:e.meta.error||"",touched:e.meta.touched})),wr.styles)},Ir=function(){return l.a.createElement(ur,null,l.a.createElement(Xa.a,{name:"name",placeholder:g.a.t("Name*"),component:jr,validate:Ya}))},Lr=function(e){var t=e.children;return l.a.createElement("h2",null,t,l.a.createElement("style",{jsx:!0},"\n            h2 {\n                color: black;\n                font-weight: bold;\n                font-size: 1.3em;\n                line-height: 2;\n                margin: 0 0 10px;\n            }\n        "))},Ur=function(e){return l.a.createElement(Lr,null,e.label)},kr=function(){return l.a.createElement(Ur,{label:g.a.t("Details")})},Gr=function(){return l.a.createElement(Ur,{label:g.a.t("Resource")})},Mr=n(203),Wr=n.n(Mr),Hr=function(e){return l.a.createElement(Wr.a,Object.assign({native:!0},e.input,{disabled:e.disabled}),e.showEmptyOption&&l.a.createElement("option",{value:""}),e.options.map(function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)}))},Fr=wr.className,Br=wr.styles,qr=function(e){return l.a.createElement(pr.a,{className:Fr},l.a.createElement(xr.a,{htmlFor:e.input.name},e.placeholder),l.a.createElement(Hr,{input:e.input,showEmptyOption:e.showEmptyOption,options:e.options,disabled:e.disabled}),l.a.createElement(_r,{showErrorText:e.showErrorText,error:e.meta.error||"",touched:e.meta.touched}),Br)};qr.defaultProps={showEmptyOption:!1,showErrorText:!1,disabled:!1};var Vr=function(e){return l.a.createElement(ur,null,l.a.createElement(Xa.a,{name:"type",placeholder:g.a.t("Resource Type"),options:ka,showErrorText:!1,component:qr,disabled:e.disabled}))};Vr.defaultProps={disabled:!1};var Yr=function(){return l.a.createElement(ur,null,l.a.createElement(Xa.a,{name:"url",placeholder:g.a.t("Url*"),component:jr,validate:Ya}))},Qr=function(e){return l.a.createElement(rr,{title:e.title,open:e.open,onClose:e.onCancel},l.a.createElement(Xa.b,{onSubmit:e.onSubmit,initialValues:e.initialValues},function(t){var n=t.handleSubmit,a=t.values,r=t.valid;return l.a.createElement("form",{onSubmit:n},l.a.createElement(Za.a,null,l.a.createElement(or,null,l.a.createElement(kr,null),l.a.createElement(Ir,null),l.a.createElement(Vr,null)),l.a.createElement(or,{show:a.type===Ua,render:function(){return l.a.createElement(i.Fragment,null,l.a.createElement(Gr,null),l.a.createElement(Yr,null))}}),l.a.createElement(or,{show:a.type===La,render:function(){return l.a.createElement(i.Fragment,null,l.a.createElement(Gr,null),l.a.createElement(fr,null),l.a.createElement(Dr,{isRequired:e.isFileRequired}))}})),l.a.createElement(sr,{onSubmitLabel:e.onSubmitLabel,onSubmit:n,onCancel:e.onCancel,submitDisabled:!r}))}))},zr=Object(u.c)(function(e){return{open:e.resource.open,initialValues:{name:"",type:ka[1].value,attachment:"no"}}},function(e){return{onCancel:function(){return e(Ca())},onSubmit:function(t){var n=za(t),a=n.file,r=n.resource;e(xa(r,a))}}})(function(e){return l.a.createElement(Qr,{open:e.open,title:g.a.t("Add resource"),isFileRequired:!0,onSubmitLabel:g.a.t("Add resource"),initialValues:e.initialValues,onSubmit:e.onSubmit,onCancel:e.onCancel})}),Jr=function(e){var t=e.resource;return{name:t.selectedResource.displayName,type:ka[t.selectedResource.external?0:1].value,attachment:t.selectedResource.attachment?"yes":"no",url:t.selectedResource.url}},Kr=Object(u.c)(function(e){return{open:e.resource.open,initialValues:Jr(e)}},function(e){return{onCancel:function(){return e(Ca())},onSubmit:function(t){var n=za(t),a=n.file,r=n.resource;e(wa(r,a))}}})(function(e){return l.a.createElement(Qr,{open:e.open,title:g.a.t("Edit resource"),isFileRequired:!1,onSubmitLabel:g.a.t("Save resource"),initialValues:e.initialValues,onSubmit:e.onSubmit,onCancel:e.onCancel})}),Xr=function(e){var t=e.selectedAction;return e.selectedAction?e.selectedAction===Ga?l.a.createElement(zr,null):t===Wa?l.a.createElement(Kr,null):t===Ha?l.a.createElement(Ka.a,{open:e.open,id:e.selectedResource.id,type:"document",onRequestClose:e.handleClose,d2:ee()}):null:null},$r=(n(1673),n(1674),n(732)),Zr=n.n($r),eo=n(202),to=n.n(eo);function no(e){var t=e.pagination,n=t.pageSize,a=t.total,r=t.page*n,o=r>a?a:r;return"".concat(r-n+1," - ").concat(o)}var ao,ro=g.a.t("Search"),oo={styles:l.a.createElement(yt.a,{id:"559166881"},["div.jsx-559166881>.search-input input.jsx-559166881{-webkit-appearance:textfield;}","div.jsx-559166881>.search-input{width:400px;}","div.jsx-559166881>.data-table-pager{float:right;padding-top:8px;}","div.jsx-559166881>.d2-ui-button{position:fixed;bottom:1.5rem;right:1.5rem;}",".data-table-fake-row.jsx-559166881{position:relative;height:50px;line-height:50px;background-color:#ffffff;text-align:center;font-style:italic;color:#757575;box-shadow:0 1px 3px 0 rgba(0,0,0,0.12), 0 1px 2px 0 rgba(0,0,0,0.24);}",".data-table-fake-row.jsx-559166881 .loader{margin-top:8px;}"]),className:"jsx-559166881"},io=Object(u.c)(function(e){return{pagerTotal:e.pagination.total,pagerHasNextPage:function(){return e.pagination.page<e.pagination.pageCount},pagerHasPreviousPage:function(){return e.pagination.page>1},pagerCurrentlyShown:no(e)}})(function(e){var t=l.a.createElement(O.Pagination,{total:e.pagerTotal,hasNextPage:e.pagerHasNextPage,hasPreviousPage:e.pagerHasPreviousPage,currentlyShown:e.pagerCurrentlyShown,onNextPageClick:e.goToNextPage,onPreviousPageClick:e.goToPrevPage});return l.a.createElement("div",null,t,l.a.createElement(to.a,{className:"search-input",value:e.searchInputValue,type:"search",label:ro,onChange:e.searchInputChangeHandler}),l.a.createElement(Zr.a,{rows:e.isLoading?[]:e.rows,columns:e.columns,contextMenuActions:e.contextMenuActions,primaryAction:e.primaryAction,contextMenuIcons:e.contextMenuIcons,isContextActionAllowed:e.isContextActionAllowed}),e.isLoading&&l.a.createElement("div",{className:"data-table-fake-row"},l.a.createElement(qt.a,{size:32,className:"loader"})),0===e.rows.length&&!e.isLoading&&l.a.createElement("div",{className:"data-table-fake-row"},g.a.t("No results have been found")),t,l.a.createElement(O.Button,{id:"add-resource-btn-id",fab:!0,onClick:e.addButtonClickHandler},l.a.createElement(O.SvgIcon,{icon:"Add"})),l.a.createElement("style",{jsx:!0},oo))}),lo=function(e){var t;return t={},Object(D.a)(t,Ma,e.viewResource),Object(D.a)(t,Wa,e.editResource),Object(D.a)(t,Ha,e.showSharingSettings),Object(D.a)(t,Fa,e.requestDeleteResource),t},co=Ia(function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(E.a)(this,Object(h.a)(t).call(this,e))).contextMenuOptions=lo(e),n}return Object(R.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){0===this.props.resources.length&&this.props.loadResources()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(Ge,{label:C.resource.info.label,sectionKey:"resource"}),l.a.createElement("div",{id:"resource-content"},l.a.createElement(io,{columns:["displayName"],rows:this.props.resources,isLoading:this.props.loadingResources,contextMenuActions:this.contextMenuOptions,primaryAction:this.contextMenuOptions[Ma],contextMenuIcons:Ba,isContextActionAllowed:(e=this.props.deleteResource,function(t,n){var a,r=t&&t.access?t.access:{};return(a={},Object(D.a)(a,Ma,r.read),Object(D.a)(a,Ha,r.manage||r.externalize),Object(D.a)(a,Fa,e),Object(D.a)(a,Wa,r.update&&t.external),a)[n]||!1}),searchInputValue:this.props.search,searchInputChangeHandler:this.props.setSearch,addButtonClickHandler:this.props.addResource,goToNextPage:this.props.goToNextPage,goToPrevPage:this.props.goToPrevPage}),l.a.createElement(Xr,{open:this.props.open,selectedAction:this.props.selectedAction,selectedResource:this.props.selectedResource,handleClose:this.props.closeContextMenu}),l.a.createElement(He,{action:g.a.t("CONFIRM"),onActionClick:this.props.deleteResource})));var e}}]),t}(l.a.Component)),so="createReport",uo="editReport",po="delete",mo="sharingSettings",Eo=(ao={},Object(D.a)(ao,so,"arrow_right"),Object(D.a)(ao,uo,"edit"),Object(D.a)(ao,mo,"people"),Object(D.a)(ao,po,"delete"),ao),ho=(g.a.t("[ None ]"),"JASPER_REPORT_TABLE"),Ro="JASPER_JDBC",fo="HTML",go="JASPER_REPORT_TABLE",bo="JASPER_JDBC",So="HTML",Oo=[{value:go,label:g.a.t("Jasper report with report table data source")},{value:bo,label:g.a.t("Jasper report with JDBC data source")},{value:So,label:g.a.t("HTML report")}],yo=(g.a.t("Jasper report with report table data source"),g.a.t("Jasper report with JDBC data source"),g.a.t("HTML report"),[{value:"NO_CACHE",label:g.a.t("No cache")},{value:"RESPECT_SYSTEM_SETTING",label:g.a.t("Respect system setting")},{value:"CACHE_1_HOUR",label:g.a.t("Cache for one hour")},{value:"CACHE_6AM_TOMORROW",label:g.a.t("Cache until 6 AM tomorrow")},{value:"CACHE_TWO_WEEKS",label:g.a.t("Cache for two weeks")}]),_o=(g.a.t("No cache"),g.a.t("Respect system setting"),g.a.t("Cache for one hour"),g.a.t("Cache until 6 AM tomorrow"),g.a.t("Cache for two weeks"),g.a.t("Days"),g.a.t("Reporting day"),g.a.t("Yesterday"),g.a.t("Last 3 days"),g.a.t("Last 7 days"),g.a.t("Last 14 days"),g.a.t("Weeks"),g.a.t("Reporting week"),g.a.t("Last Week"),g.a.t("Last 2 weeks"),g.a.t("Last 12 weeks"),g.a.t("Last 52 weeks"),g.a.t("Weeks this year"),g.a.t("Months"),g.a.t("Reporting month"),g.a.t("Last month"),g.a.t("Last 3 months"),g.a.t("Last 6 months"),g.a.t("Last 12 months"),g.a.t("Months this year"),g.a.t("Bi-months"),g.a.t("Reporting bi-month"),g.a.t("Last bi-month"),g.a.t("Last 6 bi-month"),g.a.t("Bi-months this year"),g.a.t("Quarters"),g.a.t("Reporting quarter"),g.a.t("Last quarter"),g.a.t("Last 4 quarters"),g.a.t("Quarters of reporting year"),g.a.t("Six-Months"),g.a.t("Reporting six-month"),g.a.t("Last six-month"),g.a.t("Last 2 six-months"),g.a.t("Financial Years"),g.a.t("Reporting financial year"),g.a.t("Last financial year"),g.a.t("Last 5 financial years"),g.a.t("Years"),g.a.t("Reporting year"),g.a.t("Last year"),g.a.t("Last 5 years"),n(204)),To=n.n(_o),vo=n(452),Ao=n.n(vo),Do=n(733),No=n.n(Do),Co=function(e){return!e},Po="STANDARD_REPORT_TABLES_LOADING_START",xo="STANDARD_REPORT_TABLES_LOADING_SUCCESS",wo="STANDARD_REPORT_TABLES_LOADING_ERROR",jo=function(e){return function(t){var n=g.a.t("An error occurred while loading the report table options"),a=I(e,n);t(Ee(a)),t({type:wo})}},Io=function(){return function(e){return e({type:Po}),U.get("reportTables",{paging:!1,fields:"id,name"}).then(function(t){var n=t.reportTables.map(function(e){return{value:e.id,label:e.name}});e({type:xo,payload:n})}).catch(function(t){e(jo(t))})}},Lo={SET_SELECTED_REPORT:"SET_SELECTED_REPORT",LOAD_STANDARD_REPORTS:"LOAD_STANDARD_REPORTS",LOADING_STANDARD_REPORTS_START:"LOADING_STANDARD_REPORTS_START",LOADING_STANDARD_REPORTS_SUCCESS:"LOADING_STANDARD_REPORTS_SUCCESS",LOADING_STANDARD_REPORTS_ERROR:"LOADING_STANDARD_REPORTS_ERROR",LOADING_STANDARD_REPORTS_DETAILS_START:"LOADING_STANDARD_REPORTS_DETAILS_START",LOADING_STANDARD_REPORTS_DETAILS_SUCCESS:"LOADING_STANDARD_REPORTS_DETAILS_SUCCESS",LOADING_STANDARD_REPORTS_DETAILS_ERROR:"LOADING_STANDARD_REPORTS_DETAILS_ERROR",SET_SEARCH:"SET_SEARCH",ADD_REPORT_FORM_SHOW:"ADD_REPORT_FORM_SHOW",ADD_REPORT_FORM_HIDE:"ADD_REPORT_FORM_HIDE",EDIT_REPORT_FORM_SHOW:"EDIT_REPORT_FORM_SHOW",EDIT_REPORT_FORM_HIDE:"EDIT_REPORT_FORM_HIDE",CREATE_REPORT_SHOW:"CREATE_REPORT_SHOW",CREATE_REPORT_HIDE:"CREATE_REPORT_HIDE",SHARING_SETTINGS_SHOW:"SHARING_SETTINGS_SHOW",SHARING_SETTINGS_HIDE:"SHARING_SETTINGS_HIDE",REQUEST_DELETE_STANDARD_REPORT:"REQUEST_DELETE_STANDARD_REPORT",DELETE_STANDARD_REPORT_START:"DELETE_STANDARD_REPORT_START",DELETE_STANDARD_REPORT_SUCCESS:"DELETE_STANDARD_REPORT_SUCCESS",DELETE_STANDARD_REPORT_ERROR:"DELETE_STANDARD_REPORT_ERROR",HTML_REPORT_SHOW:"HTML_REPORT_SHOW",HTML_REPORT_HIDE:"HTML_REPORT_HIDE",CLOSE_CONTEXT_MENU:"CLOSE_CONTEXT_MENU",STANDARD_REPORT_SEND_START:"STANDARD_REPORT_SEND_START",STANDARD_REPORT_SEND_SUCCESS:"STANDARD_REPORT_SEND_SUCCESS",STANDARD_REPORT_SEND_ERROR:"STANDARD_REPORT_SEND_ERROR",DEFINE_REQUIRED_PARAMS:"DEFINE_REQUIRED_PARAMS",REQUIRED_PARAMS_ERROR:"REQUIRED_PARAMS_ERROR",GENERATE_PDF_REPORT:"GENERATE_PDF_REPORT",CANCEL_GENERATING_PDF_REPORT:"CANCEL_GENERATING_PDF_REPORT"},Uo=function(e){return function(t){var n=g.a.t("An error occurred while loading the standard reports"),a=I(e,n);t(Ee(a)),t({type:Lo.LOADING_STANDARD_REPORTS_ERROR})}},ko=Kn()(function(e){return e(Ho())},500),Go=function(){return function(e){e({type:Lo.DELETE_STANDARD_REPORT_SUCCESS}),e(Ho()),e(de())}},Mo=function(e){return function(t){var n=g.a.t("An error occurred while trying to delete the standard report"),a=I(e,n);t(Ee(a)),t({type:Lo.DELETE_STANDARD_REPORT_ERROR})}},Wo=function(e){return function(t){t({type:Lo.CLOSE_CONTEXT_MENU}),e&&t(Ho())}},Ho=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var a=n(),r=a.standardReport,o=a.pagination,i=o.page,l=o.pageSize,c=r.search;return t({type:Lo.LOADING_STANDARD_REPORTS_START}),function(e,t,n){return(a=n,r=L.models.report,a?r.filter().on("displayName").ilike(a):r).list({page:e,pageSize:t,fields:B}).then(q);var a,r}(i,l,c).then(function(n){var a;t((a=n.reports,{type:Lo.LOADING_STANDARD_REPORTS_SUCCESS,payload:a})),t(ea(n.pager)),e&&t(Io())}).catch(function(e){return t(Uo(e))})}},Fo=function(){return function(e,t){var n,a=t().standardReport.selectedReport;return e({type:Lo.DELETE_STANDARD_REPORT_START}),(n=a.id,U.delete("".concat("reports","/").concat(n))).then(function(){return e(Go())}).catch(function(t){return e(Mo(t))})}},Bo=function(){return{type:Lo.LOADING_STANDARD_REPORTS_DETAILS_ERROR}},qo=function(e){return function(t){t({type:Lo.LOADING_STANDARD_REPORTS_DETAILS_START}),function(e){return U.get("".concat("reports","/").concat(e))}(e).then(function(e){return t({type:Lo.LOADING_STANDARD_REPORTS_DETAILS_SUCCESS,payload:e})}).catch(function(e){return t(Bo())})}},Vo=function(e,t){return function(n){n({type:Lo.STANDARD_REPORT_SEND_START});var a,r=Object(d.a)({},e,{relativePeriods:(e.relativePeriods||[]).reduce(function(e,t){return Object(d.a)({},e,Object(D.a)({},t,!0))},{}),reportParams:(e.reportParams||[]).reduce(function(e,t){return Object(d.a)({},e,Object(D.a)({},t,!0))},{}),reportTable:e.reportTable?{id:e.reportTable}:""}),o=e.type!==go?Va()(r,["reportTable"]):r,i=t?function(e){return function(e){return U.update("".concat("reports","/").concat(e.id),e)}(e)}:function(e){return function(e){return U.post("reports",e)}(e)},l=t?g.a.t("The report has been updated successfully"):g.a.t("The report has been added successfully"),c=t?g.a.t("An error occurred while updating the report!"):g.a.t("An error occurred while adding the report!");return(o.designContent?(a=o.designContent.file,new Promise(function(e,t){var n=new FileReader;n.readAsText(a),n.onload=function(n){2===n.target.readyState&&(n.target.error&&t("File could not be read"),e(n.target.result))}})).then(function(e){return Object(d.a)({},o,{designContent:e})}).then(i):i(o)).then(function(){n(me(l)),n({type:Lo.STANDARD_REPORT_SEND_SUCCESS}),n(Ho())}).catch(function(e){var t=I(e,c);n(Ee(t)),n({type:Lo.STANDARD_REPORT_SEND_ERROR})})}},Yo=function(){return function(e,t){e(nt());var n=t(),a=n.standardReport,r=n.organisationUnits,o=n.reportPeriod,i=a.reportParams,l=a.selectedReport.id,c={};return i.organisationUnit&&(c.ou=r.selected.id),i.reportPeriod&&(c.pe=o.selectedPeriod),function(e,t){return U.get("reports/".concat(e,"/data.html"),Object(d.a)({t:(new Date).getTime()},t))}(l,c).then(function(t){return e(at(t))}).catch(function(t){return e(function(e){return function(t){var n=g.a.t("An error occurred while generating the html report"),a=I(e,n);t(Ee(a)),t(rt())}}(t))})}},Qo=function(e){return e.reportTable?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return U.get("reportTables/".concat(e),t)}(e.reportTable.id):Promise.resolve({reportParams:{}})},zo=function(e){return function(t){return t(function(e){return{type:Lo.SET_SELECTED_REPORT,payload:e}}(e)),Qo(e).then(function(n){var a=function(e){return No()({period:e.paramReportingPeriod,organisationUnit:e.paramOrganisationUnit||e.paramParentOrganisationUnit||e.paramGrandParentOrganisationUnit},Co)}(n.reportParams);Ao()(a)?t(function(e){return{type:Lo.DEFINE_REQUIRED_PARAMS,payload:e}}(a)):e.type===So?t(Yo()):t(Jo())}).catch(function(e){throw e})}},Jo=function(){return function(e,t){var n="t=".concat((new Date).getTime()),a=te(),r=t(),o=r.standardReport,i=r.organisationUnits,l=r.reportPeriod,c=o.reportParams,s=o.selectedReport.id,u="reports/".concat(s,"/data.pdf");c.organisationUnit&&(n+="&ou=".concat(i.selected.id)),c.reportPeriod&&(n+="&p=".concat(l.selectedPeriod)),window.open("".concat(a.baseUrl,"/").concat(u,"?").concat(n)),e({type:Lo.GENERATE_PDF_REPORT})}},Ko=g.a.t("Cancel"),Xo=g.a.t("Generate report"),$o=g.a.t("Report parameters"),Zo=Or.a[500],ei={styles:l.a.createElement(yt.a,{id:"2079549993"},[".jsx-2079549993{width:100%;}"]),className:"jsx-2079549993"},ti={styles:l.a.createElement(yt.a,{id:"3451007021"},["button.jsx-3451007021{color:white;background-color:".concat(To.a.palette.primary2Color,";}"),"button.jsx-3451007021:hover{background-color:".concat(To.a.palette.primary1Color,";}")]),className:"jsx-3451007021"},ni=Object(u.c)(function(e){return{reportParams:e.standardReport.reportParams,reportParamsErrors:e.standardReport.reportParamsErrors,showReportParams:e.standardReport.showReportParams}},{cancelGeneratingPdfReport:function(){return{type:Lo.CANCEL_GENERATING_PDF_REPORT}},submitRequiredReportParams:function(){return function(e,t){var n=t(),a=n.standardReport,r=a.selectedReport,o=function(e,t){var n=[];return t.organisationUnit&&!function(e){return e.organisationUnits.selected}(e)&&n.push("You need to select an organisation unit"),t.period&&!function(e){return e.reportPeriod.selectedPeriod}(e)&&n.push("You need to select a period"),n}(n,a.reportParams);Ao()(o)?e(function(e){return{type:Lo.REQUIRED_PARAMS_ERROR,payload:e}}(o)):r.type===So?e(Yo()):e(Jo())}}})(function(e){return l.a.createElement(tr.a,{open:e.showReportParams,onClose:e.cancelGeneratingPdfReport,fullWidth:!0,maxWidth:"md"},l.a.createElement(ar.a,null,$o),l.a.createElement(Za.a,null,l.a.createElement("div",{className:"inputs"},e.reportParams.organisationUnit&&l.a.createElement(nn,null),e.reportParams.period&&l.a.createElement(en,{label:""})),!!e.reportParamsErrors.length&&l.a.createElement("div",{className:"errors"},l.a.createElement("p",null,g.a.t("There are some errors you have to fix first!")),l.a.createElement("ul",null,e.reportParamsErrors.map(function(e){return l.a.createElement("li",{className:"error",key:e},e)}))),l.a.createElement("div",{className:"primary-action"},l.a.createElement(br.a,{onClick:e.submitRequiredReportParams,variant:"contained",className:ei.className+" "+ti.className},Xo)),l.a.createElement("div",null,l.a.createElement(br.a,{onClick:e.cancelGeneratingPdfReport,variant:"contained",className:ei.className},Ko)),l.a.createElement("style",{jsx:!0},"\n                .inputs {\n                    margin-bottom: 30px;\n                }\n                .errors {\n                    margin-bottom: 10px;\n                }\n                .error {\n                    color: ".concat(Zo,";\n                }\n                .primary-action {\n                    margin-bottom: 10px;\n                }\n            ")),ei.styles,ti.styles))}),ai=function(e,t){var n,a=e&&e.access?e.access:{};return(n={},Object(D.a)(n,so,a.read),Object(D.a)(n,uo,a.update),Object(D.a)(n,mo,a.manage||a.externalize),Object(D.a)(n,po,a.delete),n)[t]||!1},ri=n(201),oi=n.n(ri),ii={styles:l.a.createElement(yt.a,{id:"3225532101"},["span.jsx-3225532101{width:20px;height:20px;padding:0;}"]),className:"jsx-3225532101"},li=function(e){return l.a.createElement("div",{className:"form-checkbox"},l.a.createElement("div",{className:"input-container"},l.a.createElement(oi.a,Object.assign({id:e.input.name+e.input.value},e.input,{type:"checkbox",className:ii.className}))),l.a.createElement("label",{className:"label-container",htmlFor:e.input.name+e.input.value},e.label),l.a.createElement("style",{jsx:!0},"\n            .form-checkbox {\n                align-items: flex-start;\n                display: flex;\n                min-height: 30px;\n                width: 100%;\n            }\n\n            .input-container {\n                width: 25px;\n                flex-shrink: 0;\n            }\n\n            input {\n                display: block;\n                margin: 0;\n            }\n\n            label {\n                display: block;\n                flex-grow: 1;\n                padding: 2px 0 5px;\n            }\n        "),ii.styles)},ci=Object(S.withStyles)({container:{margin:"0 0 20px"},label:{margin:"0 0 10px",fontSize:"1rem",color:"black"}})(function(e){return l.a.createElement(pr.a,{className:e.classes.container},e.label&&l.a.createElement(Er.a,{className:e.classes.label},e.label),e.showError&&l.a.createElement(Xa.a,{name:e.name,type:"checkbox"},function(e){var t=e.meta;return t.error&&t.touched?t.error:""}),e.options.map(function(t){return l.a.createElement("div",{key:t.label},l.a.createElement(Xa.a,{type:"checkbox",value:t.value,label:t.label,component:li,name:e.name}))}))});ci.propTypes={name:A.a.string.isRequired,options:A.a.arrayOf(A.a.object).isRequired,label:A.a.string,showError:A.a.bool},ci.defaultProps={label:"",showError:!0};var si=function(e){return l.a.createElement("div",{className:"row"},e.displayError&&l.a.createElement("div",{className:"col-xs-12"},l.a.createElement(Xa.a,{type:"checkbox",name:e.name},function(e){var t=e.meta;return l.a.createElement(Er.a,null,t.error&&t.touched?t.error:"")})),e.groups.map(function(t){return l.a.createElement("div",{key:t.label,className:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},l.a.createElement(ci,{name:e.name,label:t.label,options:t.options,showError:!1}))}))};si.defaultProps={displayError:!0};var ui=function(e){var t,n,a=e.isEditing,r=e.reportType,o=e.reportId,i=te(),c=r===So?"html":"xml";return a?(n=g.a.t("Get current design"),t="".concat(i.baseUrl,"/").concat("reports","/").concat(o,"/design")):(n=r===So?g.a.t("Get HTML Report Template"):g.a.t("Get Jasper Report Template"),t="".concat(i.baseUrl,"/").concat("reportTemplate",".").concat(c)),l.a.createElement("div",null,l.a.createElement(Er.a,null,n),l.a.createElement(Er.a,null,l.a.createElement(br.a,{variant:"contained",component:"span"},l.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer",download:!0},"Download"))),l.a.createElement(Er.a,null),l.a.createElement("style",{jsx:!0},"\n                a {\n                    color: inherit;\n                    text-decoration: none;\n                }\n            "))},di=function(e){return e},pi=function(e,t){var n=e.standardReport;if(t&&n.selectedReport.cacheStrategy){var a=n.selectedReport;return{id:a.id,name:a.name,type:a.type,reportTable:a.reportTable&&a.reportTable.id?a.reportTable.id:"",relativePeriods:Object.keys(a.relativePeriods).reduce(function(e,t){return a.relativePeriods[t]?[].concat(Object(k.a)(e),[t]):e},[]),reportParams:[a.reportParams.paramReportingPeriod?"paramReportingPeriod":"",a.reportParams.paramOrganisationUnit?"paramOrganisationUnit":""].filter(di),cacheStrategy:a.cacheStrategy}}return{type:go,cacheStrategy:yo[1].value,reportTable:e.standardReportTables.collection.length?e.standardReportTables.collection[0].value:""}},mi=[{label:g.a.t("Days"),options:[{value:"thisDay",label:g.a.t("Reporting day")},{value:"yesterday",label:g.a.t("Yesterday")},{value:"last3Days",label:g.a.t("Last 3 days")},{value:"last7Days",label:g.a.t("Last 7 days")},{value:"last14Days",label:g.a.t("Last 14 days")}]},{label:g.a.t("Weeks"),options:[{value:"thisWeek",label:g.a.t("Reporting week")},{value:"lastWeek",label:g.a.t("Last Week")},{value:"last4Weeks",label:g.a.t("Last 2 weeks")},{value:"last12Weeks",label:g.a.t("Last 12 weeks")},{value:"last52Weeks",label:g.a.t("Last 52 weeks")},{value:"weeksThisYear",label:g.a.t("Weeks this year")}]},{label:g.a.t("Months"),options:[{value:"thisMonth",label:g.a.t("Reporting month")},{value:"lastMonth",label:g.a.t("Last month")},{value:"last3Months",label:g.a.t("Last 3 months")},{value:"last6Months",label:g.a.t("Last 6 months")},{value:"last12Months",label:g.a.t("Last 12 months")},{value:"monthsThisYear",label:g.a.t("Months this year")}]},{label:g.a.t("Bi-months"),options:[{value:"thisBimonth",label:g.a.t("Reporting bi-month")},{value:"lastBimonth",label:g.a.t("Last bi-month")},{value:"last6BiMonths",label:g.a.t("Last 6 bi-month")},{value:"biMonthsThisYear",label:g.a.t("Bi-months this year")}]},{label:g.a.t("Quarters"),options:[{value:"thisQuarter",label:g.a.t("Reporting quarter")},{value:"lastQuarter",label:g.a.t("Last quarter")},{value:"last4Quarters",label:g.a.t("Last 4 quarters")},{value:"quartersThisYear",label:g.a.t("Quarters of reporting year")}]},{label:g.a.t("Six-Months"),options:[{value:"thisSixMonth",label:g.a.t("Reporting six-month")},{value:"lastSixMonth",label:g.a.t("Last six-month")},{value:"last2SixMonths",label:g.a.t("Last 2 six-months")}]},{label:g.a.t("Financial Years"),options:[{value:"thisFinancialYear",label:g.a.t("Reporting financial year")},{value:"lastFinancialYear",label:g.a.t("Last financial year")},{value:"last5FinancialYears",label:g.a.t("Last 5 financial years")}]},{label:g.a.t("Years"),options:[{value:"thisYear",label:g.a.t("Reporting year")},{value:"lastYear",label:g.a.t("Last year")},{value:"last5Years",label:g.a.t("Last 5 years")}]}],Ei=[{value:"paramReportingPeriod",label:"Reporting Period"},{value:"paramOrganisationUnit",label:"Organisation Unit"}],hi=function(e){var t={};return fi(t,e),gi(t,e),bi(t,e),Si(t,e),t},Ri=function(e){var t={};return fi(t,e),gi(t,e),Si(t,e),t},fi=function(e,t){t.name||(e.name="Required")},gi=function(e,t){t.type!==go||t.reportTable||(e.reportTable="Required")},bi=function(e,t){t.designContent||(e.designContent="Required")},Si=function(e,t){t.cacheStrategy||(e.cacheStrategy="Required")},Oi=Object(u.c)(function(e){return{reportTables:e.standardReportTables.collection,selectedReport:pi(e,e.standardReport.selectedAction===uo)}})(function(e){return l.a.createElement(rr,{open:e.open,title:e.edit?"Edit report":"Add report",onClose:e.onRequestClose},l.a.createElement(Xa.b,{onSubmit:e.onSubmit,validate:e.edit?Ri:hi,initialValues:e.selectedReport},function(t){var n=t.handleSubmit,a=t.values;return l.a.createElement("form",{onSubmit:n},l.a.createElement(Za.a,null,l.a.createElement(or,null,l.a.createElement(Lr,null,g.a.t("Details")),l.a.createElement(ur,null,l.a.createElement(Xa.a,{name:"name",placeholder:g.a.t("Name*"),component:jr})),l.a.createElement(ur,null,l.a.createElement(Xa.a,{name:"type",placeholder:g.a.t("Report Type*"),options:Oo,showErrorText:!1,component:qr})),a.type===go&&l.a.createElement(ur,null,l.a.createElement(Xa.a,{name:"reportTable",placeholder:g.a.t("Report Table*"),options:e.reportTables,showErrorText:!1,component:qr})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-6"},l.a.createElement(Ar,{name:"designContent",placeholder:e.edit?g.a.t("Design File"):g.a.t("Design File*")})),l.a.createElement("div",{className:"col-xs-6"},l.a.createElement(Er.a,null),l.a.createElement(ui,{isEditing:e.edit,reportType:a.type,reportId:e.edit?e.selectedReport.id:""})))),l.a.createElement(or,{show:a.type!==go,render:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Lr,null,g.a.t("Relative periods")),l.a.createElement(si,{name:"relativePeriods",groups:mi,displayError:!1}))}}),l.a.createElement(or,{show:a.type!==go,render:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Lr,null,g.a.t("Report parameters")),l.a.createElement(ci,{name:"reportParams",options:Ei}))}}),l.a.createElement(or,null,l.a.createElement(Lr,null,g.a.t("Settings")),l.a.createElement(ur,null,l.a.createElement(Xa.a,{name:"cacheStrategy",placeholder:g.a.t("Cache Strategy*"),options:yo,component:qr})))),l.a.createElement(lr.a,null,l.a.createElement(cr,{label:g.a.t("Submit"),isPrimary:!0,onClick:n}),l.a.createElement(cr,{label:g.a.t("Cancel"),onClick:e.onRequestClose})))}))}),yi=function(e){var t=e.open,n=e.selectedAction,a=e.selectedReport,r=e.handleClose,o=e.handleError,i=e.updateStandardReport,c=e.addStandardReport;return n===mo?l.a.createElement(Ka.a,{id:a.id,d2:ee(),open:t,type:"report",onRequestClose:r}):n===uo?l.a.createElement(Oi,{open:t,edit:!0,onSubmit:i,onRequestClose:r,onError:o}):"ADD_NEW_REPORT_ACTION"===n?l.a.createElement(Oi,{open:t,edit:!1,onSubmit:c,onRequestClose:r,onError:o}):null},_i=function(e){var t=L.system.systemInfo.contextPath,n=document.createElement("script");n.type="text/javascript",n.src=t+e;var a=new Promise(function(e){n.onload=e});return document.head.appendChild(n),a},Ti=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={ready:!1,report:""},n}return Object(R.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;_i("/dhis-web-commons/javascripts/jQuery/jquery.min.js").then(function(){return _i("/dhis-web-commons/javascripts/dhis2/dhis2.util.js")}).then(function(){return e.setState({ready:!0,report:e.props.html})})}},{key:"componentWillReceiveProps",value:function(e){e.html&&this.state.ready&&this.setState({report:e.html})}},{key:"render",value:function(){return l.a.createElement("div",{id:"html-report-id",dangerouslySetInnerHTML:{__html:this.state.report}})}}]),t}(i.Component),vi=g.a.t("HTML Report"),Ai=g.a.t("Close"),Di={styles:l.a.createElement(yt.a,{id:"2100171349"},["div.jsx-2100171349{z-index:1500;}"]),className:"jsx-2100171349"},Ni={styles:l.a.createElement(yt.a,{id:"1162165375"},["div.jsx-1162165375{border-bottom:1px solid grey;}"]),className:"jsx-1162165375"},Ci={styles:l.a.createElement(yt.a,{id:"1847491886"},["div.jsx-1847491886{padding-top:20px;}"]),className:"jsx-1847491886"},Pi=function(e){var t=e.onReportCloseClick,n=e.reportData;return l.a.createElement(tr.a,{open:!0,onClose:t,fullScreen:!0,maxWidth:!1,className:Di.className},l.a.createElement(ar.a,{className:Ni.className},vi),l.a.createElement(Za.a,{className:Ci.className},l.a.createElement(br.a,{onClick:t,variant:"contained",color:"primary"},Ai),l.a.createElement(Ti,{html:n})),Di.styles,Ni.styles,Ci.styles)},xi=Object(u.c)(function(e){return Object(d.a)({},e.standardReport,{reportData:Et()(e.reportData.content)?"":e.reportData.content,pager:e.pagination})},function(e){return{loadStandardReports:function(t){return e(Ho(t))},addReportFormShow:function(t){return e(function(e){return{type:Lo.ADD_REPORT_FORM_SHOW,payload:e}}(t))},createReport:function(t){return e(zo(t))},editReport:function(t){return e(function(e){return function(t){t({type:Lo.EDIT_REPORT_FORM_SHOW,payload:e}),t(qo(e.id))}}(t))},deleteStandardReport:function(t){return e(Fo())},sharingSettings:function(t){return e(function(e){return{type:Lo.SHARING_SETTINGS_SHOW,payload:e}}(t))},goToNextPage:function(){return e(function(e){e($n()),e(Ho())})},goToPrevPage:function(){return e(function(e){e(Zn()),e(Ho())})},requestDeleteStandardReport:function(t){return e(function(e){return function(t){t({type:Lo.REQUEST_DELETE_STANDARD_REPORT,payload:e}),t(he("Do you really want to delete this report?"))}}(t))},setSearch:function(t){return e((n=t.target.value,function(e){e({type:Lo.SET_SEARCH,payload:n}),ko(e)}));var n},showReportData:function(t){return e(function(e){return function(t){t(at(e)),t(Wo())}}(t))},hideReportData:function(t){return e({type:Lo.HTML_REPORT_HIDE})},closeContextMenu:function(t){return e(Wo(t))},updateStandardReport:function(t){return e(Vo(t,!0))},addStandardReport:function(t){return e(Vo(t,!1))},closeReport:function(){return e({type:tt})}}}),wi=function(e){var t;return t={},Object(D.a)(t,so,e.createReport),Object(D.a)(t,uo,e.editReport),Object(D.a)(t,mo,e.sharingSettings),Object(D.a)(t,po,e.requestDeleteStandardReport),t},ji=xi(function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(E.a)(this,Object(h.a)(t).call(this,e))).contextMenuOptions=wi(e),n}return Object(R.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){0===this.props.reports.length&&this.props.loadStandardReports(!0)}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(Ge,{label:C["standard-report"].info.label,showBackButton:!!this.props.reportData,onBackClick:this.props.hideReportData,sectionKey:"standard-report"}),l.a.createElement("div",{id:"std-report-content"},l.a.createElement(io,{columns:["displayName"],rows:this.props.reports,isLoading:this.props.loading,contextMenuActions:this.contextMenuOptions,primaryAction:this.contextMenuOptions[[so]],contextMenuIcons:Eo,isContextActionAllowed:ai,searchInputValue:this.props.search,searchInputChangeHandler:this.props.setSearch,addButtonClickHandler:this.props.addReportFormShow,goToNextPage:this.props.goToNextPage,goToPrevPage:this.props.goToPrevPage}),l.a.createElement(yi,{open:this.props.open,selectedAction:this.props.selectedAction,selectedReport:this.props.selectedReport,handleClose:this.props.closeContextMenu,handleError:console.error,handleDisplayReportData:this.props.showReportData,updateStandardReport:this.props.updateStandardReport,addStandardReport:this.props.addStandardReport})),this.props.reportData&&l.a.createElement(Pi,{reportData:this.props.reportData,onReportCloseClick:this.props.closeReport}),l.a.createElement(ni,null),l.a.createElement(He,{action:g.a.t("CONFIRM"),onActionClick:this.props.deleteStandardReport}))}}]),t}(l.a.Component)),Ii=function(e){var t=e.entry;return l.a.createElement(Ie.a,{className:vt.className},l.a.createElement("div",{className:"section-title-bar"},l.a.createElement("div",{className:"section-name"},t.label),l.a.createElement("span",{className:"material-icons icon section-icon"},t.icon)),l.a.createElement("div",{className:"section-description"},t.description),l.a.createElement("div",{className:"section-action-text"},t.actionText),vt.styles,l.a.createElement("style",{jsx:!0},"\n            .section-title-bar {\n                margin-top: 28px;\n                min-height: 42px;\n                flex-wrap: nowrap;\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n            }\n            .section-name {\n                font-size: 24px;\n                text-align: left;\n                color: #000000;\n            }\n            .section-icon {\n                float: right;\n                color: #757575;\n                font-size: 50px;\n            }\n            .section-description {\n                font-size: 14px;\n                text-align: left;\n                color: #757575;\n                margin-top: 38px;\n                margin-bottom: 38px;\n                display: block;\n            }\n            .section-action-text {\n                position: absolute;\n                bottom: 20px;\n                display: block;\n                font-size: 16px;\n                font-weight: 600;\n                text-align: left;\n                color: #2196f3;\n            }\n        "))},Li=function(){var e=N.map(function(e){var t=C[e];return l.a.createElement("div",{key:t.key,className:"col-sm-12 col-md-6 col-lg-4"},l.a.createElement(b.a,{to:t.path,className:"menu-card-link"},l.a.createElement(Ii,{entry:t.info})),l.a.createElement("style",{jsx:!0},"\n                    div {\n                        margin-bottom: 8px;\n                    }\n                    div :global(.menu-card-link) {\n                        text-decoration: none !important;\n                    }\n                "))});return l.a.createElement("div",{id:"menu-grid-id",className:"row"},e)},Ui=function(e){return l.a.createElement("div",null,l.a.createElement("h3",null,"No match for ",l.a.createElement("code",null,e.location.pathname)))},ki=function(){return l.a.createElement("main",null,l.a.createElement(xe.a,null,l.a.createElement(we.a,{key:"home",exact:!0,path:"/",component:Li}),l.a.createElement(we.a,{exact:!0,key:"standard-report",path:C["standard-report"].path,component:ji}),l.a.createElement(we.a,{exact:!0,key:"data-set-report",path:C["data-set-report"].path,component:pn}),l.a.createElement(we.a,{exact:!0,key:"reporting-rate-summary",path:C["reporting-rate-summary"].path,component:zn}),l.a.createElement(we.a,{exact:!0,key:"resource",path:C.resource.path,component:co}),l.a.createElement(we.a,{exact:!0,key:"organisation-unit-distribution-report",path:C["organisation-unit-distribution-report"].path,component:Gn}),l.a.createElement(we.a,{key:"no-match-route",component:Ui})))},Gi=Object(S.createMuiTheme)(O.mui3theme),Mi=function(e){function t(){return Object(p.a)(this,t),Object(E.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(m.a)(t,[{key:"getChildContext",value:function(){return{d2:this.props.d2}}},{key:"componentDidMount",value:function(){this.props.loadOrganisationUnits(),this.props.loadPeriodTypes(),this.props.loadDataSetOptions()}},{key:"render",value:function(){var e=N.map(function(e){var t=C[e];return Object(d.a)({},t,{icon:t.info.icon,label:t.info.label,containerElement:l.a.createElement(b.a,{to:t.path})})});return l.a.createElement(y.a,null,l.a.createElement(S.MuiThemeProvider,{theme:Gi},l.a.createElement(T.a,{appName:g.a.t("Reports")}),l.a.createElement(O.Sidebar,{sections:e,onChangeSection:function(){return null},currentSection:this.props.currentSection}),l.a.createElement("div",{className:"content-wrapper"},l.a.createElement("div",{className:"content-area"},l.a.createElement(ki,null))),l.a.createElement(w,null)),l.a.createElement("style",{jsx:!0},"\n                    .content-wrapper {\n                        margin-left: 295px;\n                        max-width: 1400px;\n                    }\n                    .content-area {\n                        padding: 1rem 20px 20px;\n                    }\n                "),l.a.createElement("style",{jsx:!0,global:!0},"\n                    body {\n                        margin: 0;\n                        padding: 0;\n                    }\n\n                    html {\n                        background: #f3f3f3;\n                        font-family: 'Roboto', sans-serif;\n                    }\n\n                    h1 {\n                        font-size: 24px;\n                        font-weight: 300;\n                        letter-spacing: 1.2px;\n                        color: rgba(0, 0, 0, 0.87);\n                        display: flex;\n                        align-items: center;\n                        height: 48px;\n                    }\n\n                    .left-bar {\n                        width: 295px;\n                        position: fixed;\n                        bottom: 0;\n                        top: 0;\n                        left: 0;\n                        margin-top: 3rem;\n                    }\n\n                    .d2-ui-table {\n                        margin-bottom: 0 !important;\n                        margin-top: 0 !important;\n                    }\n\n                    .d2-ui-table__rows__row {\n                        font-size: 14px;\n                    }\n\n                    .data-table-pager--page-info {\n                        padding: 0 !important;\n                    }\n\n                    .data-table-pager--buttons {\n                        margin-top: 10px !important;\n                        margin-bottom: 10px !important;\n                    }\n\n                    .data-table-pager--buttons .material-icons {\n                        margin: 0 !important;\n                        padding: 0 !important;\n                    }\n\n                    #report-container table {\n                        width: 100% !important;\n                    }\n                "))}}]),t}(i.PureComponent);Mi.childContextTypes={d2:A.a.object.isRequired};var Wi=Object(u.c)(function(e){return{currentSection:e.router.location.pathname.substring(1)}},{loadOrganisationUnits:function(){return function(e){return e({type:ve.ORGANISATION_UNITS_LOADING_START}),L.models.organisationUnits.list({paging:!1,level:1,fields:["id","displayName","path","children::isNotEmpty","memberCount"]}).then(function(e){return e.toArray()}).then(function(t){return e(function(e){return{type:ve.ORGANISATION_UNITS_RECEIVED,payload:e}}(t))}).catch(function(t){console.error(t),e(De(t))})}},loadPeriodTypes:function(){return function(e){return U.get("periodTypes").then(function(e){return e.periodTypes}).then(function(t){return e(function(e){return{type:Ne.REPORT_PERIOD_TYPES_RECEIVED,payload:e}}(t))}).catch(function(t){console.error(t),e(Pe(t))})}},loadDataSetOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t({type:fe}),L.models.dataSet.list({paging:!1,fields:"id,displayName,formType"}).then(function(e){return e.toArray()}).then(function(t){return e?t.filter(e):t}).then(function(e){return t(function(e){return{type:ge,payload:e}}(e))}).catch(function(e){return t(Oe(e))})}}})(Mi),Hi=n(114),Fi=n(736),Bi=n(725),qi=n(737),Vi=n(738),Yi=n.n(Vi)()(),Qi={showSnackbar:!1,showLoader:!1,message:"",type:""},zi={reports:[],selectedReport:{},selectedAction:"",search:"",open:!1,reportData:"",loading:!1,loadingError:"",requestDelete:!1,loadingDetails:!1,loadingSendReport:!1,reportParams:{},reportParamsErrors:[],showReportParams:!1},Ji={loading:!1,collection:[]},Ki=n(55),Xi=Object(d.a)({LOCATION_CHANGE:Ki.b},Ne),$i={loading:!0,collection:[],selectedPeriodType:"",selectedPeriod:""};var Zi=Object(d.a)({LOCATION_CHANGE:Ki.b},ve),el={loading:!0,collection:[],selected:null,selectedOptions:{},showOptions:!1};var tl={loading:!1,collection:[],selected:""};var nl={id:"",displayName:""},al={loading:!1,selected:nl,options:[]},rl={loading:!1,options:[],selected:{}},ol={selectedUnitOnly:!1},il={loading:!1,content:{},comment:""},ll=Object(d.a)({},Xn,{LOCATION_CHANGE:Ki.b}),cl={pageSize:50,page:1,total:0,pageCount:1,nextPage:"",prevPage:""},sl={shouldShowChart:!1},ul={id:"",displayName:""},dl={open:!1,loading:!1,addEditLoading:!1,search:"",collection:[],selectedAction:"",selectedResource:ul},pl=Object(Hi.combineReducers)({router:Object(r.b)(Yi),feedback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qi,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case ce:return Qi;case se:return Object(d.a)({},e,{showLoader:!0});case ue:return Object(d.a)({},e,a,{showSnackbar:!0,showLoader:!1});default:return e}},standardReport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,a=t.payload;switch(n){case Lo.SET_SELECTED_REPORT:return Object(d.a)({},e,{selectedReport:a});case Lo.LOADING_STANDARD_REPORTS_START:return Object(d.a)({},e,{loading:!0});case Lo.LOADING_STANDARD_REPORTS_SUCCESS:return Object(d.a)({},e,{reports:a,loading:!1});case Lo.LOADING_STANDARD_REPORTS_ERROR:return Object(d.a)({},e,{loading:!1});case Lo.SET_SEARCH:return Object(d.a)({},e,{search:a});case Lo.ADD_REPORT_FORM_SHOW:return Object(d.a)({},e,{open:!0,selectedReport:a,selectedAction:"ADD_NEW_REPORT_ACTION"});case Lo.EDIT_REPORT_FORM_SHOW:return Object(d.a)({},e,{selectedReport:a,selectedAction:uo});case Lo.CREATE_REPORT_SHOW:return Object(d.a)({},e,{open:!0,selectedReport:a,selectedAction:so});case Lo.SHARING_SETTINGS_SHOW:return Object(d.a)({},e,{open:!0,selectedReport:a,selectedAction:mo});case Lo.ADD_REPORT_FORM_HIDE:case Lo.EDIT_REPORT_FORM_HIDE:case Lo.CREATE_REPORT_HIDE:case Lo.SHARIING_SETTINGS_HIDE:case Lo.CLOSE_CONTEXT_MENU:return Object(d.a)({},e,{open:!1,selectedReport:{},selectedAction:""});case Lo.REQUEST_DELETE_STANDARD_REPORT:return Object(d.a)({},e,{requestDelete:!0,selectedReport:a,selectedAction:po});case Lo.DELETE_STANDARD_REPORT_START:return Object(d.a)({},e,{requestDelete:!1,loading:!0});case Lo.DELETE_STANDARD_REPORT_SUCCESS:return Object(d.a)({},e,{selectedReport:{},selectedAction:"",loading:!1});case Lo.DELETE_STANDARD_REPORT_ERROR:return Object(d.a)({},e,{loading:!1});case Lo.LOADING_STANDARD_REPORTS_DETAILS_START:return Object(d.a)({},e,{loadingDetails:!0});case Lo.LOADING_STANDARD_REPORTS_DETAILS_SUCCESS:return Object(d.a)({},e,{open:!0,loadingDetails:!1,selectedReport:a});case Lo.LOADING_STANDARD_REPORTS_DETAILS_ERROR:return Object(d.a)({},e,{loadingDetails:!1});case Lo.STANDARD_REPORT_SEND_START:return Object(d.a)({},e,{loadingSendReport:!0});case Lo.STANDARD_REPORT_SEND_SUCCESS:case Lo.STANDARD_REPORT_SEND_ERROR:return Object(d.a)({},e,{open:!1,loadingSendReport:!1});case Lo.DEFINE_REQUIRED_PARAMS:return Object(d.a)({},e,{reportParams:a,showReportParams:!0});case Lo.REQUIRED_PARAMS_ERROR:return Object(d.a)({},e,{reportParamsErrors:a});case Lo.GENERATE_PDF_REPORT:case Lo.CANCEL_GENERATING_PDF_REPORT:case Je:return Object(d.a)({},e,{reportParams:{},reportParamsErrors:[],showReportParams:!1});default:return e}},standardReportTables:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ji,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,a=t.payload;switch(n){case Po:return Object(d.a)({},e,{loading:!0});case xo:return Object(d.a)({},e,{loading:!1,collection:a});case wo:return Object(d.a)({},e,{loading:!1});default:return e}},dataSetReport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ol,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,a=t.payload;switch(n){case ut:return Object(d.a)({},e,{selectedUnitOnly:a});default:return e}},reportPeriod:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Xi.REPORT_PERIOD_TYPES_RECEIVED:return Object(d.a)({},e,{loading:!1,collection:a});case Xi.REPORT_PERIOD_TYPES_ERRORED:return Object(d.a)({},e,{loading:!1});case Xi.REPORT_PERIOD_TYPE_SELECTED:return Object(d.a)({},e,{selectedPeriodType:a,selectedPeriod:""});case Xi.REPORT_PERIOD_SELECTED:return Object(d.a)({},e,{selectedPeriod:a});case Xi.LOCATION_CHANGE:return Object(d.a)({},$i,{loading:e.loading,collection:e.collection});default:return e}},organisationUnits:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:el,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Zi.ORGANISATION_UNITS_RECEIVED:return Object(d.a)({},e,{loading:!1,collection:a});case Zi.ORGANISATION_UNITS_ERRORED:return Object(d.a)({},e,{loading:!1});case Zi.ORGANISATION_UNIT_SELECTED:return Object(d.a)({},e,{selected:a});case Zi.ORGANISATION_UNITS_OPTION_SELECTED:return Object(d.a)({},e,{selectedOptions:Object(d.a)({},e.selectedOptions,Object(D.a)({},a.id,a.value))});case Zi.TOGGLE_SHOW_OPTIONS:return Object(d.a)({},e,{showOptions:!e.showOptions});case Zi.LOCATION_CHANGE:return Object(d.a)({},el,{loading:!1,collection:e.collection});default:return e}},orgUnitGroupSets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tl,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,a=t.payload;switch(n){case ye.LOADING_GROUP_SETS_START:return Object(d.a)({},e,{loading:!0,collection:[]});case ye.LOADING_GROUP_SETS_SUCCESS:return Object(d.a)({},e,{loading:!1,collection:a});case ye.LOADING_GROUP_SETS_ERROR:return Object(d.a)({},e,{loading:!1});case ye.SET_GROUP_SET:return Object(d.a)({},e,{selected:a});case Ki.b:return Object(d.a)({},tl,{collection:e.collection});default:return e}},dataSet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:al,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,a=t.payload;switch(n){case Re:return Object(d.a)({},e,{selected:e.options.reduce(function(e,t){return t.id===a?t:e},{id:"",displayName:""})});case fe:return Object(d.a)({},e,{loading:!0,loadingError:"",options:[]});case ge:return Object(d.a)({},e,{loading:!1,options:a});case be:return Object(d.a)({},e,{loading:!1});case Ki.b:return Object(d.a)({},e,{selected:nl});default:return e}},dataSetDimensions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rl,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,a=t.payload;switch(n){case Fe:return Object(d.a)({},e,{loading:!0,options:[]});case Be:return Object(d.a)({},e,{loading:!1,options:a});case qe:return Object(d.a)({},e,{loading:!1});case Ve:return Object(d.a)({},e,{selected:Object(d.a)({},e.selected,Object(D.a)({},a.dimension,a.value))});case Ki.b:return Object(d.a)({},rl);default:return e}},reportData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:il,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,a=t.payload;switch(n){case ze:return Object(d.a)({},e,{loading:!0,content:{}});case Je:return Object(d.a)({},e,{loading:!1,content:a});case Ke:return Object(d.a)({},e,{loading:!1});case tt:return Object(d.a)({},e,{content:{}});case Xe:return Object(d.a)({},e,{comment:a});case Ki.b:return il;default:return e}},pagination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,a=t.payload;switch(n){case ll.GO_TO_NEXT_PAGE:return Object(d.a)({},e,{page:e.page+1});case ll.GO_TO_PREV_PAGE:return Object(d.a)({},e,{page:e.page-1});case ll.SET_PAGINATION:return a;case Xn.RESET_PAGINATION:case ll.LOCATION_CHANGE:return cl;default:return e}},orgUnitDistReport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sl;switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type){case gn:return{shouldShowChart:!1};case bn:return{shouldShowChart:!0};default:return e}},resource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dl,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,a=t.payload;switch(n){case sa:return Object(d.a)({},e,{selectedResource:a});case ta:return Object(d.a)({},e,{loading:!0});case na:return Object(d.a)({},e,{loading:!1,collection:a});case aa:return Object(d.a)({},e,{loading:!1});case ra:return Object(d.a)({},e,{search:a});case la:return Object(d.a)({},e,{open:!0,selectedResource:a,selectedAction:Wa});case ia:return Object(d.a)({},e,{open:!0,selectedResource:a,selectedAction:Ha});case ca:return Object(d.a)({},e,{open:!0,selectedAction:Ga});case ua:return Object(d.a)({},e,{loading:!0});case da:case pa:return Object(d.a)({},e,{loading:!1});case ma:return Object(d.a)({},e,{open:!1,selectedAction:"",selectedResource:ul});case Ea:case fa:return Object(d.a)({},e,{addEditLoading:!0});case ha:case ga:return Object(d.a)({},e,{addEditLoading:!1,open:!1,selectedAction:"",selectedResource:ul});case Ra:case ba:return Object(d.a)({},e,{addEditLoading:!1});default:return e}}}),ml=Object(Hi.createStore)(pl,Object(qi.composeWithDevTools)(Object(Hi.applyMiddleware)(Object(Bi.a)(Yi),Fi.a))),El=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function hl(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Rl=n(445),fl=n.n(Rl),gl=n(739);fl.a.locale("en"),g.a.addResources("en","reports-app",gl),g.a.setDefaultNamespace("reports-app"),g.a.changeLanguage("en");var bl=g.a,Sl=["ar","fa","ur"],Ol=Sl.map(function(e){return"".concat(e,"-")}),yl=function(e){return Sl.includes(e)||Ol.filter(function(t){return e.startsWith(t)}).length>0},_l=function(e){var t=e.keyUiLocale;yl(t)&&document.body.setAttribute("dir","rtl"),bl.changeLanguage(t)},Tl={settings:g.a.t("Settings"),app_search_placeholder:g.a.t("Search apps"),profile:g.a.t("Profile"),account:g.a.t("Account"),help:g.a.t("Help"),log_out:g.a.t("Log out"),about_dhis2:g.a.t("About DHIS 2"),manage_my_apps:g.a.t("Manage my apps"),no_results_found:g.a.t("No results found"),interpretations:g.a.t("Interpretations"),messages:g.a.t("Messages"),display_name:g.a.t("Name"),report_table:g.a.t("Report Table"),id:g.a.t("ID"),createReport:g.a.t("Create"),editReport:g.a.t("Edit Report"),actions:g.a.t("Actions"),delete:g.a.t("Delete"),sharingSettings:g.a.t("Sharing Settings"),viewResource:g.a.t("View Resource"),editResource:g.a.t("Edit Resource"),add_users_and_user_groups:g.a.t("Add users and user groups"),enter_names:g.a.t("Enter names"),share:g.a.t("Sharing settings"),metadata:g.a.t("Permissions"),created_by:g.a.t("Created By"),who_has_access:g.a.t("Who has access"),external_access:g.a.t("External access (without login)"),can_edit_and_view:g.a.t("Can edit and view"),can_view:g.a.t("Can view"),can_view_only:g.a.t("Can view only"),no_access:g.a.t("No access"),public_access:g.a.t("Public access (with login)"),public_can_edit:g.a.t("Public can edit"),public_can_view:g.a.t("Public can view"),anyone_can_find_view_and_edit:g.a.t("Public can find, view and edit"),anyone_can_find_and_view:g.a.t("Public can find and view"),close:g.a.t("Close"),week:g.a.t("week"),month:g.a.t("month"),year:g.a.t("year"),biMonth:g.a.t("bi monthly"),day:g.a.t("day"),jan:g.a.t("jan"),feb:g.a.t("feb"),mar:g.a.t("mar"),apr:g.a.t("apr"),may:g.a.t("may"),jun:g.a.t("jun"),jul:g.a.t("jul"),aug:g.a.t("aug"),sep:g.a.t("sep"),oct:g.a.t("oct"),nov:g.a.t("nov"),dec:g.a.t("dec"),"jan-feb":g.a.t("jan-feb"),"mar-apr":g.a.t("mar-apr"),"may-jun":g.a.t("may-jun"),"jul-aug":g.a.t("jul-aug"),"sep-oct":g.a.t("sep-oct"),"nov-dec":g.a.t("nov-dec"),"nov-apr":g.a.t("nov-apr"),"may-oct":g.a.t("may-oct"),quarter:g.a.t("quarter"),Q1:g.a.t("Q1"),Q2:g.a.t("Q2"),Q3:g.a.t("Q3"),Q4:g.a.t("Q4"),sixMonth:g.a.t("six monthly"),"jan-jun":g.a.t("jan-jun"),"jul-dec":g.a.t("jul-dec"),"apr-sep":g.a.t("apr-sep"),"oct-mar":g.a.t("oct-mar"),biWeek:g.a.t("Bi-Week"),bi_week:g.a.t("Bi-Week")},vl=function(e){e&&Object.assign(e.i18n.translations,Tl)};Object(o.init)({baseUrl:"".concat("..","/api/"),schemas:["dataApprovalLevel","dataSet","organisationUnit","organisationUnitGroupSet","report","reportTable"]}).then(function(e){U=(L=e).Api.getApi()}).then(o.getUserSettings).then(_l).then(function(){var e=ee();vl(e),s.a.render(l.a.createElement(u.a,{store:ml},l.a.createElement(r.a,{history:Yi},l.a.createElement(Wi,{d2:e}))),document.getElementById("root"))}),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat(".","/service-worker.js");El?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):hl(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):hl(t,e)})}}()},679:function(e,t){},739:function(e){e.exports={Reports:"","Updating Organisation Units Tree...":"","Select Option":"","No dimensions connected to the current data set":"","Data set dimensions":"","Loading options...":"","Select Data Set":"","Data set":"","Group Set":"","Select Group Set":"","Show more options":"","Show fewer options":"","Report organisation unit":"","Select Period Type":"",Search:"","No results have been found":"","Download as":"",Share:"","Write a comment, question or interpretation of this report":"","Select file":"","No file chosen":"","Standard Report":"","View and add reports based on the JasperReports library. These can be based on report tables and can be designed in iReport.":"","View Reports":"","Data Set Report":"","View data set reports. These reports are based on data entry screens and will produce a report with aggregated data.":"","Get Report":"","Reporting Rate Summary":"","Browse the reporting rates of data sets by organisation unit and period based on various criteria for submission.":"",Resource:"","View and add resources. These resources can be uploaded documents or URLs on the web.":"","View Resources":"","Organisation Unit Distribution Report":"","Browse the organisation unit distribution report based on the organisation unit group sets and its groups.":"",CONFIRM:"","Report period":"","Use data for selected unit only":"","Get Chart":"","Add resource":"","Edit resource":"","Save resource":"",Cancel:"","Do you want to use this file as an attachment?":"",Yes:"",No:"",File:"","Name*":"",Details:"","Resource Type":"","Url*":"","Report Type*":"","Report Table*":"","Design File":"","Design File*":"","Relative periods":"","Report parameters":"",Settings:"","Cache Strategy*":"",Submit:"","Generate report":"","There are some errors you have to fix first!":"","HTML Report":"",Close:"","Get current design":"","Get HTML Report Template":"","Get Jasper Report Template":"","[ None ]":"","Jasper report with report table data source":"","Jasper report with JDBC data source":"","HTML report":"","No cache":"","Respect system setting":"","Cache for one hour":"","Cache until 6 AM tomorrow":"","Cache for two weeks":"",Days:"","Reporting day":"",Yesterday:"","Last 3 days":"","Last 7 days":"","Last 14 days":"",Weeks:"","Reporting week":"","Last Week":"","Last 2 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"",Months:"","Reporting month":"","Last month":"","Last 3 months":"","Last 6 months":"","Last 12 months":"","Months this year":"","Bi-months":"","Reporting bi-month":"","Last bi-month":"","Last 6 bi-month":"","Bi-months this year":"",Quarters:"","Reporting quarter":"","Last quarter":"","Last 4 quarters":"","Quarters of reporting year":"","Six-Months":"","Reporting six-month":"","Last six-month":"","Last 2 six-months":"","Financial Years":"","Reporting financial year":"","Last financial year":"","Last 5 financial years":"",Years:"","Reporting year":"","Last year":"","Last 5 years":"","An error occurred whole loading the data set options":"","An error occurred while loading the data set dimensions":"","An error occurred while loading the group sets!":"","Could not load organisation units":"","An error occurred while loading the organisation units!":"","Successfully loaded the {{ outputType }}":"",chart:"",table:"","An error occurred while loading the report!":"","Successfully added comment":"","An error occurred while submitting your comment!":"","Could not load period types":"","An error occurred while loading the resources!":"","Do you really want to delete this resource?":"","The resource has been deleted successfully":"","An error occurred when deleting the resource!":"","An error occurred while adding the resource!":"","An error occurred while saving the modifications!":"","An error occurred while loading the standard reports":"","An error occurred while trying to delete the standard report":"","An error occurred while loading the standard report details":"","The report has been updated successfully":"","The report has been added successfully":"","An error occurred while updating the report!":"","An error occurred while adding the report!":"","An error occurred while generating the html report":"","An error occurred while loading the report table options":"",Count:"","Organisation Unit":"",Total:"",Daily:"",Weekly:"","Weekly Wednesday":"","Weekly Thursday":"","Weekly Saturday":"","Weekly Sunday":"","Bi-Weekly":"",Monthly:"","Bi-Monthly":"",Quarterly:"","Six-Monthly":"","Six-Monthly April":"","Six-Monthly November":"",Yearly:"","Financial-April":"","Financial-July":"","Financial-Oct":"",Name:"","Something went wrong when processing your request.":"","Search apps":"",Profile:"",Account:"",Help:"","Log out":"","About DHIS 2":"","Manage my apps":"","No results found":"",Interpretations:"",Messages:"","Report Table":"",ID:"",Create:"","Edit Report":"",Actions:"",Delete:"","Sharing Settings":"","View Resource":"","Edit Resource":"","Add users and user groups":"","Enter names":"","Sharing settings":"",Permissions:"","Created By":"","Who has access":"","External access (without login)":"","Can edit and view":"","Can view":"","Can view only":"","No access":"","Public access (with login)":"","Public can edit":"","Public can view":"","Public can find, view and edit":"","Public can find and view":"",week:"",month:"",year:"","bi monthly":"",day:"",jan:"",feb:"",mar:"",apr:"",may:"",jun:"",jul:"",aug:"",sep:"",oct:"",nov:"",dec:"","jan-feb":"","mar-apr":"","may-jun":"","jul-aug":"","sep-oct":"","nov-dec":"","nov-apr":"","may-oct":"",quarter:"",Q1:"",Q2:"",Q3:"",Q4:"","six monthly":"","jan-jun":"","jul-dec":"","apr-sep":"","oct-mar":"","Bi-Week":"","External url":"","Upload file":"","Confirm delete":"",bar_chart:""}},808:function(e,t,n){e.exports=n(1732)}},[[808,1,2]]]);
//# sourceMappingURL=main.44a625d4.chunk.js.map